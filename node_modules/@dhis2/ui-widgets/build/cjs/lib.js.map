{"version":3,"file":"lib.js","sources":["../../src/InputField/InputField.js","../../src/HeaderBar/joinPath.js","../../src/HeaderBar/Apps.js","../../src/HeaderBar/ImageIcon.js","../../src/HeaderBar/TextIcon.js","../../src/HeaderBar/Profile/ProfileHeader.js","../../src/HeaderBar/Profile/ProfileMenu.js","../../src/HeaderBar/Profile.js","../../src/HeaderBar/LogoImage.js","../../src/HeaderBar/Logo.js","../../src/HeaderBar/Title.js","../../src/HeaderBar/NotificationIcon.js","../../src/HeaderBar/Notifications.js","../../src/HeaderBar/HeaderBar.js","../../src/OrganisationUnitTree/ErrorMessage.js","../../src/OrganisationUnitTree/propTypes.js","../../src/OrganisationUnitTree/Label.js","../../src/OrganisationUnitTree/computeChildNodes.js","../../src/OrganisationUnitTree/hasDescendantSelectedPaths.js","../../src/OrganisationUnitTree/useOpenState.js","../../src/OrganisationUnitTree/fromEntries.js","../../src/OrganisationUnitTree/useOrgData/helpers.js","../../src/OrganisationUnitTree/useOrgData.js","../../src/OrganisationUnitTree/OrganisationUnitNode.js","../../src/OrganisationUnitTree/RootError.js","../../src/OrganisationUnitTree/RootLoading.js","../../src/OrganisationUnitTree/useExpanded/helpers.js","../../src/OrganisationUnitTree/useExpanded.js","../../src/OrganisationUnitTree/useForceReload.js","../../src/OrganisationUnitTree/OrganisationUnitTree.js","../../src/CheckboxField/CheckboxField.js","../../src/FieldGroup/FieldGroup.js","../../src/translate/index.js","../../src/FileInputField/FileInputField.js","../../src/MultiSelectField/MultiSelectField.js","../../src/SingleSelectField/SingleSelectField.js","../../src/SwitchField/SwitchField.js","../../src/TextAreaField/TextAreaField.js","../../src/Transfer/Actions.js","../../src/Transfer/icons.js","../../src/Transfer/AddAll.js","../../src/Transfer/AddIndividual.js","../../src/Transfer/Container.js","../../src/Transfer/Filter.js","../../src/Transfer/common/modes.js","../../src/Transfer/common/styles.js","../../src/Transfer/common/isOption.js","../../src/Transfer/common/findOptionIndex.js","../../src/Transfer/common/getModeByModifierKey.js","../../src/Transfer/common/toggleValue.js","../../src/Transfer/LeftFooter.js","../../src/Transfer/LeftHeader.js","../../src/Transfer/LeftSide.js","../../src/Transfer/EndIntersectionDetector.js","../../src/Transfer/OptionsContainer.js","../../src/Transfer/RemoveAll.js","../../src/Transfer/RemoveIndividual.js","../../src/Transfer/ReorderingActions.js","../../src/Transfer/RightHeader.js","../../src/Transfer/RightFooter.js","../../src/Transfer/RightSide.js","../../src/Transfer/TransferOption.js","../../src/Transfer/Transfer/addAllSelectableSourceOptions.js","../../src/Transfer/Transfer/addIndividualSourceOptions.js","../../src/Transfer/Transfer/createDoubleClickHandlers.js","../../src/Transfer/Transfer/defaultFilterCallback.js","../../src/Transfer/Transfer/getOptionClickHandlers.js","../../src/Transfer/Transfer/isReorderDownDisabled.js","../../src/Transfer/Transfer/isReorderUpDisabled.js","../../src/Transfer/Transfer/moveHighlightedPickedOptionDown.js","../../src/Transfer/Transfer/moveHighlightedPickedOptionUp.js","../../src/Transfer/Transfer/removeAllPickedOptions.js","../../src/Transfer/Transfer/removeIndividualPickedOptions.js","../../src/Transfer/Transfer/useFilter.js","../../src/Transfer/Transfer/useHighlightedOptions/toggleAdd.js","../../src/Transfer/Transfer/useHighlightedOptions/toggleRange.js","../../src/Transfer/Transfer/useHighlightedOptions/toggleReplace.js","../../src/Transfer/Transfer/useHighlightedOptions/createToggleHighlightedOption.js","../../src/Transfer/Transfer/useHighlightedOptions.js","../../src/Transfer/Transfer.js"],"sourcesContent":["import propTypes from '@dhis2/prop-types'\nimport React from 'react'\n\nimport { sharedPropTypes } from '@dhis2/ui-constants'\nimport { Field, Input, Box } from '@dhis2/ui-core'\n\n/**\n * @module\n * @param {InputField.PropTypes} props\n * @returns {React.Component}\n *\n * @example import { InputField } from '@dhis2/ui-widgets'\n *\n * @see Specification: {@link https://github.com/dhis2/design-system/blob/master/atoms/inputfield.md|Design system}\n * @see Live demo: {@link /demo/?path=/story/inputfield--no-placeholder-no-value|Storybook}\n */\nclass InputField extends React.Component {\n    render() {\n        const {\n            className,\n            onChange,\n            onFocus,\n            onBlur,\n            initialFocus,\n            type,\n            dense,\n            required,\n            label,\n            disabled,\n            readOnly,\n            placeholder,\n            name,\n            valid,\n            error,\n            warning,\n            loading,\n            value,\n            tabIndex,\n            helpText,\n            validationText,\n            inputWidth,\n            dataTest,\n        } = this.props\n\n        return (\n            <Field\n                className={className}\n                dataTest={dataTest}\n                error={error}\n                warning={warning}\n                valid={valid}\n                helpText={helpText}\n                validationText={validationText}\n                label={label}\n                name={name}\n                disabled={disabled}\n                required={required}\n            >\n                <Box width={inputWidth} minWidth=\"72px\">\n                    <Input\n                        onFocus={onFocus}\n                        onBlur={onBlur}\n                        onChange={onChange}\n                        name={name}\n                        type={type}\n                        value={value || ''}\n                        placeholder={placeholder}\n                        disabled={disabled}\n                        valid={valid}\n                        warning={warning}\n                        error={error}\n                        loading={loading}\n                        dense={dense}\n                        tabIndex={tabIndex}\n                        initialFocus={initialFocus}\n                        readOnly={readOnly}\n                    />\n                </Box>\n            </Field>\n        )\n    }\n}\n\nInputField.defaultProps = {\n    dataTest: 'dhis2-uiwidgets-inputfield',\n}\n\n/**\n * @typedef {Object} PropTypes\n * @static\n *\n * @prop {string} name\n * @prop {string} [type=text]\n * @prop {function} [onChange]\n * @prop {function} [onBlur]\n * @prop {function} [onFocus]\n * @prop {string} [label]\n * @prop {string} [className]\n * @prop {string} [placeholder]\n * @prop {string} [value]\n * @prop {string} [tabIndex]\n * @prop {string} [inputWidth]\n *\n * @prop {boolean} [required]\n * @prop {boolean} [disabled]\n * @prop {boolean} [readOnly]\n * @prop {boolean} [dense] - Compact mode\n * @prop {boolean} [initialFocus]\n *\n * @prop {boolean} [valid] - `valid`, `warning`, `error`, and `loading`\n * are mutually exclusive\n * @prop {boolean} [warning]\n * @prop {boolean} [error]\n * @prop {boolean} [loading]\n *\n * @prop {string} [validationText]\n * @prop {string} [helpText]\n * @prop {string} [dataTest]\n */\nInputField.propTypes = {\n    className: propTypes.string,\n    dataTest: propTypes.string,\n    dense: propTypes.bool,\n    disabled: propTypes.bool,\n    error: sharedPropTypes.statusPropType,\n    helpText: propTypes.string,\n    initialFocus: propTypes.bool,\n    inputWidth: propTypes.string,\n    label: propTypes.string,\n    loading: propTypes.bool,\n    name: propTypes.string,\n    placeholder: propTypes.string,\n    readOnly: propTypes.bool,\n    required: propTypes.bool,\n    tabIndex: propTypes.string,\n    type: Input.propTypes.type,\n    valid: sharedPropTypes.statusPropType,\n    validationText: propTypes.string,\n    value: propTypes.string,\n    warning: sharedPropTypes.statusPropType,\n    onBlur: propTypes.func,\n    onChange: propTypes.func,\n    onFocus: propTypes.func,\n}\n\nexport { InputField }\n","export const joinPath = (...parts) => {\n    const realParts = parts.filter(part => !!part)\n    return realParts.map(part => part.replace(/^\\/+|\\/+$/g, '')).join('/')\n}\n","import { Card } from '@dhis2/ui-core'\nimport { Settings, Apps as AppsIcon } from '@dhis2/ui-icons'\nimport { colors, theme } from '@dhis2/ui-constants'\nimport { useConfig } from '@dhis2/app-runtime'\nimport React from 'react'\nimport css from 'styled-jsx/css'\nimport i18n from '@dhis2/d2-i18n'\nimport propTypes from '@dhis2/prop-types'\n\nimport { InputField } from '../InputField/InputField.js'\nimport { joinPath } from './joinPath.js'\n\nconst appIcon = css.resolve`\n    svg {\n        fill: ${colors.white};\n        cursor: pointer;\n        height: 24px;\n        width: 24px;\n    }\n`\n\nconst settingsIcon = css.resolve`\n    svg {\n        margin: 8px 8px 0 16px;\n        color: ${colors.grey900};\n        height: 24px;\n        width: 24px;\n        cursor: pointer;\n    }\n`\n\n/**\n * Copied from here:\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#Escaping\n */\nfunction escapeRegExpCharacters(text) {\n    return text.replace(/[/.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\n}\n\nfunction Search({ value, onChange }) {\n    const { baseUrl } = useConfig()\n\n    return (\n        <div>\n            <span>\n                <InputField\n                    value={value}\n                    name=\"filter\"\n                    placeholder={i18n.t('Search apps')}\n                    onChange={onChange}\n                    initialFocus\n                />\n            </span>\n\n            <span>\n                <a href={joinPath(baseUrl, 'dhis-web-menu-management')}>\n                    <Settings className={settingsIcon.className} />\n                </a>\n            </span>\n\n            {settingsIcon.styles}\n            <style jsx>{`\n                div {\n                    display: flex;\n                    flex-direction: row;\n                    flex-wrap: nowrap;\n                    height: 52px;\n                    margin: 8px;\n                }\n\n                span {\n                    flex: 1 100%;\n                }\n\n                span:last-child {\n                    flex: 1 auto;\n                }\n            `}</style>\n        </div>\n    )\n}\n\nSearch.propTypes = {\n    value: propTypes.string.isRequired,\n    onChange: propTypes.func.isRequired,\n}\n\nfunction Item({ name, path, img }) {\n    return (\n        <a href={path}>\n            <img src={img} alt=\"app logo\" />\n\n            <div>{name}</div>\n\n            <style jsx>{`\n                a {\n                    display: inline-block;\n                    display: flex;\n                    flex-direction: column;\n                    align-items: center;\n                    justify-content: center;\n                    width: 96px;\n                    margin: 8px;\n                    padding: 8px;\n                    border-radius: 12px;\n                    text-decoration: none;\n                    cursor: pointer;\n                }\n\n                a:hover,\n                a:focus {\n                    background-color: ${theme.primary050};\n                    cursor: pointer;\n                }\n\n                a:hover > div {\n                    font-weight: 500;\n                    cursor: pointer;\n                }\n\n                img {\n                    width: 48px;\n                    height: 48px;\n                    cursor: pointer;\n                }\n\n                div {\n                    margin-top: 14px;\n                    color: rgba(0, 0, 0, 0.87);\n                    font-size: 12px;\n                    letter-spacing: 0.01em;\n                    line-height: 14px;\n                    text-align: center;\n                    cursor: pointer;\n                }\n            `}</style>\n        </a>\n    )\n}\n\nItem.propTypes = {\n    img: propTypes.string,\n    name: propTypes.string,\n    path: propTypes.string,\n}\n\nfunction List({ apps, filter }) {\n    return (\n        <div data-test=\"headerbar-apps-menu-list\">\n            {apps\n                .filter(({ displayName, name }) => {\n                    const appName = displayName || name\n                    const formattedAppName = appName.toLowerCase()\n                    const formattedFilter = escapeRegExpCharacters(\n                        filter\n                    ).toLowerCase()\n\n                    return filter.length > 0\n                        ? formattedAppName.match(formattedFilter)\n                        : true\n                })\n                .map(({ displayName, name, defaultAction, icon }, idx) => (\n                    <Item\n                        key={`app-${name}-${idx}`}\n                        name={displayName || name}\n                        path={defaultAction}\n                        img={icon}\n                    />\n                ))}\n\n            <style jsx>{`\n                div {\n                    display: flex;\n                    flex-direction: row;\n                    flex-wrap: wrap;\n                    align-content: flex-start;\n                    align-items: flex-start;\n                    justify-content: flex-start;\n                    width: 30vw;\n                    min-width: 300px;\n                    max-width: 560px;\n\n                    min-height: 200px;\n                    max-height: 465px;\n                    margin: 0 8px 8px 8px;\n\n                    overflow: auto;\n                    overflow-x: hidden;\n                }\n            `}</style>\n        </div>\n    )\n}\nList.propTypes = {\n    apps: propTypes.array,\n    filter: propTypes.string,\n}\n\nexport default class Apps extends React.Component {\n    state = {\n        show: false,\n        filter: '',\n    }\n\n    componentDidMount() {\n        document.addEventListener('click', this.onDocClick)\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('click', this.onDocClick)\n    }\n\n    onDocClick = evt => {\n        if (this.elContainer && !this.elContainer.contains(evt.target)) {\n            this.setState({ show: false })\n        }\n    }\n\n    onToggle = () => this.setState({ show: !this.state.show })\n\n    onChange = ({ value }) => this.setState({ filter: value })\n\n    AppMenu = apps => (\n        <div data-test=\"headerbar-apps-menu\">\n            <Card>\n                <Search value={this.state.filter} onChange={this.onChange} />\n                <List apps={apps} filter={this.state.filter} />\n            </Card>\n\n            <style jsx>{`\n                div {\n                    z-index: 10000;\n                    position: absolute;\n                    top: 28px;\n                    right: -6px;\n                    border-top: 4px solid transparent;\n                }\n            `}</style>\n        </div>\n    )\n\n    render() {\n        const apps = this.props.apps\n        return (\n            <div ref={c => (this.elContainer = c)} data-test=\"headerbar-apps\">\n                <a onClick={this.onToggle} data-test=\"headerbar-apps-icon\">\n                    <AppsIcon className={appIcon.className} />\n                </a>\n\n                {this.state.show && this.AppMenu(apps)}\n\n                {appIcon.styles}\n                <style jsx>{`\n                    a {\n                        display: block;\n                    }\n\n                    div {\n                        position: relative;\n                        width: 24px;\n                        height: 30px;\n                        margin: 8px 0 0 0;\n                    }\n                `}</style>\n            </div>\n        )\n    }\n}\n\nApps.propTypes = {\n    apps: propTypes.array.isRequired,\n}\n","import React from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nexport const ImageIcon = ({ src, onClick, dataTestId }) => (\n    <div onClick={onClick} data-test={dataTestId}>\n        <img src={src} alt=\"user avatar\" />\n\n        <style jsx>{`\n            img {\n                max-width: 100%;\n                max-height: 100%;\n            }\n\n            div {\n                width: 48px;\n                height: 48px;\n            }\n        `}</style>\n    </div>\n)\n\nImageIcon.defaultProps = {\n    onClick: undefined,\n}\n\nImageIcon.propTypes = {\n    src: propTypes.string.isRequired,\n    dataTestId: propTypes.string,\n    onClick: propTypes.func,\n}\n","import React from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nexport const TextIcon = ({ name, onClick, dataTestId }) => {\n    let title = name[0]\n\n    if (name.indexOf(' ') > 0) {\n        title += name.split(' ')[1][0]\n    }\n\n    return (\n        <div onClick={onClick} data-test={dataTestId}>\n            <p>{title}</p>\n\n            <style jsx>{`\n                div {\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    width: 36px;\n                    height: 36px;\n                    overflow: hidden;\n                    border-radius: 50%;\n                    background-color: rgba(0, 0, 0, 0.3);\n                    color: #fff;\n                    cursor: pointer;\n                }\n\n                p {\n                    font-size: 14px;\n                    font-weight: 500;\n                    letter-spacing: 1px;\n                    text-align: center;\n                    text-transform: uppercase;\n                }\n            `}</style>\n        </div>\n    )\n}\n\nTextIcon.defaultProps = {\n    onClick: undefined,\n}\n\nTextIcon.propTypes = {\n    name: propTypes.string.isRequired,\n    dataTestId: propTypes.string,\n    onClick: propTypes.func,\n}\n","import { useConfig } from '@dhis2/app-runtime'\nimport React from 'react'\nimport i18n from '@dhis2/d2-i18n'\nimport propTypes from '@dhis2/prop-types'\n\nimport { ImageIcon } from '../ImageIcon.js'\nimport { TextIcon } from '../TextIcon.js'\nimport { joinPath } from '../joinPath.js'\n\nconst ProfileName = ({ children }) => (\n    <div data-test=\"headerbar-profile-username\">\n        {children}\n\n        <style jsx>{`\n            div {\n                margin-bottom: 3px;\n                font-size: 16px;\n                line-height: 19px;\n            }\n        `}</style>\n    </div>\n)\nProfileName.propTypes = {\n    children: propTypes.string,\n}\n\nconst ProfileEmail = ({ children }) => (\n    <div data-test=\"headerbar-profile-user-email\">\n        {children}\n\n        <style jsx>{`\n            div {\n                margin-bottom: 6px;\n                font-size: 14px;\n                line-height: 16px;\n            }\n        `}</style>\n    </div>\n)\nProfileEmail.propTypes = {\n    children: propTypes.string,\n}\n\nconst ProfileEdit = ({ children }) => {\n    const { baseUrl } = useConfig()\n\n    return (\n        <a\n            href={joinPath(baseUrl, 'dhis-web-user-profile/#/profile')}\n            data-test=\"headerbar-profile-edit-profile-link\"\n        >\n            {children}\n\n            <style jsx>{`\n                a {\n                    color: rgba(0, 0, 0, 0.87);\n                    font-size: 12px;\n                    line-height: 14px;\n                    text-decoration: underline;\n                    cursor: pointer;\n                }\n            `}</style>\n        </a>\n    )\n}\n\nProfileEdit.propTypes = {\n    children: propTypes.string,\n}\n\nconst ProfileDetails = ({ name, email }) => (\n    <div>\n        <ProfileName>{name}</ProfileName>\n        <ProfileEmail>{email}</ProfileEmail>\n        <ProfileEdit>{i18n.t('Edit profile')}</ProfileEdit>\n\n        <style jsx>{`\n            div {\n                display: flex;\n                flex-direction: column;\n                margin-left: 20px;\n                color: #000;\n                font-size: 14px;\n                font-weight: 400;\n            }\n        `}</style>\n    </div>\n)\n\nProfileDetails.propTypes = {\n    email: propTypes.string,\n    name: propTypes.string,\n}\n\nexport const ProfileHeader = ({ name, email, img }) => (\n    <div>\n        {img ? <ImageIcon src={img} /> : <TextIcon name={name} />}\n\n        <ProfileDetails name={name} email={email} />\n\n        <style jsx>{`\n            div {\n                display: flex;\n                flex-direction: row;\n                margin-left: 24px;\n                padding-top: 20px;\n            }\n        `}</style>\n    </div>\n)\n\nProfileHeader.propTypes = {\n    email: propTypes.string,\n    img: propTypes.string,\n    name: propTypes.string,\n}\n","import { Account } from '@dhis2/ui-icons'\nimport { Card, Divider, MenuItem } from '@dhis2/ui-core'\nimport { Exit } from '@dhis2/ui-icons'\nimport { Help } from '@dhis2/ui-icons'\nimport { Info } from '@dhis2/ui-icons'\nimport { Settings } from '@dhis2/ui-icons'\nimport { colors } from '@dhis2/ui-constants'\nimport { useConfig } from '@dhis2/app-runtime'\nimport React from 'react'\nimport css from 'styled-jsx/css'\nimport i18n from '@dhis2/d2-i18n'\nimport propTypes from '@dhis2/prop-types'\n\nimport { ProfileHeader } from './ProfileHeader.js'\nimport { joinPath } from '../joinPath.js'\n\nconst iconStyle = css.resolve`\n    svg {\n        fill: ${colors.grey700};\n        cursor: pointer;\n        height: 24px;\n        width: 24px;\n    }\n`\n\nconst getMenuList = () => [\n    {\n        icon: <Settings className={iconStyle.className} />,\n        label: i18n.t('Settings'),\n        value: 'settings',\n        link: 'dhis-web-user-profile/#/settings',\n    },\n    {\n        icon: <Account className={iconStyle.className} />,\n        label: i18n.t('Account'),\n        value: 'account',\n        link: 'dhis-web-user-profile/#/account',\n    },\n    {\n        icon: <Help className={iconStyle.className} />,\n        label: i18n.t('Help'),\n        value: 'help',\n        link:\n            'https://docs.dhis2.org/master/en/user/html/dhis2_user_manual_en.html',\n        nobase: true,\n    },\n    {\n        icon: <Info className={iconStyle.className} />,\n        label: i18n.t('About DHIS2'),\n        value: 'about',\n        link: 'dhis-web-user-profile/#/aboutPage',\n    },\n    {\n        icon: <Exit className={iconStyle.className} />,\n        label: i18n.t('Logout'),\n        value: 'logout',\n        link: 'dhis-web-commons-security/logout.action',\n    },\n]\n\nconst ProfileContents = ({ name, email, avatar }) => {\n    const { baseUrl } = useConfig()\n\n    return (\n        <Card>\n            <div>\n                <ProfileHeader name={name} email={email} img={avatar} />\n                <Divider margin=\"13px 0 7px 0\" />\n                <ul data-test=\"headerbar-profile-menu\">\n                    {getMenuList().map(\n                        ({ label, value, icon, link, nobase }) => (\n                            <MenuItem\n                                href={nobase ? link : joinPath(baseUrl, link)}\n                                key={`h-mi-${value}`}\n                                label={label}\n                                value={value}\n                                icon={icon}\n                            />\n                        )\n                    )}\n                </ul>\n            </div>\n\n            {iconStyle.styles}\n            <style jsx>{`\n                div {\n                    width: 100%;\n                    padding: 0;\n                }\n\n                ul {\n                    padding: 0;\n                    margin: 0;\n                }\n\n                a,\n                a:hover,\n                a:focus,\n                a:active,\n                a:visited {\n                    text-decoration: none;\n                    display: block;\n                }\n            `}</style>\n        </Card>\n    )\n}\n\nProfileContents.propTypes = {\n    avatar: propTypes.element,\n    email: propTypes.string,\n    name: propTypes.string,\n}\n\nexport const ProfileMenu = ({ avatar, name, email }) => (\n    <div data-test=\"headerbar-profile-menu\">\n        <ProfileContents name={name} email={email} avatar={avatar} />\n        <style jsx>{`\n            div {\n                z-index: 10000;\n                position: absolute;\n                top: 34px;\n                right: -6px;\n                width: 310px;\n                border-top: 4px solid transparent;\n            }\n        `}</style>\n    </div>\n)\n\nProfileMenu.propTypes = {\n    avatar: propTypes.element,\n    email: propTypes.string,\n    name: propTypes.string,\n}\n","import React from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nimport { ImageIcon } from './ImageIcon.js'\nimport { ProfileMenu } from './Profile/ProfileMenu.js'\nimport { TextIcon } from './TextIcon.js'\nimport { joinPath } from './joinPath.js'\n\nfunction avatarPath(avatar, baseUrl) {\n    if (!avatar) {\n        return null\n    }\n\n    return joinPath(baseUrl, 'api/fileResources', avatar.id, 'data')\n}\n\nexport default class Profile extends React.Component {\n    state = {\n        show: false,\n    }\n\n    componentDidMount() {\n        document.addEventListener('click', this.onDocClick)\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('click', this.onDocClick)\n    }\n\n    onDocClick = evt => {\n        if (this.elContainer && !this.elContainer.contains(evt.target)) {\n            this.setState({ show: false })\n        }\n    }\n\n    onToggle = () => this.setState({ show: !this.state.show })\n\n    userIcon(me, baseUrl) {\n        const avatar = avatarPath(me.avatar, baseUrl)\n\n        if (avatar) {\n            return (\n                <ImageIcon\n                    src={avatar}\n                    onClick={this.onToggle}\n                    dataTestId=\"headerbar-profile-icon-image\"\n                />\n            )\n        }\n\n        return (\n            <TextIcon\n                name={me.name}\n                onClick={this.onToggle}\n                dataTestId=\"headerbar-profile-icon-text\"\n            />\n        )\n    }\n\n    render() {\n        const { user, baseUrl } = this.props\n\n        return (\n            <div\n                ref={c => (this.elContainer = c)}\n                data-test=\"headerbar-profile\"\n            >\n                {this.userIcon(user, baseUrl)}\n\n                {this.state.show ? (\n                    <ProfileMenu\n                        avatar={avatarPath(user.avatar, baseUrl)}\n                        name={user.name}\n                        email={user.email}\n                    />\n                ) : null}\n\n                <style jsx>{`\n                    div {\n                        position: relative;\n                        width: 36px;\n                        height: 36px;\n                        margin: 2px 12px 0 24px;\n                    }\n                `}</style>\n            </div>\n        )\n    }\n}\n\nProfile.propTypes = {\n    baseUrl: propTypes.string.isRequired,\n    user: propTypes.object.isRequired,\n}\n","import React from 'react'\nimport css from 'styled-jsx/css'\n\nimport { useDataQuery } from '@dhis2/app-runtime'\nimport { LogoIconWhite } from '@dhis2/ui-core'\n\nconst logoStyles = css.resolve`\n    svg {\n        height: 25px;\n        width: 27px;\n    }\n\n    img {\n        max-height: 100%;\n        min-height: auto;\n        width: auto;\n    }\n`\n\nconst query = {\n    customLogo: {\n        resource: 'staticContent/logo_banner',\n    },\n}\n\nconst pathExists = data =>\n    data &&\n    data.customLogo &&\n    data.customLogo.images &&\n    data.customLogo.images.png\n\nexport const LogoImage = () => {\n    const { loading, error, data } = useDataQuery(query)\n\n    if (loading) return null\n\n    let Logo\n    if (!error && pathExists(data)) {\n        Logo = (\n            <img\n                alt=\"Headerbar Logo\"\n                src={data.customLogo.images.png}\n                className={logoStyles.className}\n            />\n        )\n    } else {\n        Logo = <LogoIconWhite className={logoStyles.className} />\n    }\n\n    return (\n        <div>\n            {Logo}\n\n            {logoStyles.styles}\n            <style jsx>{`\n                div {\n                    padding: 4px;\n                    min-width: 48px;\n                    max-width: 250px;\n                    height: 48px;\n\n                    display: flex;\n                    justify-content: center;\n                    align-items: center;\n                    overflow: hidden;\n                }\n            `}</style>\n        </div>\n    )\n}\n","import React from 'react'\nimport { useConfig } from '@dhis2/app-runtime'\n\nimport { LogoImage } from './LogoImage.js'\n\nexport const Logo = () => {\n    const { baseUrl } = useConfig()\n\n    return (\n        <div data-test=\"headerbar-logo\">\n            <a href={baseUrl}>\n                <LogoImage />\n            </a>\n\n            <style jsx>{`\n                div {\n                    box-sizing: border-box;\n                    min-width: 49px;\n                    max-height: 48px;\n                    margin: 0 12px 0 0;\n                    border-right: 1px solid rgba(32, 32, 32, 0.15);\n                }\n\n                a,\n                a:hover,\n                a:focus,\n                a:active,\n                a:visited {\n                    user-select: none;\n                }\n            `}</style>\n        </div>\n    )\n}\n","import React from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nexport const Title = ({ app, instance }) => (\n    <div data-test=\"headerbar-title\">\n        {app ? `${instance} - ${app}` : `${instance}`}\n\n        <style jsx>{`\n            div {\n                overflow: hidden;\n                text-overflow: ellipsis;\n                font-size: 14px;\n                font-weight: 500;\n                letter-spacing: 0.01em;\n                white-space: nowrap;\n            }\n        `}</style>\n    </div>\n)\nTitle.propTypes = {\n    app: propTypes.string,\n    instance: propTypes.string,\n}\n","import React from 'react'\nimport propTypes from '@dhis2/prop-types'\nimport css from 'styled-jsx/css'\n\nimport { colors, theme } from '@dhis2/ui-constants'\n\nimport { Email } from '@dhis2/ui-icons'\nimport { Message } from '@dhis2/ui-icons'\n\nconst messageIcon = css.resolve`\n    svg {\n        fill: ${colors.white};\n        cursor: pointer;\n        height: 24px;\n        width: 24px;\n    }\n`\n\nconst interpretationIcon = css.resolve`\n    svg {\n        fill: ${colors.white};\n        cursor: pointer;\n        height: 24px;\n        width: 24px;\n    }\n`\n\nfunction icon(kind) {\n    if (kind === 'message') {\n        return (\n            <Message className={messageIcon.className}>\n                {messageIcon.styles}\n            </Message>\n        )\n    } else {\n        return (\n            <Email className={interpretationIcon.className}>\n                {interpretationIcon.styles}\n            </Email>\n        )\n    }\n}\n\nexport const NotificationIcon = ({ count, href, kind, dataTestId }) => (\n    <a href={href} className={kind} data-test={dataTestId}>\n        {icon(kind)}\n\n        {count > 0 && <span data-test={`${dataTestId}-count`}>{count}</span>}\n\n        <style jsx>{`\n            a {\n                position: relative;\n                margin: 8px 24px 0 0;\n                cursor: pointer;\n            }\n\n            span {\n                z-index: 1;\n                position: absolute;\n                top: -6px;\n                right: -10px;\n                width: 16px;\n                height: 16px;\n                border-radius: 50%;\n                background-color: ${theme.secondary300};\n                color: #fff;\n                font-size: 9px;\n                font-weight: 500;\n                line-height: 16px;\n                text-align: center;\n                cursor: inherit;\n            }\n        `}</style>\n    </a>\n)\n\nNotificationIcon.defaultProps = {\n    count: 0,\n}\n\nNotificationIcon.propTypes = {\n    href: propTypes.string.isRequired,\n    count: propTypes.number,\n    dataTestId: propTypes.string,\n    kind: propTypes.oneOf(['interpretation', 'message']),\n}\n","import { useConfig } from '@dhis2/app-runtime'\nimport React from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nimport { NotificationIcon } from './NotificationIcon.js'\nimport { joinPath } from './joinPath.js'\n\n/*\n AUTHORITIES:\n - ALL: superuser\n - M_dhis-web-interpretation: access to interpretations app\n - M_dhis-web-messaging: access to messaging app\n */\n\nconst hasAuthority = (userAuthorities, authId) =>\n    Array.isArray(userAuthorities) &&\n    userAuthorities.some(\n        userAuthId => userAuthId === 'ALL' || userAuthId === authId\n    )\n\nexport const Notifications = ({\n    interpretations,\n    messages,\n    userAuthorities,\n}) => {\n    const { baseUrl } = useConfig()\n\n    return (\n        <div data-test=\"headerbar-notifications\">\n            {hasAuthority(userAuthorities, 'M_dhis-web-interpretation') && (\n                <NotificationIcon\n                    count={interpretations}\n                    href={joinPath(baseUrl, 'dhis-web-interpretation')}\n                    kind=\"message\"\n                    dataTestId=\"headerbar-interpretations\"\n                />\n            )}\n\n            {hasAuthority(userAuthorities, 'M_dhis-web-messaging') && (\n                <NotificationIcon\n                    message=\"email\"\n                    count={messages}\n                    href={joinPath(baseUrl, 'dhis-web-messaging')}\n                    kind=\"interpretation\"\n                    dataTestId=\"headerbar-messages\"\n                />\n            )}\n\n            <style jsx>{`\n                div {\n                    user-select: none;\n                    display: flex;\n                    flex-direction: row;\n                    align-items: center;\n                }\n            `}</style>\n        </div>\n    )\n}\n\nNotifications.propTypes = {\n    interpretations: propTypes.number,\n    messages: propTypes.number,\n    userAuthorities: propTypes.arrayOf(propTypes.string),\n}\n","import React, { useMemo } from 'react'\n\nimport propTypes from '@dhis2/prop-types'\n\nimport { useDataQuery, useConfig } from '@dhis2/app-runtime'\nimport { colors } from '@dhis2/ui-constants'\n\nimport Apps from './Apps.js'\nimport Profile from './Profile.js'\nimport { Logo } from './Logo.js'\nimport { Title } from './Title.js'\nimport { Notifications } from './Notifications.js'\n\nimport i18n from '@dhis2/d2-i18n'\nimport { joinPath } from './joinPath.js'\n\nconst query = {\n    title: {\n        resource: 'systemSettings/applicationTitle',\n    },\n    user: {\n        resource: 'me',\n    },\n    apps: {\n        resource: 'action::menu/getModules',\n    },\n    notifications: {\n        resource: 'me/dashboard',\n    },\n}\n\nexport const HeaderBar = ({ appName, className }) => {\n    const { baseUrl } = useConfig()\n    const { loading, error, data } = useDataQuery(query)\n\n    const apps = useMemo(() => {\n        const getPath = path =>\n            path.startsWith('http:') || path.startsWith('https:')\n                ? path\n                : joinPath(baseUrl, 'api', path)\n\n        return data?.apps.modules.map(app => ({\n            ...app,\n            icon: getPath(app.icon),\n            defaultAction: getPath(app.defaultAction),\n        }))\n    }, [data])\n\n    if (!loading && !error) {\n        // TODO: This will run every render which is probably wrong!  Also, setting the global locale shouldn't be done in the headerbar\n        const locale = data.user.settings.keyUiLocale || 'en'\n        i18n.setDefaultNamespace('default')\n        i18n.changeLanguage(locale)\n    }\n\n    return (\n        <header className={className}>\n            {!loading && !error && (\n                <>\n                    <Logo />\n                    <Title\n                        app={appName}\n                        instance={data.title.applicationTitle}\n                    />\n                    <div className=\"right-control-spacer\" />\n                    <Notifications\n                        interpretations={\n                            data.notifications.unreadInterpretations\n                        }\n                        messages={data.notifications.unreadMessageConversations}\n                        userAuthorities={data.user.authorities}\n                    />\n                    <Apps apps={apps} />\n                    <Profile user={data.user} baseUrl={baseUrl} />\n                </>\n            )}\n\n            <style jsx>{`\n                header {\n                    background-color: #2c6693;\n                    display: flex;\n                    flex-direction: row;\n                    align-items: center;\n                    justify-content: space-between;\n                    height: 48px;\n                    border-bottom: 1px solid rgba(32, 32, 32, 0.15);\n                    color: ${colors.white};\n                }\n                .right-control-spacer {\n                    margin-left: auto;\n                }\n            `}</style>\n        </header>\n    )\n}\n\nHeaderBar.propTypes = {\n    appName: propTypes.string,\n    className: propTypes.string,\n}\n","import React from 'react'\nimport propTypes from 'prop-types'\n\nimport { colors, spacers, theme } from '@dhis2/ui-constants'\n\nexport const ErrorMessage = ({ children, dataTest }) => (\n    <span data-test={`${dataTest}-error`}>\n        {children}\n\n        <style jsx>{`\n            span {\n                font-size: 14px;\n                color: ${colors.grey800};\n                margin: ${spacers.dp4};\n                color: ${theme.error};\n            }\n        `}</style>\n    </span>\n)\n\nErrorMessage.propTypes = {\n    children: propTypes.any.isRequired,\n    dataTest: propTypes.string.isRequired,\n}\n","/* eslint-disable max-params */\n\nconst UNIT_ID_PATTERN = '[a-zA-Z][a-zA-Z0-9]{10}'\n\nexport const orgUnitPathPropType = (\n    propValue,\n    key,\n    compName,\n    location,\n    propFullName\n) => {\n    if (!new RegExp(`(/${UNIT_ID_PATTERN})+`).test(propValue[key])) {\n        return new Error(\n            `Invalid org unit path \\`${propValue[key]}\\` supplied to \\`${compName}.${propFullName}\\``\n        )\n    }\n}\n\nexport const orgUnitIdPropType = (\n    propValue,\n    key,\n    compName,\n    location,\n    propFullName\n) => {\n    if (!new RegExp(`^${UNIT_ID_PATTERN}$`).test(propValue[key])) {\n        return new Error(\n            `Invalid org unit id \\`${propValue[key]}\\` supplied to \\`${compName}.${propFullName}\\``\n        )\n    }\n}\n","import React from 'react'\nimport propTypes from 'prop-types'\nimport cx from 'classnames'\n\nimport { Checkbox } from '@dhis2/ui-core'\nimport { colors } from '@dhis2/ui-constants'\n\nimport { FolderOpen } from '@dhis2/ui-icons'\nimport { FolderClosed } from '@dhis2/ui-icons'\nimport { Single } from '@dhis2/ui-icons'\nimport { Empty } from '@dhis2/ui-icons'\nimport { orgUnitPathPropType } from './propTypes'\n\n/**\n * @param {Object} props\n * @param {string} props.label\n * @param {Function} props.onToggleOpen\n * @param {bool} [props.loading]\n * @returns {React.Component}\n */\nconst DisabledSelectionLabel = ({ label, loading, onToggleOpen }) => (\n    <SingleSelectionLabel\n        checked={false}\n        loading={loading}\n        label={label}\n        onChange={onToggleOpen}\n    />\n)\n\nDisabledSelectionLabel.propTypes = {\n    label: propTypes.string.isRequired,\n    onToggleOpen: propTypes.func.isRequired,\n    loading: propTypes.bool,\n}\n\n/**\n * @param {Object} props\n * @param {string} props.label\n * @param {bool} [props.checked]\n * @param {bool} [props.loading]\n * @param {Function} [props.onChange]\n * @returns {React.Component}\n */\nconst SingleSelectionLabel = ({ checked, label, onChange, loading }) => (\n    <span\n        onClick={event => {\n            const payload = { checked: !checked }\n            onChange(payload, event)\n        }}\n        className={cx({ checked, loading })}\n    >\n        {label}\n\n        <style jsx>{`\n            span {\n                background: transparent;\n                border-radius: 3px;\n                color: ${colors.grey900};\n                cursor: pointer;\n                display: inline-block;\n                font-size: 14px;\n                line-height: 24px;\n                padding: 0 5px;\n                user-select: none;\n                white-space: nowrap;\n            }\n\n            .checked {\n                background: ${colors.teal700};\n                color: white;\n            }\n\n            .loading {\n                cursor: auto;\n            }\n        `}</style>\n    </span>\n)\n\nSingleSelectionLabel.propTypes = {\n    label: propTypes.string.isRequired,\n    checked: propTypes.bool,\n    loading: propTypes.bool,\n    onChange: propTypes.func,\n}\n\n/**\n * @param {Object} props\n * @param {bool} props.highlighted\n * @param {React.Component|React.Component[]} props.children\n * @returns {React.Component}\n */\nconst LabelContainer = ({ highlighted, children }) => (\n    <div className={cx({ highlighted })}>\n        <span>{children}</span>\n\n        <style jsx>{`\n            div {\n                display: flex;\n            }\n\n            span {\n                display: block;\n            }\n\n            .highlighted {\n                background: ${colors.teal200};\n                padding-right: 4px;\n            }\n        `}</style>\n    </div>\n)\n\nLabelContainer.propTypes = {\n    children: propTypes.node,\n    highlighted: propTypes.bool,\n}\n\n/**\n * @param {Object} props\n * @param {bool} props.hasChildren\n * @param {bool} props.open\n * @returns {React.Component}\n */\nconst Icon = ({ loading, hasChildren, open, dataTest }) => {\n    if (loading) {\n        return <Empty dataTest={dataTest} />\n    }\n\n    if (!hasChildren) {\n        return <Single dataTest={dataTest} />\n    }\n\n    if (open) {\n        return <FolderOpen dataTest={dataTest} />\n    }\n\n    return <FolderClosed dataTest={dataTest} />\n}\n\nIcon.propTypes = {\n    dataTest: propTypes.string.isRequired,\n    hasChildren: propTypes.bool,\n    loading: propTypes.bool,\n    open: propTypes.bool,\n}\n\nconst IconizedCheckbox = ({\n    checked,\n    dataTest,\n    hasChildren,\n    indeterminate,\n    label,\n    loading,\n    name,\n    open,\n    value,\n    onChange,\n}) => {\n    const icon = (\n        <Icon\n            loading={loading}\n            open={open}\n            hasChildren={hasChildren}\n            dataTest={dataTest}\n        />\n    )\n\n    const checkboxLabel = (\n        <>\n            <span>{icon}</span>\n            {label}\n\n            <style jsx>{`\n                span {\n                    display: inline-block;\n                    margin-right: 4px;\n                }\n            `}</style>\n        </>\n    )\n\n    return (\n        <>\n            <Checkbox\n                dense\n                checked={checked}\n                name={name}\n                value={value}\n                label={checkboxLabel}\n                indeterminate={indeterminate}\n                onChange={onChange}\n            />\n        </>\n    )\n}\n\nIconizedCheckbox.propTypes = {\n    checked: propTypes.bool.isRequired,\n    dataTest: propTypes.string.isRequired,\n    hasChildren: propTypes.bool.isRequired,\n    indeterminate: propTypes.bool.isRequired,\n    label: propTypes.string.isRequired,\n    loading: propTypes.bool.isRequired,\n    name: propTypes.string.isRequired,\n    open: propTypes.bool.isRequired,\n    value: propTypes.string.isRequired,\n    onChange: propTypes.func.isRequired,\n}\n\nconst createNewSelected = ({ selected, path, checked, singleSelection }) => {\n    const pathIndex = selected.indexOf(path)\n\n    if (checked && pathIndex !== -1) return selected\n    if (singleSelection && checked) return [path]\n    if (checked) return [...selected, path]\n    if (pathIndex === -1) return selected\n    if (singleSelection) return []\n    if (selected.indexOf(path) === 0) return selected.slice(1)\n\n    const prevSlice = selected.slice(0, pathIndex)\n    const nextSlice = selected.slice(pathIndex + 1)\n    return [...prevSlice, ...nextSlice]\n}\n\n/**\n * @module\n * @param {Label.PropTypes} props\n * @returns {React.Component}\n */\nconst Label = ({\n    id,\n    path,\n    open,\n    loading,\n    checked,\n    onChange,\n    dataTest,\n    selected,\n    hasChildren,\n    highlighted,\n    displayName,\n    onToggleOpen,\n    disableSelection,\n    singleSelection,\n    hasSelectedDescendants,\n}) => {\n    const onClick = ({ checked }, event) => {\n        const newSelected = createNewSelected({\n            selected,\n            path,\n            checked,\n            singleSelection,\n        })\n\n        onChange(\n            { id, path, checked, displayName, selected: newSelected },\n            event\n        )\n    }\n\n    if (disableSelection) {\n        return (\n            <LabelContainer highlighted={highlighted}>\n                <DisabledSelectionLabel\n                    label={displayName}\n                    loading={loading}\n                    onToggleOpen={onToggleOpen}\n                />\n            </LabelContainer>\n        )\n    }\n\n    if (singleSelection) {\n        return (\n            <LabelContainer highlighted={highlighted}>\n                <SingleSelectionLabel\n                    checked={checked}\n                    label={displayName}\n                    onChange={onClick}\n                    loading={loading}\n                >\n                    {displayName}\n                </SingleSelectionLabel>\n            </LabelContainer>\n        )\n    }\n\n    return (\n        <LabelContainer highlighted={highlighted}>\n            <IconizedCheckbox\n                dataTest={dataTest}\n                checked={checked}\n                name=\"org-unit\"\n                value={id}\n                label={displayName}\n                loading={loading}\n                indeterminate={!checked && hasSelectedDescendants}\n                onChange={onClick}\n                open={open}\n                hasChildren={hasChildren}\n            />\n        </LabelContainer>\n    )\n}\n\n/**\n * @typedef {Object} PropTypes\n * @static\n *\n * @prop {string} id\n * @prop {string} path\n * @prop {string} displayName\n * @prop {bool} open\n * @prop {bool} loading\n * @prop {bool} hasChildren\n * @prop {Function} [onChange]\n * @prop {Function} [onToggleOpen]\n * @prop {bool} [checked]\n * @prop {bool} [highlighted]\n * @prop {bool} [disableSelection]\n * @prop {bool} [singleSelection]\n * @prop {bool} [hasSelectedDescendants]\n */\nLabel.propTypes = {\n    dataTest: propTypes.string.isRequired,\n    displayName: propTypes.string.isRequired,\n    hasChildren: propTypes.bool.isRequired,\n    id: propTypes.string.isRequired,\n    loading: propTypes.bool.isRequired,\n    open: propTypes.bool.isRequired,\n    path: propTypes.string.isRequired,\n    onChange: propTypes.func.isRequired,\n    onToggleOpen: propTypes.func.isRequired,\n    checked: propTypes.bool,\n    disableSelection: propTypes.bool,\n    hasSelectedDescendants: propTypes.bool,\n    highlighted: propTypes.bool,\n    selected: propTypes.arrayOf(orgUnitPathPropType),\n    singleSelection: propTypes.bool,\n}\n\nexport { Label }\n","/**\n * @param {string[]} includedPaths\n * @param {string} path\n * @returns {bool}\n */\nconst isPathIncluded = (includedPaths, path) => {\n    const isIncluded = includedPaths.some(includedPath => {\n        if (path === includedPath) return true\n        return includedPath.indexOf(`${path}/`) === 0\n    })\n\n    return isIncluded\n}\n\n/**\n * Returns all the childrenIds that should be rendered.\n * An id will be included if it's parent's path + the id is inside\n * the \"filter\" or the parent's path + id is a substring\n * of the paths in \"filter\" (then it's a parent path of\n * the units that should be included itself)\n *\n * @param {Object} node\n * @param {Object[]} node.children\n * @param {string[]} includedPaths\n * @returns {string[]}\n */\nexport const computeChildNodes = (node, filter) => {\n    if (!filter.length) {\n        return node.children\n    }\n\n    return node.children.filter(child => {\n        return isPathIncluded(filter, `${node.path}/${child.id}`)\n    })\n}\n","/**\n * Checks wether there are descendants of a path in the\n * array of selected paths\n *\n * @param {string} path\n * @param {string[]} selected\n * @returns {bool}\n */\nexport const hasDescendantSelectedPaths = (path, selected) =>\n    selected.some(\n        selectedPath =>\n            selectedPath !== path && selectedPath.indexOf(path) === 0\n    )\n","import { useEffect, useState } from 'react'\n\n/**\n * @param {Object} args\n * @param {string} args.path\n * @param {string} [args.errorMessage]\n * @param {string} [args.autoExpandLoadingError]\n * @param {string[]} args.expanded\n * @param {Function} [args.onExpand]\n * @param {Function} [args.onCollapse]\n * @returns {Object}\n */\nexport const useOpenState = ({\n    path,\n    expanded,\n    onExpand,\n    onCollapse,\n    errorMessage,\n    autoExpandLoadingError,\n}) => {\n    const autoExpand = autoExpandLoadingError && !!errorMessage\n    const [openedOnceDueToError, setOpenedOnce] = useState(!!errorMessage)\n    const [open, setOpen] = useState(autoExpand || expanded.includes(path))\n\n    useEffect(() => {\n        if (autoExpand && !openedOnceDueToError) {\n            setOpen(true)\n            setOpenedOnce(true)\n        }\n    }, [autoExpand, openedOnceDueToError])\n\n    const onToggleOpen = () => {\n        const newOpen = !open\n        const payload = { path }\n\n        setOpen(newOpen)\n\n        if (onExpand && newOpen) {\n            onExpand(payload)\n        } else if (onCollapse && !newOpen) {\n            onCollapse(payload)\n        }\n    }\n\n    return { open, onToggleOpen }\n}\n","export const fromEntries = entries =>\n    entries.reduce(\n        (collection, [key, name]) => ({\n            ...collection,\n            [key]: name,\n        }),\n        {}\n    )\n","import { fromEntries } from '../fromEntries'\n\nconst withChildrenFields = 'children[path,displayName,id],displayName,path,id'\nconst withoutChildrenFields = 'displayName,path,id'\n\nexport const createOrgUnitQuery = id => ({\n    resource: `organisationUnits/${id}`,\n    params: ({ withChildren, isUserDataViewFallback }) => ({\n        isUserDataViewFallback,\n        fields: withChildren ? withChildrenFields : withoutChildrenFields,\n        paging: false,\n    }),\n})\n\nexport const createQuery = ids =>\n    ids.reduce((query, id) => ({ ...query, [id]: createOrgUnitQuery(id) }), {})\n\n/**\n * @param {Object[]} nodes\n * @returns {}\n */\nexport const addMissingDisplayNameProps = nodes => {\n    const nodeEntries = Object.entries(nodes)\n    const nodesWithDisplayName = nodeEntries.map(([id, node]) => {\n        const displayName = node.displayName || ''\n        return [id, { ...node, displayName }]\n    })\n\n    return fromEntries(nodesWithDisplayName)\n}\n","import { useDataQuery } from '@dhis2/app-runtime'\n\nimport { addMissingDisplayNameProps, createQuery } from './useOrgData/helpers'\n\n/**\n * @param {string[]} ids\n * @param {Object} [options]\n * @param {boolean} [options.withChildren]\n * @param {boolean} [options.isUserDataViewFallback]\n * @returns {Object}\n */\nexport const useOrgData = (\n    ids,\n    { withChildren = true, isUserDataViewFallback } = {}\n) => {\n    const query = createQuery(ids)\n    const variables = { withChildren, isUserDataViewFallback }\n    const { loading, error, data, refetch } = useDataQuery(query, { variables })\n    const nodes = data ? addMissingDisplayNameProps(data) : {}\n\n    return { loading, error, data: nodes, refetch }\n}\n","import { CircularLoader, Node } from '@dhis2/ui-core'\nimport { resolve } from 'styled-jsx/css'\nimport React, { useEffect } from 'react'\nimport i18n from '@dhis2/d2-i18n'\nimport propTypes from '@dhis2/prop-types'\n\nimport { ErrorMessage } from './ErrorMessage'\nimport { Label } from './Label'\nimport { computeChildNodes } from './computeChildNodes'\nimport { hasDescendantSelectedPaths } from './hasDescendantSelectedPaths'\nimport { orgUnitPathPropType } from './propTypes'\nimport { useOpenState } from './useOpenState'\nimport { useOrgData } from './useOrgData'\n\nconst loadingSpinnerStyles = resolve`\n    .small {\n        display: block;\n        margin: 3px 0;\n        width: 18px;\n        height: 18px;\n    }\n`\n\nconst LoadingSpinner = () => (\n    <div>\n        <CircularLoader small className={loadingSpinnerStyles.className} />\n        <style>{loadingSpinnerStyles.styles}</style>\n        <style jsx>{`\n            div {\n                width: 24px;\n            }\n        `}</style>\n    </div>\n)\n\nexport const OrganisationUnitNode = ({\n    autoExpandLoadingError,\n    dataTest,\n    disableSelection,\n    displayName,\n    expanded,\n    highlighted,\n    id,\n    isUserDataViewFallback,\n    path,\n    selected,\n    singleSelection,\n    filter,\n    onChange,\n    onChildrenLoaded,\n    onCollapse,\n    onExpand,\n}) => {\n    const { loading, error, data } = useOrgData([id], {\n        isUserDataViewFallback,\n    })\n    const childNodes =\n        !loading && !error ? computeChildNodes(data[id], filter) : []\n    const hasChildren = !!childNodes.length\n    const hasSelectedDescendants = hasDescendantSelectedPaths(path, selected)\n    const isHighlighted = highlighted.includes(path)\n    const { open, onToggleOpen } = useOpenState({\n        autoExpandLoadingError,\n        errorMessage: error && error.toString(),\n        path,\n        expanded,\n        onExpand,\n        onCollapse,\n    })\n\n    const isSelected = selected.includes(path)\n\n    useEffect(() => {\n        if (!loading && !error && onChildrenLoaded) {\n            onChildrenLoaded(data)\n        }\n    }, [loading, error, onChildrenLoaded])\n\n    const label = (\n        <Label\n            checked={isSelected}\n            dataTest={`${dataTest}-label`}\n            disableSelection={disableSelection}\n            displayName={displayName}\n            hasChildren={hasChildren}\n            hasSelectedDescendants={hasSelectedDescendants}\n            highlighted={isHighlighted}\n            id={id}\n            loading={loading}\n            onChange={onChange}\n            selected={selected}\n            onToggleOpen={onToggleOpen}\n            open={open}\n            path={path}\n            singleSelection={singleSelection}\n        />\n    )\n\n    /**\n     * No children means no arrow, therefore we have to provide something.\n     * While \"loading\" is true, \"hasChildren\" is false\n     * There are some possible children variants as content of this node:\n     *\n     * 1. Nothing; There are no children\n     * 2. Placeholder: There are children, but the Node is closed (show arrow)\n     * 3. Error: There are children and loading information somehow failed\n     * 4. Child nodes: There are children and the node is open\n     */\n    const showPlaceholder = hasChildren && !open && !error\n    const showChildNodes = hasChildren && open && !error\n\n    return (\n        <Node\n            dataTest={`${dataTest}-node`}\n            open={open}\n            onOpen={onToggleOpen}\n            onClose={onToggleOpen}\n            component={label}\n            icon={loading && <LoadingSpinner />}\n        >\n            {error && (\n                <ErrorMessage dataTest={dataTest}>\n                    {i18n.t('Could not load children')}\n                </ErrorMessage>\n            )}\n            {showPlaceholder && <span data-test={`${dataTest}-placeholder`} />}\n            {showChildNodes &&\n                childNodes.map(child => {\n                    const childPath = `${path}/${child.id}`\n                    const grandChildNodes = computeChildNodes(child, filter)\n\n                    return (\n                        <OrganisationUnitNode\n                            key={childPath}\n                            autoExpandLoadingError={autoExpandLoadingError}\n                            childNodes={grandChildNodes}\n                            dataTest={dataTest}\n                            disableSelection={disableSelection}\n                            displayName={child.displayName}\n                            expanded={expanded}\n                            filter={filter}\n                            highlighted={highlighted}\n                            id={child.id}\n                            isUserDataViewFallback={isUserDataViewFallback}\n                            path={childPath}\n                            selected={selected}\n                            singleSelection={singleSelection}\n                            onChange={onChange}\n                            onChildrenLoaded={onChildrenLoaded}\n                            onCollapse={onCollapse}\n                            onExpand={onExpand}\n                        />\n                    )\n                })}\n        </Node>\n    )\n}\n\nOrganisationUnitNode.propTypes = {\n    dataTest: propTypes.string.isRequired,\n    id: propTypes.string.isRequired,\n    onChange: propTypes.func.isRequired,\n\n    autoExpandLoadingError: propTypes.bool,\n    disableSelection: propTypes.bool,\n    displayName: propTypes.string,\n    expanded: propTypes.arrayOf(orgUnitPathPropType),\n    filter: propTypes.arrayOf(orgUnitPathPropType),\n    highlighted: propTypes.arrayOf(orgUnitPathPropType),\n    isUserDataViewFallback: propTypes.bool,\n    path: orgUnitPathPropType,\n    selected: propTypes.arrayOf(orgUnitPathPropType),\n    singleSelection: propTypes.bool,\n\n    onChildrenLoaded: propTypes.func,\n    onCollapse: propTypes.func,\n    onExpand: propTypes.func,\n}\n","import React from 'react'\nimport i18n from '@dhis2/d2-i18n'\nimport propTypes from 'prop-types'\n\nexport const RootError = ({ dataTest, error }) => (\n    <div data-test={`${dataTest}-loading`}>\n        {i18n.t('Error: ')}\n        {error}\n    </div>\n)\n\nRootError.propTypes = {\n    dataTest: propTypes.string.isRequired,\n    error: propTypes.string.isRequired,\n}\n","import { CircularLoader } from '@dhis2/ui-core'\nimport React from 'react'\nimport propTypes from 'prop-types'\n\nexport const RootLoading = ({ dataTest }) => (\n    <div data-test={`${dataTest}-loading`}>\n        <CircularLoader small />\n\n        <style jsx>{`\n            div {\n                display: flex;\n                justify-content: center;\n            }\n        `}</style>\n    </div>\n)\n\nRootLoading.propTypes = {\n    dataTest: propTypes.string.isRequired,\n}\n","/**\n * @param {string} path\n * @returns {string[]}\n */\nexport const extractAllPathsFromPath = path => {\n    // remove leading slash and split by path delimiter/slashes\n    const segments = path.replace(/^\\//, '').split('/')\n\n    const withSubPaths = segments.map((segment, index) => {\n        // take all segments from 0 to index and join them with the delimiter\n        return `/${segments.slice(0, index + 1).join('/')}`\n    })\n\n    return withSubPaths\n}\n\n/**\n * @param {string[]} initiallyExpanded\n * @returns {string[]}\n */\nexport const getInitiallyExpandedPaths = initiallyExpanded =>\n    initiallyExpanded.reduce((all, curPath) => {\n        const allPathsInCurPath = extractAllPathsFromPath(curPath)\n        return [...all, ...allPathsInCurPath]\n    }, [])\n\n/**\n * @param {Object} args\n * @param {string[]} args.expanded\n * @param {Function} args.setExpanded\n * @param {Function} [args.onExpand]\n * @param {Function} [args.onCollapse]\n * @returns {{ handleExpand: Function, handleCollapse: Function }}\n */\nexport const createExpandHandlers = ({\n    expanded,\n    setExpanded,\n    onExpand,\n    onCollapse,\n}) => {\n    const handleExpand = ({ path, ...rest }) => {\n        if (!expanded.includes(path)) {\n            setExpanded([...expanded, path])\n\n            if (onExpand) {\n                onExpand({ path, ...rest })\n            }\n        }\n    }\n\n    const handleCollapse = ({ path, ...rest }) => {\n        const pathIndex = expanded.indexOf(path)\n        if (pathIndex !== -1) {\n            const updatedExpanded =\n                pathIndex === 0\n                    ? expanded.slice(1)\n                    : [\n                          ...expanded.slice(0, pathIndex),\n                          ...expanded.slice(pathIndex + 1),\n                      ]\n\n            setExpanded(updatedExpanded)\n\n            if (onCollapse) {\n                onCollapse({ path, ...rest })\n            }\n        }\n    }\n\n    return { handleExpand, handleCollapse }\n}\n","import { useState } from 'react'\nimport {\n    getInitiallyExpandedPaths,\n    createExpandHandlers,\n} from './useExpanded/helpers'\n\n/**\n * @param {string[]} initiallyExpanded\n * @param {Function} [onExpand]\n * @param {Function} [onCollapse]\n * @returns {{ expanded: string[], handleExpand: Function, handleCollapse: Function }}\n */\nexport const useExpanded = (initiallyExpanded, onExpand, onCollapse) => {\n    const allInitiallyExpandedPaths = getInitiallyExpandedPaths(\n        initiallyExpanded\n    )\n    const [expanded, setExpanded] = useState(allInitiallyExpandedPaths)\n    const { handleExpand, handleCollapse } = createExpandHandlers({\n        expanded,\n        setExpanded,\n        onExpand,\n        onCollapse,\n    })\n\n    return { expanded, handleExpand, handleCollapse }\n}\n","import { useEffect, useState } from 'react'\n\n/**\n * This will create a new reloadId everytime \"forceReload\" changes to true,\n * which can be used as the \"key\" prop on the org unit tree.\n * When that id changes, the whole tree rerenders\n * and therefore triggers all \"useDataQuery\"s to\n * run the query again\n *\n * @param {bool} forceReload\n * @returns {Int}\n */\nexport const useForceReload = forceReload => {\n    const [reloadId, setReloadId] = useState(0)\n\n    useEffect(() => {\n        forceReload === true && setReloadId(reloadId + 1)\n    }, [forceReload])\n\n    return reloadId\n}\n","import React, { useEffect } from 'react'\nimport propTypes from 'prop-types'\n\nimport { OrganisationUnitNode } from './OrganisationUnitNode.js'\nimport { RootError } from './RootError.js'\nimport { RootLoading } from './RootLoading.js'\nimport { orgUnitPathPropType } from './propTypes.js'\nimport { useExpanded } from './useExpanded.js'\nimport { useForceReload } from './useForceReload.js'\nimport { useOrgData } from './useOrgData.js'\n\n/**\n * @module\n * @param {OrganisationUnitTree.PropTypes} props\n * @returns {React.Component}\n *\n * @example\n * import { OrganisationUnitTree } from '@dhis2/ui-widgets'\n *\n * @example\n * <OrganisationUnitTree\n *     name=\"Root org unit\"\n *     roots=\"A0000000000\"\n *     onChange={onChange}\n *     onExpand={onExpand}\n *     onCollapse={onCollapse}\n *     onChildrenLoaded={onChildrenLoaded}\n *     initiallyExpanded={['/A0000000000/A0000000001']}\n *     filter={['/A0000000000/A0000000001/A0000000003']}\n * />\n *\n * @see Specification: {@link https://github.com/dhis2/design-system/blob/master/organisms/organisation-unit-tree/org-unit-tree.md|Design system}\n * @see Live demo: {@link /demo/?path=/story/organisationunittree--collapsed|Storybook}\n */\nconst OrganisationUnitTree = ({\n    onChange,\n    roots,\n\n    autoExpandLoadingError,\n    dataTest,\n    disableSelection,\n    forceReload,\n    highlighted,\n    isUserDataViewFallback,\n    initiallyExpanded,\n    filter,\n    selected,\n    singleSelection,\n\n    onExpand,\n    onCollapse,\n    onChildrenLoaded,\n}) => {\n    const rootIds = Array.isArray(roots) ? roots : [roots]\n    const reloadId = useForceReload(forceReload)\n    const { loading, error, data, refetch } = useOrgData(rootIds, {\n        withChildren: false,\n        isUserDataViewFallback,\n    })\n    const { expanded, handleExpand, handleCollapse } = useExpanded(\n        initiallyExpanded,\n        onExpand,\n        onCollapse\n    )\n\n    useEffect(() => {\n        // do not refetch on initial render\n        if (refetch && reloadId > 0) {\n            refetch()\n        }\n    }, [reloadId, refetch])\n\n    return (\n        <div data-test={dataTest}>\n            {error && <RootError error={error} dataTest={dataTest} />}\n            {loading && <RootLoading dataTest={dataTest} />}\n            {!error &&\n                !loading &&\n                rootIds.map(rootId => {\n                    const rootNode = data[rootId]\n                    const rootPath = `/${rootId}`\n\n                    return (\n                        <OrganisationUnitNode\n                            key={rootPath}\n                            autoExpandLoadingError={autoExpandLoadingError}\n                            dataTest={dataTest}\n                            disableSelection={disableSelection}\n                            displayName={rootNode.displayName}\n                            expanded={expanded}\n                            highlighted={highlighted}\n                            id={rootId}\n                            isUserDataViewFallback={isUserDataViewFallback}\n                            filter={filter}\n                            path={rootPath}\n                            selected={selected}\n                            singleSelection={singleSelection}\n                            onChange={onChange}\n                            onChildrenLoaded={onChildrenLoaded}\n                            onCollapse={handleCollapse}\n                            onExpand={handleExpand}\n                        />\n                    )\n                })}\n        </div>\n    )\n}\n\n/**\n * @typedef {Object} PropTypes\n * @static\n *\n * @prop {string|string[]} roots\n * Root org unit id(s)\n *\n * @prop {Function} onChange\n * Will be called with the following object\n * { id: string; path: string; checked: boolean; }\n *\n * @prop {bool} [autoExpandLoadingError]\n * When set, the error when loading children\n * fails will be shown automaticlly\n *\n * @prop {bool} [singleSelection]\n * When set, no checkboxes will be displayed and only the first selected path\n * in `selected` will be highlighted\n *\n * @prop {bool} [disableSelection]\n * When set to true, no unit can be selected\n *\n * @prop {string[]} [filter]\n * All organisation units with a path that inclused the provided\n * paths will be shown. All others will not be rendered.\n * When not provided, all org units will be shown.\n *\n * @prop {bool} [forceReload]\n * When set to \"true\", everything will be reloaded.\n * In order to load it again after reloading,\n * \"forceReload\" has to be set to false and then to true again\n *\n * @prop {string[]} [selected]\n * An array of paths of selected OUs.\n * The path of an OU is the UIDs of the OU and all its parent OUs separated\n * by slashes (/)\n *\n * @prop {string[]} [initiallyExpanded]\n * An array of OU paths that will be expanded automatically\n * as soon as they are encountered.\n * The path of an OU is the UIDs of the OU\n * and all its parent OUs separated by slashes (/)\n * Note: This replaces \"openFirstLevel\" as that's redundant\n *\n * @prop {bool} [isUserDataViewFallback]\n * When provided, the \"isUserDataViewFallback\" option will be send when\n * requesting the org units\n *\n * @prop {string[]} [highlighted]\n * All units provided to \"highlighted\" as path will be visually\n * highlighted.\n * Note:\n * The d2-ui component used two props for this:\n * * searchResults\n * * highlightSearchResults\n *\n * @prop {Function} [onExpand]\n * Called with { path: string }\n * with the path of the parent of the level opened\n *\n * @prop {Function} [onCollapse]\n * Called with { path: string }\n * with the path of the parent of the level closed\n *\n * @prop {Function} [onChildrenLoaded]\n * Called with the children's data that was loaded\n */\nOrganisationUnitTree.propTypes = {\n    roots: propTypes.oneOfType([\n        propTypes.string,\n        propTypes.arrayOf(propTypes.string),\n    ]).isRequired,\n    onChange: propTypes.func.isRequired,\n\n    autoExpandLoadingError: propTypes.bool,\n    dataTest: propTypes.string,\n    disableSelection: propTypes.bool,\n    filter: propTypes.arrayOf(orgUnitPathPropType),\n    forceReload: propTypes.bool,\n    highlighted: propTypes.arrayOf(orgUnitPathPropType),\n    initiallyExpanded: propTypes.arrayOf(orgUnitPathPropType),\n    isUserDataViewFallback: propTypes.bool,\n    selected: propTypes.arrayOf(orgUnitPathPropType),\n    singleSelection: propTypes.bool,\n    onChildrenLoaded: propTypes.func,\n    onCollapse: propTypes.func,\n    onExpand: propTypes.func,\n\n    /**\n     * @prop {string[]} [idsThatShouldBeReloaded]\n     * All units with ids (not paths!) provided\n     * to \"idsThatShouldBeReloaded\" will be reloaded\n     * In order to reload an id twice, the array must be changed\n     * while keeping the id to reload in the array\n     *\n     * NOTE: This is currently not working due to a limitation\n     * of the data engine (we can't force specific resource to reload,\n     * we'd have to reload the sibling nodes currently as well)\n     */\n    //idsThatShouldBeReloaded: propTypes.arrayOf(orgUnitIdPropType),\n}\n\nOrganisationUnitTree.defaultProps = {\n    dataTest: 'dhis2-uiwidgets-orgunittree',\n    filter: [],\n    highlighted: [],\n    initiallyExpanded: [],\n    selected: [],\n}\n\nexport { OrganisationUnitTree }\n","import React from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nimport { sharedPropTypes } from '@dhis2/ui-constants'\nimport { Field, Checkbox, Required } from '@dhis2/ui-core'\n\nconst AddRequired = ({ label, required, dataTest }) => (\n    <React.Fragment>\n        {label}\n        {required && <Required dataTest={`${dataTest}-required`} />}\n    </React.Fragment>\n)\nAddRequired.propTypes = {\n    dataTest: propTypes.string,\n    label: propTypes.node,\n    required: propTypes.bool,\n}\n\n/**\n * @module\n * @param {CheckboxField.PropTypes} props\n * @returns {React.Component}\n *\n * @example import { CheckboxField } from '@dhis2/ui-widgets'\n *\n * @see Specification: {@link https://github.com/dhis2/design-system/blob/master/atoms/checkbox.md|Design system}\n * @see Live demo: {@link /demo/?path=/story/checkboxfield--default|Storybook}\n */\n\nconst CheckboxField = ({\n    value,\n    label,\n    name,\n    className,\n    tabIndex,\n    onChange,\n    onFocus,\n    onBlur,\n    checked,\n    disabled,\n    valid,\n    warning,\n    error,\n    dense,\n    initialFocus,\n    required,\n    helpText,\n    validationText,\n    dataTest,\n}) => (\n    <Field\n        className={className}\n        dataTest={dataTest}\n        helpText={helpText}\n        validationText={validationText}\n        error={error}\n        warning={warning}\n        valid={valid}\n        disabled={disabled}\n    >\n        <Checkbox\n            value={value}\n            label={\n                <AddRequired\n                    label={label}\n                    required={required}\n                    dataTest={dataTest}\n                />\n            }\n            name={name}\n            tabIndex={tabIndex}\n            onChange={onChange}\n            onFocus={onFocus}\n            onBlur={onBlur}\n            checked={checked}\n            disabled={disabled}\n            valid={valid}\n            warning={warning}\n            error={error}\n            dense={dense}\n            initialFocus={initialFocus}\n        />\n    </Field>\n)\n\nCheckboxField.defaultProps = {\n    dataTest: 'dhis2-uiwidgets-checkboxfield',\n}\n\n/**\n * @typedef {Object} PropTypes\n * @static\n * @prop {string} [value]\n * @prop {Node} [label]\n *\n * @prop {string} [name]\n * @prop {string} [className]\n * @prop {string} [tabIndex]\n *\n * @prop {function} [onChange]\n * @prop {function} [onFocus]\n * @prop {function} [onBlur]\n *\n * @prop {boolean} [checked]\n * @prop {boolean} [disabled]\n *\n * @prop {boolean} [valid] - `valid`, `warning`, and `error` are\n * mutually exclusive\n * @prop {boolean} [warning]\n * @prop {boolean} [error]\n *\n * @prop {boolean} [dense]\n * @prop {boolean} [initialFocus]\n * @prop {boolean} [required]\n * @prop {string} [helpText]\n * @prop {string} [validationText]\n * @prop {string} [dataTest]\n */\nCheckboxField.propTypes = {\n    checked: propTypes.bool,\n    className: propTypes.string,\n    dataTest: propTypes.string,\n    dense: propTypes.bool,\n    disabled: propTypes.bool,\n    error: sharedPropTypes.statusPropType,\n    helpText: propTypes.string,\n    initialFocus: propTypes.bool,\n    label: propTypes.node,\n    name: propTypes.string,\n    required: propTypes.bool,\n    tabIndex: propTypes.string,\n    valid: sharedPropTypes.statusPropType,\n    validationText: propTypes.string,\n    value: propTypes.string,\n    warning: sharedPropTypes.statusPropType,\n    onBlur: propTypes.func,\n    onChange: propTypes.func,\n    onFocus: propTypes.func,\n}\n\nexport { CheckboxField }\n","import propTypes from '@dhis2/prop-types'\nimport React from 'react'\n\nimport { sharedPropTypes } from '@dhis2/ui-constants'\nimport { Field, FieldSet } from '@dhis2/ui-core'\n\n/**\n * @module\n * @param {FieldGroup.PropTypes} props\n * @returns {React.Component}\n *\n * @example import { FieldGroup } from '@dhis2/ui'\n *\n * @example import { FieldGroup } from '@dhis2/ui-widgets'\n */\nconst FieldGroup = ({\n    children,\n    className,\n    disabled,\n    helpText,\n    validationText,\n    label,\n    name,\n    required,\n    dataTest,\n    valid,\n    error,\n    warning,\n}) => (\n    <FieldSet classname={className} dataTest={dataTest}>\n        <Field\n            label={label}\n            disabled={disabled}\n            required={required}\n            helpText={helpText}\n            validationText={validationText}\n            error={error}\n            warning={warning}\n            valid={valid}\n            name={name}\n        >\n            {children}\n        </Field>\n    </FieldSet>\n)\n\nFieldGroup.defaultProps = {\n    dataTest: 'dhis2-uiwidgets-fieldsetfield',\n}\n\n/**\n * @typedef {Object} PropTypes\n * @static\n * @private\n *\n * @prop {Node} [children]\n * @prop {string} [className]\n * @prop {boolean} [disabled]\n * @prop {string} [helpText]\n * @prop {string} [label]\n * @prop {string} [name]\n * @prop {string} [validationText]\n * @prop {boolean} [required]\n * @prop {string} [dataTest]\n * @prop {boolean} [valid] - `valid`, `warning`, and `error`, are mutually exclusive\n * @prop {boolean} [warning]\n * @prop {boolean} [error]\n */\nFieldGroup.propTypes = {\n    children: propTypes.node,\n    className: propTypes.string,\n    dataTest: propTypes.string,\n    disabled: propTypes.bool,\n    error: sharedPropTypes.statusPropType,\n    helpText: propTypes.string,\n    label: propTypes.string,\n    name: propTypes.string,\n    required: propTypes.bool,\n    valid: sharedPropTypes.statusPropType,\n    validationText: propTypes.string,\n    warning: sharedPropTypes.statusPropType,\n}\n\nexport { FieldGroup }\n","/*\n * This allows us to delay calling i18n.t until after the\n * language has been set. Otherwise the translations could\n * potentially use the wrong language.\n *\n * It checks if the passed prop is a function. If so,\n * it'll execute it. Since this should only be called during\n * render, we can be certain that i18n will have initialized.\n */\n\nconst translate = prop => {\n    if (typeof prop === 'function') {\n        return prop()\n    }\n\n    return prop\n}\n\nexport default translate\n","import React from 'react'\nimport propTypes from '@dhis2/prop-types'\nimport i18n from '@dhis2/d2-i18n'\n\nimport { sharedPropTypes } from '@dhis2/ui-constants'\n\nimport {\n    FileInput,\n    FileList,\n    FileListPlaceholder,\n    Field,\n    Label,\n} from '@dhis2/ui-core'\nimport translate from '../translate'\n\n/**\n * @module\n * @param {FileInputField.PropTypes} props\n * @returns {React.Component}\n *\n * @example import { FileInputField } from '@dhis2/ui-widgets'\n *\n * @see Specification: {@link https://github.com/dhis2/design-system/blob/master/atoms/fileinput.md|Design system}\n * @see Live demo: {@link /demo/?path=/story/fileinputfield--default|Storybook}\n */\nconst FileInputField = ({\n    accept,\n    buttonLabel,\n    children,\n    className,\n    dataTest,\n    disabled,\n    error,\n    helpText,\n    initialFocus,\n    label,\n    large,\n    multiple,\n    name,\n    onBlur,\n    onChange,\n    onFocus,\n    placeholder,\n    required,\n    small,\n    tabIndex,\n    valid,\n    validationText,\n    warning,\n}) => (\n    <Field\n        className={className}\n        dataTest={dataTest}\n        helpText={helpText}\n        validationText={validationText}\n        error={error}\n        warning={warning}\n        valid={valid}\n    >\n        {label && (\n            <Label required={required} disabled={disabled} htmlFor={name}>\n                {label}\n            </Label>\n        )}\n\n        <FileInput\n            accept={accept}\n            buttonLabel={translate(buttonLabel)}\n            className={className}\n            disabled={disabled}\n            error={error}\n            initialFocus={initialFocus}\n            large={large}\n            multiple={multiple}\n            name={name}\n            onBlur={onBlur}\n            onChange={onChange}\n            onFocus={onFocus}\n            small={small}\n            tabIndex={tabIndex}\n            valid={valid}\n            warning={warning}\n        />\n\n        <FileList>\n            {children ? (\n                children\n            ) : (\n                <FileListPlaceholder>\n                    {translate(placeholder)}\n                </FileListPlaceholder>\n            )}\n        </FileList>\n    </Field>\n)\n\nFileInputField.defaultProps = {\n    accept: '*',\n    dataTest: 'dhis2-uiwidgets-fileinputfield',\n\n    buttonLabel: () => i18n.t('Upload a file'),\n    placeholder: () => i18n.t('No file uploaded yet'),\n}\n\n/**\n * @typedef {Object} PropTypes\n * @static\n *\n * @prop {string} [name]\n * @prop {function} [onChange]\n * @prop {function} [onBlur]\n * @prop {function} [onFocus]\n * @prop {string} [label]\n * @prop {string|function} [buttonLabel]\n * @prop {string} [className]\n * @prop {string|function} [placeholder]\n * @prop {string} [tabIndex]\n *\n * @prop {boolean} [required]\n * @prop {boolean} [disabled]\n * @prop {boolean} [initialFocus]\n *\n * @prop {boolean} [valid] - `valid`, `warning` and `error` are mutually exclusive\n * @prop {boolean} [warning]\n * @prop {boolean} [error]\n *\n * @prop {boolean} [small] - `small` and `large` are mutually exclusive\n * @prop {boolean} [large]\n *\n * @prop {string} [validationText]\n * @prop {string} [helpText]\n *\n * @prop {FileListItem|Array.<FileListItem>} [children]\n * @prop {string} [accept=*] - the `accept` attribute of the [native file input]{@link https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#accept}\n * @prop {boolean} [multiple] - the `multiple` attribute of the [native file input]{@link https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#multiple}\n * @prop {string} [dataTest]\n */\nFileInputField.propTypes = {\n    accept: propTypes.string,\n    buttonLabel: propTypes.oneOfType([propTypes.string, propTypes.func]),\n    children: propTypes.node,\n    className: propTypes.string,\n    dataTest: propTypes.string,\n    disabled: propTypes.bool,\n    error: sharedPropTypes.statusPropType,\n    helpText: propTypes.string,\n    initialFocus: propTypes.bool,\n    label: propTypes.string,\n    large: sharedPropTypes.sizePropType,\n    multiple: propTypes.bool,\n    name: propTypes.string,\n    placeholder: propTypes.oneOfType([propTypes.string, propTypes.func]),\n    required: propTypes.bool,\n    small: sharedPropTypes.sizePropType,\n    tabIndex: propTypes.string,\n    valid: sharedPropTypes.statusPropType,\n    validationText: propTypes.string,\n    warning: sharedPropTypes.statusPropType,\n    onBlur: propTypes.func,\n    onChange: propTypes.func,\n    onFocus: propTypes.func,\n}\n\nexport { FileInputField }\n","import propTypes from '@dhis2/prop-types'\nimport React from 'react'\n\nimport i18n from '@dhis2/d2-i18n'\nimport { sharedPropTypes } from '@dhis2/ui-constants'\nimport { Field, Box, MultiSelect } from '@dhis2/ui-core'\nimport translate from '../translate'\n\n/**\n * @module\n *\n * @param {MultiSelectField.PropTypes} props\n * @returns {React.Component}\n *\n * @example import { MultiSelectField } from '@dhis2/ui-widgets'\n *\n * @see Specification: {@link https://github.com/dhis2/design-system/blob/master/molecules/select.md|Design system}\n * @see Live demo: {@link /demo/?path=/story/multiselectfield--default|Storybook}\n */\nclass MultiSelectField extends React.Component {\n    render() {\n        const {\n            className,\n            onChange,\n            onFocus,\n            onBlur,\n            required,\n            label,\n            valid,\n            error,\n            disabled,\n            warning,\n            loading,\n            selected,\n            tabIndex,\n            helpText,\n            validationText,\n            maxHeight,\n            inputMaxHeight,\n            inputWidth,\n            children,\n            clearable,\n            clearText,\n            filterable,\n            filterPlaceholder,\n            placeholder,\n            prefix,\n            empty,\n            loadingText,\n            noMatchText,\n            initialFocus,\n            dense,\n            dataTest,\n        } = this.props\n\n        return (\n            <Field\n                className={className}\n                dataTest={dataTest}\n                name={name}\n                disabled={disabled}\n                required={required}\n                label={label}\n                helpText={helpText}\n                validationText={validationText}\n                error={error}\n                warning={warning}\n                valid={valid}\n            >\n                <Box width={inputWidth} minWidth=\"100px\">\n                    <MultiSelect\n                        selected={selected}\n                        tabIndex={tabIndex}\n                        maxHeight={maxHeight}\n                        inputMaxHeight={inputMaxHeight}\n                        onChange={onChange}\n                        onFocus={onFocus}\n                        onBlur={onBlur}\n                        loading={loading}\n                        error={error}\n                        warning={warning}\n                        valid={valid}\n                        disabled={disabled}\n                        clearable={clearable}\n                        clearText={translate(clearText)}\n                        filterable={filterable}\n                        filterPlaceholder={translate(filterPlaceholder)}\n                        placeholder={placeholder}\n                        prefix={prefix}\n                        empty={translate(empty)}\n                        loadingText={translate(loadingText)}\n                        noMatchText={translate(noMatchText)}\n                        initialFocus={initialFocus}\n                        dense={dense}\n                    >\n                        {children}\n                    </MultiSelect>\n                </Box>\n            </Field>\n        )\n    }\n}\n\nMultiSelectField.defaultProps = {\n    selected: [],\n    dataTest: 'dhis2-uiwidgets-multiselectfield',\n\n    clearText: () => i18n.t('Clear'),\n    empty: () => i18n.t('No data found'),\n    filterPlaceholder: () => i18n.t('Type to filter options'),\n    loadingText: () => i18n.t('Loading options'),\n    noMatchText: () => i18n.t('No options found'),\n}\n\n/**\n * @typedef {Object} PropTypes\n * @static\n *\n * @prop {function} [onChange]\n * @prop {string} [label]\n * @prop {Array.<string>} [selected]\n * @prop {string} [className]\n * @prop {string} [tabIndex]\n * @prop {Node} [children]\n * @prop {boolean} [required]\n * @prop {boolean} [disabled]\n * @prop {boolean} [dense]\n * @prop {boolean} [valid] - `valid`, `warning`, `error`, `loading`, are mutually exclusive\n * @prop {boolean} [warning]\n * @prop {boolean} [error]\n * @prop {boolean} [loading]\n * @prop {function} [onFocus]\n * @prop {function} [onBlur]\n * @prop {boolean} [initialFocus]\n * @prop {string} [validationText]\n * @prop {string} [helpText]\n * @prop {string|function} [clearText]\n * @prop {boolean} [clearable]\n * @prop {Node|function} [empty]\n * @prop {string|function} [filterPlaceholder]\n * @prop {boolean} [filterable]\n * @prop {string|function} [loadingText]\n * @prop {string} [maxHeight]\n * @prop {string} [inputMaxHeight]\n * @prop {string} [inputWidth]\n * @prop {string|function} [noMatchText]\n * @prop {string} [placeholder]\n * @prop {string} [prefix]\n * @prop {string} [dataTest]\n */\nMultiSelectField.propTypes = {\n    children: propTypes.node,\n    className: propTypes.string,\n    clearText: propTypes.oneOfType([propTypes.string, propTypes.func]),\n    clearable: propTypes.bool,\n    dataTest: propTypes.string,\n    dense: propTypes.bool,\n    disabled: propTypes.bool,\n    empty: propTypes.oneOfType([propTypes.node, propTypes.func]),\n    error: sharedPropTypes.statusPropType,\n    filterPlaceholder: propTypes.oneOfType([propTypes.node, propTypes.func]),\n    filterable: propTypes.bool,\n    helpText: propTypes.string,\n    initialFocus: propTypes.bool,\n    inputMaxHeight: propTypes.string,\n    inputWidth: propTypes.string,\n    label: propTypes.string,\n    loading: propTypes.bool,\n    loadingText: propTypes.oneOfType([propTypes.string, propTypes.func]),\n    maxHeight: propTypes.string,\n    noMatchText: propTypes.oneOfType([propTypes.string, propTypes.func]),\n    placeholder: propTypes.string,\n    prefix: propTypes.string,\n    required: propTypes.bool,\n    selected: propTypes.arrayOf(propTypes.string),\n    tabIndex: propTypes.string,\n    valid: sharedPropTypes.statusPropType,\n    validationText: propTypes.string,\n    warning: sharedPropTypes.statusPropType,\n    onBlur: propTypes.func,\n    onChange: propTypes.func,\n    onFocus: propTypes.func,\n}\n\nexport { MultiSelectField }\n","import React from 'react'\n\nimport i18n from '@dhis2/d2-i18n'\nimport propTypes from '@dhis2/prop-types'\nimport { Field, SingleSelect, Box } from '@dhis2/ui-core'\nimport { sharedPropTypes } from '@dhis2/ui-constants'\nimport translate from '../translate'\n\n/**\n * @module\n *\n * @param {SingleSelectField.PropTypes} props\n * @returns {React.Component}\n *\n * @example import { SingleSelectField } from '@dhis2/ui-widgets'\n *\n * @see Specification: {@link https://github.com/dhis2/design-system/blob/master/molecules/select.md|Design system}\n * @see Live demo: {@link /demo/?path=/story/singleselectfield--default|Storybook}\n */\nclass SingleSelectField extends React.Component {\n    render() {\n        const {\n            className,\n            onChange,\n            onFocus,\n            onBlur,\n            required,\n            label,\n            valid,\n            error,\n            warning,\n            disabled,\n            loading,\n            selected,\n            tabIndex,\n            helpText,\n            validationText,\n            maxHeight,\n            inputMaxHeight,\n            inputWidth,\n            children,\n            clearable,\n            clearText,\n            filterable,\n            filterPlaceholder,\n            placeholder,\n            prefix,\n            empty,\n            loadingText,\n            noMatchText,\n            initialFocus,\n            dense,\n            dataTest,\n        } = this.props\n\n        return (\n            <Field\n                className={className}\n                dataTest={dataTest}\n                name={name}\n                disabled={disabled}\n                required={required}\n                label={label}\n                helpText={helpText}\n                validationText={validationText}\n                error={error}\n                warning={warning}\n                valid={valid}\n            >\n                <Box width={inputWidth} minWidth=\"100px\">\n                    <SingleSelect\n                        selected={selected}\n                        tabIndex={tabIndex}\n                        maxHeight={maxHeight}\n                        inputMaxHeight={inputMaxHeight}\n                        onChange={onChange}\n                        onFocus={onFocus}\n                        onBlur={onBlur}\n                        loading={loading}\n                        error={error}\n                        warning={warning}\n                        valid={valid}\n                        disabled={disabled}\n                        clearable={clearable}\n                        clearText={translate(clearText)}\n                        filterable={filterable}\n                        filterPlaceholder={translate(filterPlaceholder)}\n                        placeholder={placeholder}\n                        prefix={prefix}\n                        empty={translate(empty)}\n                        loadingText={translate(loadingText)}\n                        noMatchText={translate(noMatchText)}\n                        initialFocus={initialFocus}\n                        dense={dense}\n                    >\n                        {children}\n                    </SingleSelect>\n                </Box>\n            </Field>\n        )\n    }\n}\n\nSingleSelectField.defaultProps = {\n    dataTest: 'dhis2-uiwidgets-singleselectfield',\n    selected: '',\n\n    clearText: () => i18n.t('Clear'),\n    empty: () => i18n.t('No data found'),\n    filterPlaceholder: () => i18n.t('Type to filter options'),\n    loadingText: () => i18n.t('Loading options'),\n    noMatchText: () => i18n.t('No options found'),\n}\n\n/**\n * @typedef {Object} PropTypes\n * @static\n *\n * @prop {function} [onChange]\n * @prop {string} label\n * @prop {string} [selected]\n * @prop {string} [className]\n * @prop {string} [tabIndex]\n * @prop {Node} [children]\n * @prop {boolean} [required]\n * @prop {boolean} [disabled]\n * @prop {boolean} [dense]\n * @prop {boolean} [valid] - `valid`, `warning`, `error`, `loading`, are mutually exclusive\n * @prop {boolean} [warning]\n * @prop {boolean} [error]\n * @prop {boolean} [loading]\n * @prop {function} [onFocus]\n * @prop {function} [onBlur]\n * @prop {boolean} [initialFocus]\n * @prop {string} [validationText]\n * @prop {string} [helpText]\n * @prop {string|function} [clearText]\n * @prop {boolean} [clearable]\n * @prop {Node|function} [empty]\n * @prop {string|function} [filterPlaceholder]\n * @prop {boolean} [filterable]\n * @prop {string|function} [loadingText]\n * @prop {string} [maxHeight]\n * @prop {string} [inputMaxHeight]\n * @prop {string} [inputWidth]\n * @prop {string|function} [noMatchText]\n * @prop {string} [placeholder]\n * @prop {string} [prefix]\n * @prop {string} [dataTest]\n */\nSingleSelectField.propTypes = {\n    children: propTypes.node,\n    className: propTypes.string,\n    clearText: propTypes.oneOfType([propTypes.string, propTypes.func]),\n    clearable: propTypes.bool,\n    dataTest: propTypes.string,\n    dense: propTypes.bool,\n    disabled: propTypes.bool,\n    empty: propTypes.oneOfType([propTypes.node, propTypes.func]),\n    error: sharedPropTypes.statusPropType,\n    filterPlaceholder: propTypes.oneOfType([propTypes.node, propTypes.func]),\n    filterable: propTypes.bool,\n    helpText: propTypes.string,\n    initialFocus: propTypes.bool,\n    inputMaxHeight: propTypes.string,\n    inputWidth: propTypes.string,\n    label: propTypes.string,\n    loading: propTypes.bool,\n    loadingText: propTypes.oneOfType([propTypes.string, propTypes.func]),\n    maxHeight: propTypes.string,\n    noMatchText: propTypes.oneOfType([propTypes.string, propTypes.func]),\n    placeholder: propTypes.string,\n    prefix: propTypes.string,\n    required: propTypes.bool,\n    selected: propTypes.string,\n    tabIndex: propTypes.string,\n    valid: sharedPropTypes.statusPropType,\n    validationText: propTypes.string,\n    warning: sharedPropTypes.statusPropType,\n    onBlur: propTypes.func,\n    onChange: propTypes.func,\n    onFocus: propTypes.func,\n}\n\nexport { SingleSelectField }\n","import React from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nimport { sharedPropTypes } from '@dhis2/ui-constants'\nimport { Field, Switch, Required } from '@dhis2/ui-core'\n\nconst AddRequired = ({ label, required, dataTest }) => (\n    <React.Fragment>\n        {label}\n        {required && <Required dataTest={`${dataTest}-required`} />}\n    </React.Fragment>\n)\nAddRequired.propTypes = {\n    dataTest: propTypes.string,\n    label: propTypes.node,\n    required: propTypes.bool,\n}\n\n/**\n * @module\n * @param {SwitchField.PropTypes} props\n * @returns {React.Component}\n *\n * @example import { SwitchField } from '@dhis2/ui-widgets'\n *\n * @see Specification: {@link https://github.com/dhis2/design-system/blob/master/atoms/switch.md|Design system}\n * @see Live demo: {@link /demo/?path=/story/switchfield--default|Storybook}\n */\n\nconst SwitchField = ({\n    value,\n    label,\n    name,\n    className,\n    tabIndex,\n    onChange,\n    onFocus,\n    onBlur,\n    checked,\n    disabled,\n    valid,\n    warning,\n    error,\n    dense,\n    initialFocus,\n    required,\n    helpText,\n    validationText,\n    dataTest,\n}) => (\n    <Field\n        className={className}\n        dataTest={dataTest}\n        helpText={helpText}\n        validationText={validationText}\n        error={error}\n        warning={warning}\n        valid={valid}\n        required={required}\n        name={name}\n        disabled={disabled}\n    >\n        <Switch\n            value={value}\n            label={\n                <AddRequired\n                    label={label}\n                    required={required}\n                    dataTest={dataTest}\n                />\n            }\n            name={name}\n            tabIndex={tabIndex}\n            onChange={onChange}\n            onFocus={onFocus}\n            onBlur={onBlur}\n            checked={checked}\n            disabled={disabled}\n            valid={valid}\n            warning={warning}\n            error={error}\n            dense={dense}\n            initialFocus={initialFocus}\n        />\n    </Field>\n)\n\nSwitchField.defaultProps = {\n    dataTest: 'dhis2-uiwidgets-switchfield',\n}\n\n/**\n * @typedef {Object} PropTypes\n * @static\n * @prop {string} value\n * @prop {string} [label]\n *\n * @prop {string} [name]\n * @prop {string} [className]\n * @prop {string} [tabIndex]\n *\n * @prop {function} [onChange]\n * @prop {function} [onFocus]\n * @prop {function} [onBlur]\n *\n * @prop {boolean} [checked]\n * @prop {boolean} [disabled]\n *\n * @prop {boolean} [valid] - `valid`, `warning`, and `error` are\n * mutually exclusive\n * @prop {boolean} [warning]\n * @prop {boolean} [error]\n *\n * @prop {boolean} [dense]\n * @prop {boolean} [initialFocus]\n * @prop {boolean} [required]\n * @prop {string} [helpText]\n * @prop {string} [validationText]\n * @prop {string} [dataTest]\n */\nSwitchField.propTypes = {\n    checked: propTypes.bool,\n    className: propTypes.string,\n    dataTest: propTypes.string,\n    dense: propTypes.bool,\n    disabled: propTypes.bool,\n    error: sharedPropTypes.statusPropType,\n    helpText: propTypes.string,\n    initialFocus: propTypes.bool,\n    label: propTypes.node,\n    name: propTypes.string,\n    required: propTypes.bool,\n    tabIndex: propTypes.string,\n    valid: sharedPropTypes.statusPropType,\n    validationText: propTypes.string,\n    value: propTypes.string,\n    warning: sharedPropTypes.statusPropType,\n    onBlur: propTypes.func,\n    onChange: propTypes.func,\n    onFocus: propTypes.func,\n}\n\nexport { SwitchField }\n","import propTypes from '@dhis2/prop-types'\nimport React from 'react'\n\nimport { sharedPropTypes } from '@dhis2/ui-constants'\nimport { Field, TextArea, Box } from '@dhis2/ui-core'\n\n/**\n * @module\n * @param {TextAreaField.PropTypes} props\n * @returns {React.Component}\n *\n * @example import { TextAreaField } from '@dhis2/ui-widgets'\n *\n * @see Specification: {@link https://github.com/dhis2/design-system/blob/update-input/atoms/inputfield.md#textarea|Design system}\n * @see Live demo: {@link /demo/?path=/story/textareafield--default|Storybook}\n */\nconst TextAreaField = ({\n    className,\n    onChange,\n    onFocus,\n    onBlur,\n    initialFocus,\n    dense,\n    required,\n    label,\n    disabled,\n    placeholder,\n    name,\n    valid,\n    error,\n    warning,\n    loading,\n    value,\n    tabIndex,\n    helpText,\n    validationText,\n    autoGrow,\n    readOnly,\n    resize,\n    rows,\n    inputWidth,\n    dataTest,\n}) => (\n    <Field\n        className={className}\n        dataTest={dataTest}\n        disabled={disabled}\n        required={required}\n        name={name}\n        helpText={helpText}\n        validationText={validationText}\n        error={error}\n        warning={warning}\n        valid={valid}\n        label={label}\n    >\n        <Box width={inputWidth} minWidth=\"220px\">\n            <TextArea\n                onFocus={onFocus}\n                onBlur={onBlur}\n                onChange={onChange}\n                name={name}\n                value={value || ''}\n                placeholder={placeholder}\n                disabled={disabled}\n                valid={valid}\n                warning={warning}\n                error={error}\n                loading={loading}\n                dense={dense}\n                tabIndex={tabIndex}\n                initialFocus={initialFocus}\n                autoGrow={autoGrow}\n                readOnly={readOnly}\n                resize={resize}\n                rows={rows}\n            />\n        </Box>\n    </Field>\n)\n\nTextAreaField.defaultProps = {\n    rows: 4,\n    width: '100%',\n    resize: 'vertical',\n    dataTest: 'dhis2-uiwidgets-textareafield',\n}\n\n/**\n * @typedef {Object} PropTypes\n * @static\n *\n * @prop {string} name\n * @prop {function} [onChange]\n * @prop {function} [onBlur]\n * @prop {function} [onFocus]\n * @prop {string} [label]\n * @prop {string} [className]\n * @prop {string} [placeholder]\n * @prop {string} [value]\n * @prop {string} [tabIndex]\n *\n * @prop {boolean} [required]\n * @prop {boolean} [disabled]\n * @prop {boolean} [dense] - Compact mode\n * @prop {boolean} [initialFocus]\n *\n * @prop {boolean} [valid] - `valid`, `warning`, `error`, and `loading`\n * are mutually exclusive\n * @prop {boolean} [warning]\n * @prop {boolean} [error]\n * @prop {boolean} [loading]\n *\n * @prop {string} [validationText]\n * @prop {string} [helpText]\n *\n * @prop {boolean} [autoGrow]\n * @prop {boolean} [readOnly]\n * @prop {string} [resize=vertical] - resize attribute on the textarea,\n * one of `none`, `both`, `horizontal`, `vertical`\n * @prop {number} [rows=4]\n * @prop {string} [inputWidth]\n * @prop {string} [dataTest]\n */\nTextAreaField.propTypes = {\n    autoGrow: propTypes.bool,\n    className: propTypes.string,\n    dataTest: propTypes.string,\n    dense: propTypes.bool,\n    disabled: propTypes.bool,\n    error: sharedPropTypes.statusPropType,\n    helpText: propTypes.string,\n    initialFocus: propTypes.bool,\n    inputWidth: propTypes.string,\n    label: propTypes.string,\n    loading: propTypes.bool,\n    name: propTypes.string,\n    placeholder: propTypes.string,\n    readOnly: propTypes.bool,\n    required: propTypes.bool,\n    resize: propTypes.oneOf(['none', 'both', 'horizontal', 'vertical']),\n    rows: propTypes.number,\n    tabIndex: propTypes.string,\n    valid: sharedPropTypes.statusPropType,\n    validationText: propTypes.string,\n    value: propTypes.string,\n    warning: sharedPropTypes.statusPropType,\n    onBlur: propTypes.func,\n    onChange: propTypes.func,\n    onFocus: propTypes.func,\n}\n\nexport { TextAreaField }\n","import React from 'react'\nimport propTypes from '@dhis2/prop-types'\nimport { spacers } from '@dhis2/ui-constants'\n\nexport const Actions = ({ children, dataTest }) => (\n    <div data-test={dataTest}>\n        {children}\n\n        <style jsx>{`\n            div {\n                align-content: center;\n                display: flex;\n                flex-direction: column;\n                flex-shrink: 1;\n                justify-content: center;\n                margin: 0 ${spacers.dp8};\n            }\n\n            div > :global(button) {\n                margin-top: 8px;\n            }\n\n            div > :global(button):first-child {\n                margin-top: 0;\n            }\n        `}</style>\n    </div>\n)\n\nActions.propTypes = {\n    dataTest: propTypes.string.isRequired,\n    children: propTypes.node,\n}\n","import React from 'react'\nimport css from 'styled-jsx/css'\nimport propTypes from '@dhis2/prop-types'\nimport { theme } from '@dhis2/ui-constants'\n\nconst centerButtonStyles = css`\n    svg {\n        min-width: 20px;\n    }\n`\n\nexport const IconAddAll = ({ dataTest, disabled }) => (\n    <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"16\"\n        height=\"16\"\n        viewBox=\"0 0 16 16\"\n        data-test={dataTest}\n        fill={disabled ? theme.disabled : '#404B5A'}\n    >\n        <g fillRule=\"evenodd\">\n            <polygon\n                fillRule=\"nonzero\"\n                points=\"6 2 4.94 3.06 9.13 7.25 0 7.25 0 8.75 9.13 8.75 4.94 12.94 6 14 12 8\"\n            />\n\n            <polygon\n                fillRule=\"nonzero\"\n                points=\"10 2 8.94 3.06 13.13 7.25 13.9 8 13.13 8.75 8.94 12.94 10 14 16 8\"\n            />\n        </g>\n\n        <style jsx>{centerButtonStyles}</style>\n    </svg>\n)\n\nIconAddAll.propTypes = {\n    dataTest: propTypes.string.isRequired,\n    disabled: propTypes.bool,\n}\n\nexport const IconAddIndividual = ({ dataTest, disabled }) => (\n    <svg\n        fill={disabled ? theme.disabled : '#404B5A'}\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"16\"\n        height=\"16\"\n        viewBox=\"0 0 16 16\"\n        data-test={dataTest}\n    >\n        <polygon points=\"8 2 6.94 3.06 11.13 7.25 2 7.25 2 8.75 11.13 8.75 6.94 12.94 8 14 14 8\" />\n\n        <style jsx>{centerButtonStyles}</style>\n    </svg>\n)\n\nIconAddIndividual.propTypes = {\n    dataTest: propTypes.string.isRequired,\n    disabled: propTypes.bool,\n}\n\nexport const IconRemoveAll = ({ dataTest, disabled }) => (\n    <svg\n        fill={disabled ? theme.disabled : '#404B5A'}\n        width=\"16px\"\n        height=\"16px\"\n        viewBox=\"0 0 16 16\"\n        data-test={dataTest}\n        xmlns=\"http://www.w3.org/2000/svg\"\n    >\n        <g fillRule=\"evenodd\">\n            <polygon\n                fillRule=\"nonzero\"\n                points=\"10 2 8.94 3.06 13.13 7.25 4 7.25 4 8.75 13.13 8.75 8.94 12.94 10 14 16 8\"\n                transform=\"matrix(-1 0 0 1 20 0)\"\n            />\n\n            <polygon\n                fillRule=\"nonzero\"\n                points=\"1.06 2 0 3.06 4.19 7.25 4.96 8 4.19 8.75 0 12.94 1.06 14 7.06 8\"\n                transform=\"matrix(-1 0 0 1 7.06 0)\"\n            />\n        </g>\n\n        <style jsx>{centerButtonStyles}</style>\n    </svg>\n)\n\nIconRemoveAll.propTypes = {\n    dataTest: propTypes.string.isRequired,\n    disabled: propTypes.bool,\n}\n\nexport const IconRemoveIndividual = ({ dataTest, disabled }) => (\n    <svg\n        fill={disabled ? theme.disabled : '#404B5A'}\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"16\"\n        height=\"16\"\n        viewBox=\"0 0 16 16\"\n        data-test={dataTest}\n    >\n        <polygon\n            points=\"8 2 6.94 3.06 11.13 7.25 2 7.25 2 8.75 11.13 8.75 6.94 12.94 8 14 14 8\"\n            transform=\"matrix(-1 0 0 1 16 0)\"\n        />\n\n        <style jsx>{centerButtonStyles}</style>\n    </svg>\n)\n\nIconRemoveIndividual.propTypes = {\n    dataTest: propTypes.string.isRequired,\n    disabled: propTypes.bool,\n}\n\nexport const IconMoveDown = ({ dataTest, disabled }) => (\n    <svg\n        fill={disabled ? theme.disabled : '#404B5A'}\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"16\"\n        height=\"16\"\n        viewBox=\"0 0 16 16\"\n        data-test={dataTest}\n    >\n        <polygon\n            points=\"8 2 6.94 3.06 11.13 7.25 2 7.25 2 8.75 11.13 8.75 6.94 12.94 8 14 14 8\"\n            transform=\"matrix(0 1 1 0 0 0)\"\n        />\n    </svg>\n)\n\nIconMoveDown.propTypes = {\n    dataTest: propTypes.string.isRequired,\n    disabled: propTypes.bool,\n}\n\nexport const IconMoveUp = ({ dataTest, disabled }) => (\n    <svg\n        fill={disabled ? theme.disabled : '#404B5A'}\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"16\"\n        height=\"16\"\n        viewBox=\"0 0 16 16\"\n        data-test={dataTest}\n    >\n        <polygon\n            points=\"8 2 6.94 3.06 11.13 7.25 2 7.25 2 8.75 11.13 8.75 6.94 12.94 8 14 14 8\"\n            transform=\"rotate(-90 8 8)\"\n        />\n    </svg>\n)\n\nIconMoveUp.propTypes = {\n    dataTest: propTypes.string.isRequired,\n    disabled: propTypes.bool,\n}\n","import { Button } from '@dhis2/ui-core'\nimport React from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nimport { IconAddAll } from './icons.js'\n\nexport const AddAll = ({ label, dataTest, disabled, onClick }) => (\n    <Button\n        dataTest={dataTest}\n        disabled={disabled}\n        onClick={onClick}\n        icon={\n            <IconAddAll\n                dataTest={`${dataTest}-iconaddall`}\n                disabled={disabled}\n            />\n        }\n    >\n        {label}\n    </Button>\n)\n\nAddAll.propTypes = {\n    dataTest: propTypes.string.isRequired,\n    onClick: propTypes.func.isRequired,\n    disabled: propTypes.bool,\n    label: propTypes.string,\n}\n","import { Button } from '@dhis2/ui-core'\nimport React from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nimport { IconAddIndividual } from './icons.js'\n\nexport const AddIndividual = ({ label, dataTest, disabled, onClick }) => (\n    <Button\n        dataTest={dataTest}\n        disabled={disabled}\n        onClick={onClick}\n        icon={\n            <IconAddIndividual\n                disabled={disabled}\n                dataTest={`${dataTest}-iconaddindividual`}\n            />\n        }\n    >\n        {label}\n    </Button>\n)\n\nAddIndividual.propTypes = {\n    dataTest: propTypes.string.isRequired,\n    onClick: propTypes.func.isRequired,\n    disabled: propTypes.bool,\n    label: propTypes.string,\n}\n","import React from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nexport const Container = ({ children, dataTest, className, height }) => (\n    <div data-test={dataTest} className={className}>\n        {children}\n\n        <style jsx>{`\n            div {\n                display: flex;\n                width: 100%;\n                height: ${height};\n            }\n        `}</style>\n    </div>\n)\n\nContainer.propTypes = {\n    height: propTypes.string.isRequired,\n    children: propTypes.node,\n    className: propTypes.string,\n    dataTest: propTypes.string,\n}\n","import { Input, Field } from '@dhis2/ui-core'\nimport { spacers } from '@dhis2/ui-constants'\nimport React from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nexport const Filter = ({ dataTest, filter, onChange, label, placeholder }) => (\n    <div data-test={dataTest}>\n        <Field label={label} name={dataTest} dataTest={`${dataTest}-field`}>\n            <Input\n                dataTest={`${dataTest}-input`}\n                type=\"search\"\n                placeholder={placeholder}\n                name={dataTest}\n                value={filter}\n                onChange={onChange}\n            />\n        </Field>\n\n        <style jsx>{`\n            div {\n                padding-bottom: ${spacers.dp8};\n            }\n\n            div:first-child {\n                padding-top: ${spacers.dp8};\n            }\n        `}</style>\n    </div>\n)\n\nFilter.propTypes = {\n    dataTest: propTypes.string.isRequired,\n    filter: propTypes.string.isRequired,\n    onChange: propTypes.func.isRequired,\n    label: propTypes.string,\n    placeholder: propTypes.string,\n}\n","/**\n * Click modes when clicking on an option with/without\n * a modifier key (ctrl, alt, cmd, shift)\n */\n\n// no or multiple modifier keys\nexport const REPLACE_MODE = 'REPLACE_MODE'\n// add/remove options from selection\nexport const ADD_MODE = 'ADD_MODE'\n// create selection range\nexport const RANGE_MODE = 'RANGE_MODE'\n","import { colors } from '@dhis2/ui-constants'\n\nexport const borderColor = colors.grey400\nexport const borderRadius = '3px'\n","/**\n * @param {Object} left\n * @param {Object} left\n * @returns {bool}\n */\nexport const isOption = (left, right) =>\n    left.label === right.label && left.value === right.value\n","import { isOption } from './isOption.js'\n\n/**\n * @param {Object[]} options\n * @param {Object} option\n * @returns {Int}\n */\nexport const findOptionIndex = (options, option) =>\n    options.findIndex(current => isOption(current, option))\n","import { ADD_MODE, RANGE_MODE, REPLACE_MODE } from './modes.js'\n\n/**\n * @param {Object} args\n * @param {bool} args.altKey\n * @param {bool} args.shiftKey\n * @param {bool} args.ctrlKey\n * @param {bool} args.metaKey\n * @return {string}\n */\nexport const getModeByModifierKey = ({\n    altKey,\n    shiftKey,\n    ctrlKey,\n    metaKey,\n}) => {\n    const keys = [altKey, shiftKey, ctrlKey, metaKey]\n    const amountKeyPressed = keys.filter(v => v)\n    const moreThanOneKeyPressed = amountKeyPressed.length\n\n    if (moreThanOneKeyPressed !== 1) return REPLACE_MODE\n\n    if (altKey || ctrlKey || metaKey) return ADD_MODE\n\n    if (shiftKey) return RANGE_MODE\n\n    // default to replace mode\n    return REPLACE_MODE\n}\n","/**\n * @param {string[]} values\n * @param {string} value\n * @returns {string[]}\n */\nexport const toggleValue = (values, value) => {\n    const index = values.indexOf(value)\n\n    if (index === -1) {\n        return [...values, value]\n    } else if (index === 0) {\n        values.slice(1)\n    }\n\n    const prevSlice = values.slice(0, index)\n    const nextSlice = values.slice(index + 1)\n    return [...prevSlice, ...nextSlice]\n}\n","import React from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nimport { spacers } from '@dhis2/ui-constants'\n\nimport { borderColor } from './common/index.js'\n\nexport const LeftFooter = ({ children, dataTest }) => (\n    <div data-test={dataTest}>\n        {children}\n\n        <style jsx>{`\n            div {\n                flex-grow: 0;\n                border-top: 1px solid ${borderColor};\n                padding: 0 ${spacers.dp8};\n            }\n        `}</style>\n    </div>\n)\n\nLeftFooter.propTypes = {\n    children: propTypes.node,\n    dataTest: propTypes.string,\n}\n","import React from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nimport { spacers } from '@dhis2/ui-constants'\n\nimport { borderColor } from './common/index.js'\n\nexport const LeftHeader = ({ children, dataTest }) => (\n    <div data-test={dataTest}>\n        {children}\n\n        <style jsx>{`\n            div {\n                border-bottom: 1px solid ${borderColor};\n                flex-grow: 0;\n                padding: 0 ${spacers.dp8};\n            }\n        `}</style>\n    </div>\n)\n\nLeftHeader.propTypes = {\n    children: propTypes.node,\n    dataTest: propTypes.string,\n}\n","import React from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nimport { borderColor, borderRadius } from './common/index.js'\n\nexport const LeftSide = ({ children, dataTest, width }) => (\n    <div data-test={dataTest}>\n        {children}\n\n        {\n            /**\n             * Flex basis 0px to make sure right and left side\n             * always have the same width\n             */ ''\n        }\n        <style jsx>{`\n            div {\n                display: flex;\n                flex-direction: column;\n                border-radius: ${borderRadius};\n                border: 1px solid ${borderColor};\n                min-height: 240px;\n                max-width: 100%;\n                width: ${width};\n            }\n        `}</style>\n    </div>\n)\n\nLeftSide.propTypes = {\n    width: propTypes.string.isRequired,\n    children: propTypes.node,\n    dataTest: propTypes.string,\n}\n","import { IntersectionDetector } from '@dhis2/ui-core'\nimport propTypes from '@dhis2/prop-types'\nimport React from 'react'\n\nexport const EndIntersectionDetector = ({\n    rootRef,\n    onEndReached,\n    dataTest,\n}) => (\n    <div data-test={dataTest}>\n        <IntersectionDetector\n            rootRef={rootRef}\n            onChange={({ isIntersecting }) => isIntersecting && onEndReached()}\n        />\n\n        <style jsx>{`\n            div {\n                width: 100%;\n                height: 50px;\n                position: absolute;\n                z-index: -1;\n                bottom: 0;\n                left: 0;\n            }\n        `}</style>\n    </div>\n)\n\nEndIntersectionDetector.propTypes = {\n    rootRef: propTypes.shape({\n        current: propTypes.instanceOf(HTMLElement),\n    }).isRequired,\n    onEndReached: propTypes.func.isRequired,\n    dataTest: propTypes.string,\n}\n","import { CircularLoader } from '@dhis2/ui-core'\nimport { spacers } from '@dhis2/ui-constants'\nimport React, { Fragment, useEffect, useRef, useState } from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nimport { EndIntersectionDetector } from './EndIntersectionDetector.js'\n\nexport const OptionsContainer = ({\n    dataTest,\n    emptyComponent,\n    onEndReached,\n    getOptionClickHandlers,\n    highlightedOptions,\n    loading,\n    renderOption,\n    options,\n    selectionHandler,\n    toggleHighlightedOption,\n}) => {\n    const [remountCounter, setRemountCounter] = useState(0)\n    const [resizeObserver, setResizeObserver] = useState(null)\n    const optionsRef = useRef(null)\n    const wrapperRef = useRef(null)\n\n    useEffect(() => {\n        if (onEndReached && wrapperRef.current) {\n            // The initial call is irrelevant as there has been\n            // no resize yet that we want to react to\n            let firstCall = false\n\n            const observer = new ResizeObserver(() => {\n                if (!firstCall) {\n                    const newCounter = remountCounter + 1\n                    setRemountCounter(newCounter)\n                    firstCall = true\n                }\n            })\n\n            observer.observe(wrapperRef.current)\n            setResizeObserver(observer)\n\n            return () => observer.disconnect()\n        }\n    }, [onEndReached, wrapperRef.current, setRemountCounter])\n\n    return (\n        <div className=\"optionsContainer\">\n            {loading && (\n                <div className=\"loading\">\n                    <CircularLoader />\n                </div>\n            )}\n\n            <div className=\"container\" data-test={dataTest} ref={optionsRef}>\n                <div className=\"content-container\" ref={wrapperRef}>\n                    {!options.length && emptyComponent}\n                    {options.map(option => {\n                        const highlighted = !!highlightedOptions.find(\n                            highlightedSourceOption =>\n                                highlightedSourceOption === option.value\n                        )\n\n                        return (\n                            <Fragment key={option.value}>\n                                {renderOption({\n                                    ...option,\n                                    ...getOptionClickHandlers(\n                                        option,\n                                        selectionHandler,\n                                        toggleHighlightedOption\n                                    ),\n                                    highlighted,\n                                    selected: false,\n                                })}\n                            </Fragment>\n                        )\n                    })}\n\n                    {onEndReached && resizeObserver && (\n                        <EndIntersectionDetector\n                            dataTest={`${dataTest}-endintersectiondetector`}\n                            key={`key-${remountCounter}`}\n                            rootRef={optionsRef}\n                            onEndReached={onEndReached}\n                        />\n                    )}\n                </div>\n            </div>\n\n            <style jsx>{`\n                .optionsContainer {\n                    flex-grow: 1;\n                    padding: ${spacers.dp4} 0;\n                    position: relative;\n                    overflow: hidden;\n                }\n\n                .container {\n                    overflow-y: auto;\n                    height: 100%;\n                }\n\n                .loading {\n                    display: flex;\n                    height: 100%;\n                    width: 100%;\n                    align-items: center;\n                    justify-content: center;\n                    position: absolute;\n                    z-index: 2;\n                    top: 0;\n                    left: 0;\n                }\n\n                .content-container {\n                    z-index: 1;\n                    position: relative;\n                }\n\n                .loading + .container .content-container {\n                    filter: blur(2px);\n                }\n            `}</style>\n        </div>\n    )\n}\n\nOptionsContainer.propTypes = {\n    dataTest: propTypes.string.isRequired,\n    getOptionClickHandlers: propTypes.func.isRequired,\n    emptyComponent: propTypes.node,\n    highlightedOptions: propTypes.arrayOf(propTypes.string),\n    loading: propTypes.bool,\n    options: propTypes.arrayOf(\n        propTypes.shape({\n            label: propTypes.string.isRequired,\n            value: propTypes.string.isRequired,\n        })\n    ),\n    renderOption: propTypes.func,\n    selectionHandler: propTypes.func,\n    toggleHighlightedOption: propTypes.func,\n    onEndReached: propTypes.func,\n}\n","import { Button } from '@dhis2/ui-core'\nimport React from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nimport { IconRemoveAll } from './icons.js'\n\nexport const RemoveAll = ({ label, dataTest, disabled, onClick }) => (\n    <Button\n        dataTest={dataTest}\n        disabled={disabled}\n        onClick={onClick}\n        icon={\n            <IconRemoveAll\n                disabled={disabled}\n                dataTest={`${dataTest}-iconremoveall`}\n            />\n        }\n    >\n        {label}\n    </Button>\n)\n\nRemoveAll.propTypes = {\n    dataTest: propTypes.string.isRequired,\n    onClick: propTypes.func.isRequired,\n    disabled: propTypes.bool,\n    label: propTypes.string,\n}\n","import { Button } from '@dhis2/ui-core'\nimport React from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nimport { IconRemoveIndividual } from './icons.js'\n\nexport const RemoveIndividual = ({ label, dataTest, disabled, onClick }) => (\n    <Button\n        dataTest={dataTest}\n        disabled={disabled}\n        onClick={onClick}\n        icon={\n            <IconRemoveIndividual\n                disabled={disabled}\n                dataTest={`${dataTest}-iconremoveindividual`}\n            />\n        }\n    >\n        {label}\n    </Button>\n)\n\nRemoveIndividual.propTypes = {\n    dataTest: propTypes.string.isRequired,\n    onClick: propTypes.func.isRequired,\n    disabled: propTypes.bool,\n    label: propTypes.string,\n}\n","import { Button } from '@dhis2/ui-core'\nimport { spacers } from '@dhis2/ui-constants'\nimport React from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nimport { IconMoveDown, IconMoveUp } from './icons.js'\n\nexport const ReorderingActions = ({\n    dataTest,\n    disabledDown,\n    disabledUp,\n    onChangeUp,\n    onChangeDown,\n}) => (\n    <div data-test={dataTest}>\n        <Button\n            small\n            disabled={disabledDown}\n            onClick={() => !disabledDown && onChangeDown(event)}\n            dataTest={`${dataTest}-buttonmovedown`}\n            icon={\n                <IconMoveDown\n                    dataTest={`${dataTest}-iconmovedown`}\n                    disabled={disabledDown}\n                />\n            }\n        />\n\n        <Button\n            small\n            disabled={disabledUp}\n            onClick={() => !disabledUp && onChangeUp(event)}\n            dataTest={`${dataTest}-buttonmoveup`}\n            icon={\n                <IconMoveUp\n                    dataTest={`${dataTest}-iconmoveup`}\n                    disabled={disabledUp}\n                />\n            }\n        />\n\n        <style jsx>{`\n            div {\n                display: flex;\n                flex-direction: row-reverse;\n                padding-top: ${spacers.dp8};\n            }\n\n            div:last-child {\n                padding-bottom: ${spacers.dp8};\n            }\n\n            div > :global(button):first-child {\n                margin-left: ${spacers.dp8};\n            }\n        `}</style>\n    </div>\n)\n\nReorderingActions.propTypes = {\n    dataTest: propTypes.string.isRequired,\n    onChangeDown: propTypes.func.isRequired,\n    onChangeUp: propTypes.func.isRequired,\n    disabledDown: propTypes.bool,\n    disabledUp: propTypes.bool,\n}\n","import React from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nimport { spacers } from '@dhis2/ui-constants'\n\nimport { borderColor } from './common/index.js'\n\nexport const RightHeader = ({ children, dataTest }) => (\n    <div data-test={dataTest}>\n        {children}\n\n        <style jsx>{`\n            div {\n                border-bottom: 1px solid ${borderColor};\n                flex-grow: 0;\n                padding: 0 ${spacers.dp8};\n            }\n        `}</style>\n    </div>\n)\n\nRightHeader.propTypes = {\n    children: propTypes.node,\n    dataTest: propTypes.string,\n}\n","import React from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nimport { spacers } from '@dhis2/ui-constants'\n\nimport { borderColor } from './common/index.js'\n\nexport const RightFooter = ({ children, dataTest }) => (\n    <div data-test={dataTest}>\n        {children}\n\n        <style jsx>{`\n            div {\n                flex-grow: 0;\n                border-top: 1px solid ${borderColor};\n                padding: 0 ${spacers.dp8};\n            }\n        `}</style>\n    </div>\n)\n\nRightFooter.propTypes = {\n    children: propTypes.node,\n    dataTest: propTypes.string,\n}\n","import React from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nimport { borderColor, borderRadius } from './common/index.js'\n\nexport const RightSide = ({ children, dataTest, width }) => (\n    <div data-test={dataTest}>\n        {children}\n\n        {\n            /**\n             * Flex basis 0px to make sure right and left side\n             * always have the same width\n             */ ''\n        }\n        <style jsx>{`\n            div {\n                border: 1px solid ${borderColor};\n                border-radius: ${borderRadius};\n                display: flex;\n                flex-direction: column;\n                max-width: 100%;\n                width: ${width};\n            }\n        `}</style>\n    </div>\n)\n\nRightSide.propTypes = {\n    width: propTypes.string.isRequired,\n    children: propTypes.node,\n    dataTest: propTypes.string,\n}\n","import React, { useRef } from 'react'\nimport cx from 'classnames'\n\nimport propTypes from '@dhis2/prop-types'\n\nimport { colors } from '@dhis2/ui-constants'\n\nconst DOUBLE_CLICK_MAX_DELAY = 500\n\n/**\n * @module\n * @param {TransferOption.PropTypes} props\n * @returns {React.Component}\n *\n * @example import { TransferOption } from '@dhis2/ui-core'\n * @see Specification: {@link https://github.com/dhis2/design-system/blob/master/organisms/transfer.md|Design system}\n * @see Live demo: {@link /demo/?path=/story/transfer--basic|Storybook}\n */\nexport const TransferOption = ({\n    className,\n    disabled,\n    dataTest,\n    highlighted,\n    onClick,\n    onDoubleClick,\n    label,\n    value,\n}) => {\n    const doubleClickTimeout = useRef(null)\n\n    return (\n        <div\n            data-test={dataTest}\n            onClick={event => {\n                if (disabled) return\n\n                if (doubleClickTimeout.current) {\n                    clearTimeout(doubleClickTimeout.current)\n                    doubleClickTimeout.current = null\n\n                    onDoubleClick({ value }, event)\n                } else {\n                    doubleClickTimeout.current = setTimeout(() => {\n                        clearTimeout(doubleClickTimeout.current)\n                        doubleClickTimeout.current = null\n                    }, DOUBLE_CLICK_MAX_DELAY)\n\n                    onClick({ value }, event)\n                }\n            }}\n            data-value={value}\n            className={cx(className, { highlighted, disabled })}\n        >\n            {label}\n\n            <style jsx>{`\n                div {\n                    font-size: 14px;\n                    line-height: 16px;\n                    padding: 4px 8px;\n                    color: ${colors.grey900};\n                    user-select: none;\n                }\n\n                div:hover {\n                    background: ${colors.grey200};\n                }\n\n                div.highlighted {\n                    background: ${colors.teal700};\n                    color: ${colors.white};\n                }\n\n                div.disabled {\n                    color: ${colors.grey600};\n                    cursor: not-allowed;\n                }\n            `}</style>\n        </div>\n    )\n}\n\nTransferOption.defaultProps = {\n    dataTest: 'dhis2-uicore-transferoption',\n}\n\n/**\n * @typedef {Object} PropTypes\n * @static\n *\n * @prop {string} label\n * @prop {string} value\n * @prop {Object} [additionalData]\n * @prop {string} [className]\n * @prop {string} [dataTest]\n * @prop {bool} [disabled]\n * @prop {bool} [highlighted]\n * @prop {Function} [onClick]\n * @prop {Function} [onDoubleClick]\n */\nTransferOption.propTypes = {\n    label: propTypes.string.isRequired,\n    value: propTypes.string.isRequired,\n    className: propTypes.string,\n    dataTest: propTypes.string,\n    disabled: propTypes.bool,\n    highlighted: propTypes.bool,\n    onClick: propTypes.func,\n    onDoubleClick: propTypes.func,\n}\n","/**\n * @param {Object} args\n * @param {Object[]} args.sourceOptions\n * @param {string[]} args.selected\n * @param {Function} args.onChange\n * @param {Function} arg.setHighlightedSourceOptions\n * @returns {void}\n */\nexport const addAllSelectableSourceOptions = ({\n    sourceOptions,\n    onChange,\n    selected,\n    setHighlightedSourceOptions,\n}) => {\n    const enabledSourceOptions = sourceOptions.filter(\n        ({ disabled }) => !disabled\n    )\n\n    const newSelected = enabledSourceOptions.reduce(\n        (accumulatedSelected, enabledSourceOption) => [\n            ...accumulatedSelected,\n            enabledSourceOption.value,\n        ],\n        selected\n    )\n\n    setHighlightedSourceOptions([])\n\n    // If we ever allow maxSelection to be any value\n    // other than 1 and Infinity, we need to think\n    // about how this should behave:\n    //\n    // Either we hide this button when it's not \"Infinity\",\n    // or we have to decide whether we want to take the first\n    // nth options or the last\n    onChange({ selected: newSelected })\n}\n","/**\n * @param {Object} args\n * @param {bool} args.filterable\n * @param {Object[]} args.sourceOptions\n * @param {string[]} args.highlightedSourceOptions\n * @param {string[]} args.selected\n * @param {Function} args.onChange\n * @param {Function} args.setHighlightedSourceOptions\n * @returns void\n */\nexport const addIndividualSourceOptions = ({\n    filterable,\n    sourceOptions,\n    highlightedSourceOptions,\n    maxSelections,\n    onChange,\n    selected,\n    setHighlightedSourceOptions,\n}) => {\n    /**\n     * Creates a subset of the highlighted options to reflect a changed\n     * filter value in case previously highlighted options are now\n     * hidden.\n     *\n     * This enables us to keep items highlighted while searching for\n     * a particular one.\n     *\n     * With this subset we only select the subset when the user\n     * clicks the \"add individuals\" button\n     */\n    const filteredHighlightedSourceOptions = filterable\n        ? highlightedSourceOptions.filter(value =>\n              sourceOptions.find(\n                  filteredOption => filteredOption.value === value\n              )\n          )\n        : highlightedSourceOptions\n\n    const newSelected = filteredHighlightedSourceOptions.reduce(\n        (accumulatedSelected, value) => [\n            ...accumulatedSelected,\n            filteredHighlightedSourceOptions.find(\n                filteredHighlightedSourceOption =>\n                    filteredHighlightedSourceOption === value\n            ),\n        ],\n        selected\n    )\n\n    setHighlightedSourceOptions([])\n\n    /**\n     * This will extract from the end, hence the \"-1 *\"\n     * As the \"newest\" additions are always at the end of the array,\n     * it's safe to just take the last nth (depending on maxSelection)\n     * to always get the right ones\n     */\n    onChange({\n        selected: newSelected.slice(-1 * maxSelections),\n    })\n}\n","/**\n * @param {Object} args\n * @param {number} args.maxSelections\n * @param {string[]} args.selected\n * @param {Function} args.onChange\n * @param {Function} args.setHighlightedSourceOptions\n * @param {Function} args.setHighlightedPickedOptions\n * @returns void\n */\nexport const createDoubleClickHandlers = ({\n    maxSelections,\n    onChange,\n    selected,\n    setHighlightedPickedOptions,\n    setHighlightedSourceOptions,\n}) => {\n    const selectSingleOption = ({ value }) => {\n        const newSelected = selected.includes(value)\n            ? selected\n            : [...selected, value]\n\n        setHighlightedSourceOptions([])\n        onChange({ selected: newSelected.slice(-1 * maxSelections) })\n    }\n\n    const deselectSingleOption = ({ value }) => {\n        const newSelected = selected.filter(\n            curSelected => curSelected !== value\n        )\n\n        setHighlightedPickedOptions([])\n        onChange({ selected: newSelected })\n    }\n\n    return { selectSingleOption, deselectSingleOption }\n}\n","/**\n * @param {Object[]} options\n * @param {string} filter\n * @returns {Object[]}\n */\nexport const defaultFilterCallback = (options, filter) =>\n    filter === ''\n        ? options\n        : options.filter(({ label }) => label.match(new RegExp(filter, 'i')))\n","import { getModeByModifierKey } from '../common/index.js'\n\n/**\n * @param {Object} option\n * @param {Function} selectionHandler\n * @param {Function} toggleHighlightedOption\n * @returns {Object}\n */\nexport const getOptionClickHandlers = (\n    option,\n    selectionHandler,\n    toggleHighlightedOption\n) => ({\n    onClick: (_, event) => {\n        const mode = getModeByModifierKey(event)\n        toggleHighlightedOption({ option, mode })\n    },\n    onDoubleClick: selectionHandler,\n})\n","/**\n * @param {Object} args\n * @param {string} args.highlightedPickedOptions\n * @param {string[]} args.selected\n * @returns {bool}\n */\nexport const isReorderDownDisabled = ({ highlightedPickedOptions, selected }) =>\n    // only one item can be moved with the buttons\n    highlightedPickedOptions.length !== 1 ||\n    // can't move an item down if it's the last one\n    selected.indexOf(highlightedPickedOptions[0]) === selected.length - 1\n","/**\n * @param {Object} args\n * @param {string} args.highlightedPickedOptions\n * @param {string[]} args.selected\n * @returns {bool}\n */\nexport const isReorderUpDisabled = ({ highlightedPickedOptions, selected }) =>\n    // only one item can be moved with the buttons\n    highlightedPickedOptions.length !== 1 ||\n    // can't move an item up if it's the first one\n    selected.indexOf(highlightedPickedOptions[0]) === 0\n","/**\n * @param {Object} args\n * @param {string[]} args.selected\n * @param {string[]} args.highlightedPickedOptions\n * @param {Function} args.onChange\n * @returns {void}\n */\nexport const moveHighlightedPickedOptionDown = ({\n    selected,\n    highlightedPickedOptions,\n    onChange,\n}) => {\n    const optionIndex = selected.findIndex(\n        selectedOption => selectedOption === highlightedPickedOptions[0]\n    )\n\n    // Can't move down last or non-existing option\n    if (optionIndex === -1 || optionIndex > selected.length - 2) return\n\n    // swap with next item\n    const reordered = [\n        ...selected.slice(0, optionIndex),\n        selected[optionIndex + 1],\n        selected[optionIndex],\n        ...selected.slice(optionIndex + 2),\n    ]\n\n    onChange({ selected: reordered })\n}\n","/**\n * @param {Object} args\n * @param {string[]} args.selected\n * @param {string[]} args.highlightedPickedOptions\n * @param {Function} args.onChange\n * @returns {void}\n */\nexport const moveHighlightedPickedOptionUp = ({\n    selected,\n    highlightedPickedOptions,\n    onChange,\n}) => {\n    const optionIndex = selected.findIndex(\n        selectedOption => selectedOption === highlightedPickedOptions[0]\n    )\n\n    // Can't move up option at index 0 or non-existing option\n    if (optionIndex < 1) return\n\n    // swap with previous item\n    const reordered = [\n        ...selected.slice(0, optionIndex - 1),\n        selected[optionIndex],\n        selected[optionIndex - 1],\n        ...selected.slice(optionIndex + 1),\n    ]\n\n    onChange({ selected: reordered })\n}\n","/**\n * @param {Object} args\n * @param {Function} args.setHighlightedPickedOptions\n * @param {Function} args.onChange\n * @returns {void}\n */\nexport const removeAllPickedOptions = ({\n    setHighlightedPickedOptions,\n    onChange,\n}) => {\n    setHighlightedPickedOptions([])\n    onChange({ selected: [] })\n}\n","/**\n * @param {Object} args\n * @param {string[]} args.highlightedPickedOptions\n * @param {string[]} args.selected\n * @param {Function} args.setHighlightedPickedOptions\n * @param {Function} args.onChange\n * @returns {void}\n */\nexport const removeIndividualPickedOptions = ({\n    filterablePicked,\n    pickedOptions,\n    highlightedPickedOptions,\n    onChange,\n    selected,\n    setHighlightedPickedOptions,\n}) => {\n    /**\n     * Creates a subset of the highlighted options to reflect a changed\n     * filter value in case previously highlighted options are now\n     * hidden.\n     *\n     * This enables us to keep items highlighted while searching for\n     * a particular one.\n     *\n     * With this subset we only select the subset when the user\n     * clicks the \"add individuals\" button\n     */\n    const filteredHighlightedPickedOptions = filterablePicked\n        ? highlightedPickedOptions.filter(value =>\n              pickedOptions.find(\n                  filteredOption => filteredOption.value === value\n              )\n          )\n        : highlightedPickedOptions\n\n    const newSelected = selected.filter(\n        selectedOption =>\n            !filteredHighlightedPickedOptions.includes(selectedOption)\n    )\n\n    setHighlightedPickedOptions([])\n\n    /**\n     * as the maximum amount of selected items\n     * is already restricted through the selection mechanism,\n     * there's no need to handle `maxSelection` here\n     */\n    onChange({ selected: newSelected })\n}\n","import { useState } from 'react'\n\nconst identity = value => value\n\nexport const useFilter = ({\n    initialSearchTerm,\n    onFilterChange,\n    externalSearchTerm,\n    filterable,\n    filterCallback,\n}) => {\n    const [internalFilter, setInternalFilter] = useState(initialSearchTerm)\n    const filterValue = onFilterChange ? externalSearchTerm : internalFilter\n    const filter = filterable ? filterCallback : identity\n\n    return { filterValue, filter, setInternalFilter }\n}\n","import { toggleValue } from '../../common'\n\n/**\n * @param {Object} args\n * @param {number} args.maxSelections\n * @param {string[]} args.highlightedOptions\n * @param {Object} args.option\n * @param {Function} args.setHighlightedOption\n * @returns {void}\n */\nexport const toggleAdd = ({\n    highlightedOptions,\n    maxSelections,\n    option,\n    setHighlightedOptions,\n}) => {\n    const afterToggled = toggleValue(highlightedOptions, option.value)\n    const capped = afterToggled.slice(-1 * maxSelections)\n    setHighlightedOptions(capped)\n}\n","import { findOptionIndex } from '../../common/index.js'\n\n/**\n * @param {Object} args\n * @param {number} args.maxSelections\n * @param {string[]} args.highlightedOptions\n * @param {Object[]} args.options\n * @param {Object} args.option\n * @param {string} args.lastClicked\n * @param {Function} args.setHighlightedOption\n * @returns {void}\n */\nexport const toggleRange = ({\n    highlightedOptions,\n    options,\n    option,\n    setHighlightedOptions,\n    lastClicked,\n    maxSelections,\n}) => {\n    if (highlightedOptions.length === 0) {\n        setHighlightedOptions([option.value])\n    } else {\n        let from, to\n\n        const clickedOptionIndex = findOptionIndex(options, option)\n        const lastClickedSourceOptionWithoutRangeModeIndex = lastClicked\n            ? options.findIndex(curOption => curOption.value === lastClicked)\n            : -1\n\n        if (lastClickedSourceOptionWithoutRangeModeIndex !== -1) {\n            from = lastClickedSourceOptionWithoutRangeModeIndex\n            to = clickedOptionIndex\n        } else {\n            /**\n             * A filter-change has removed the most recently highlighted option\n             */\n            const firstHighlightedInList = options.findIndex(option =>\n                highlightedOptions.find(\n                    highlightedOption => highlightedOption === option.value\n                )\n            )\n\n            from = firstHighlightedInList\n            to = clickedOptionIndex\n        }\n\n        // this is so we can also selected\n        // a range of options above \"from\" option.\n        // -> Just how slice works ;)\n        const lower = Math.min(from, to)\n        const higher = Math.max(from, to)\n        const newHighlightedSourceOptions = options\n            .slice(lower, higher + 1)\n            .filter(option => !option.disabled)\n            .slice(maxSelections * -1)\n            .map(({ value }) => value)\n\n        setHighlightedOptions(newHighlightedSourceOptions)\n    }\n}\n","/**\n * @param {Object} args\n * @param {string[]} args.highlightedOptions\n * @param {Object} args.option\n * @param {Function} args.setHighlightedOption\n * @returns {void}\n */\nexport const toggleReplace = ({\n    option,\n    highlightedOptions,\n    setHighlightedOptions,\n}) => {\n    if (highlightedOptions.length > 1) {\n        setHighlightedOptions([option.value])\n    } else {\n        const optionIndex = highlightedOptions.findIndex(\n            highlightedOption => highlightedOption === option.value\n        )\n\n        if (optionIndex === -1) {\n            setHighlightedOptions([option.value])\n        } else {\n            setHighlightedOptions([])\n        }\n    }\n}\n","import { ADD_MODE, RANGE_MODE } from '../../common/index.js'\nimport { toggleAdd } from './toggleAdd.js'\nimport { toggleRange } from './toggleRange.js'\nimport { toggleReplace } from './toggleReplace.js'\n\n/**\n * @param {Object} args\n * @param {bool} args.disabled\n * @param {string[]} args.highlightedOptions\n * @param {Function} args.setHighlightedOptions\n * @param {number} args.maxSelections\n * @param {Function} args.setLastClicked\n * @param {Object[]} args.options\n * @param {string} args.lastClicked\n * @returns {void}\n */\nexport const createToggleHighlightedOption = ({\n    disabled,\n    highlightedOptions,\n    setHighlightedOptions,\n    maxSelections,\n    setLastClicked,\n    options,\n    lastClicked,\n}) => ({ option, mode }) => {\n    if (disabled) return\n\n    setHighlightedOptions([])\n\n    if (mode === ADD_MODE) {\n        setLastClicked(option.value)\n\n        return toggleAdd({\n            highlightedOptions,\n            maxSelections,\n            option,\n            setHighlightedOptions,\n        })\n    }\n\n    if (mode === RANGE_MODE) {\n        return toggleRange({\n            highlightedOptions,\n            options,\n            option,\n            setHighlightedOptions,\n            lastClicked,\n            maxSelections,\n        })\n    }\n\n    // REPLACE_MODE\n    setLastClicked(option.value)\n\n    return toggleReplace({\n        option,\n        highlightedOptions,\n        setHighlightedOptions,\n    })\n}\n","import { useState } from 'react'\n\nimport { createToggleHighlightedOption } from './useHighlightedOptions/createToggleHighlightedOption.js'\n\n/**\n * @param {Object} args\n * @param {bool} args.disabled\n * @param {number} args.maxSelection\n * @param {Object[]} args.options\n * @returns {Object} highlighted options & helpers\n */\nexport const useHighlightedOptions = ({ disabled, maxSelections, options }) => {\n    /**\n     * These are important so the stored element can be used\n     * as range-start when using shift multiple times consecutively\n     */\n    const [lastClicked, setLastClicked] = useState(null)\n    const [highlightedOptions, setHighlightedOptions] = useState([])\n\n    const toggleHighlightedOption = createToggleHighlightedOption({\n        disabled,\n        highlightedOptions,\n        setHighlightedOptions,\n        maxSelections,\n        setLastClicked,\n        options,\n        lastClicked,\n    })\n\n    return {\n        highlightedOptions,\n        setHighlightedOptions,\n        toggleHighlightedOption,\n    }\n}\n","import React from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nimport { Actions } from './Actions.js'\nimport { AddAll } from './AddAll.js'\nimport { AddIndividual } from './AddIndividual.js'\nimport { Container } from './Container.js'\nimport { Filter } from './Filter.js'\nimport { LeftFooter } from './LeftFooter.js'\nimport { LeftHeader } from './LeftHeader.js'\nimport { LeftSide } from './LeftSide.js'\nimport { OptionsContainer } from './OptionsContainer.js'\nimport { RemoveAll } from './RemoveAll.js'\nimport { RemoveIndividual } from './RemoveIndividual.js'\nimport { ReorderingActions } from './ReorderingActions.js'\nimport { RightHeader } from './RightHeader.js'\nimport { RightFooter } from './RightFooter.js'\nimport { RightSide } from './RightSide.js'\nimport { TransferOption } from './TransferOption.js'\nimport {\n    addAllSelectableSourceOptions,\n    addIndividualSourceOptions,\n    createDoubleClickHandlers,\n    defaultFilterCallback,\n    getOptionClickHandlers,\n    isReorderDownDisabled,\n    isReorderUpDisabled,\n    moveHighlightedPickedOptionDown,\n    moveHighlightedPickedOptionUp,\n    removeAllPickedOptions,\n    removeIndividualPickedOptions,\n    useFilter,\n    useHighlightedOptions,\n} from './Transfer/index.js'\n\nconst identity = value => value\n\n/**\n * @module\n * @param {Transfer.PropTypes} props\n *\n * @returns {React.Component}\n *\n * @example import { Transfer } from @dhis2/ui-core\n * @see Specification: {@link https://github.com/dhis2/design-system/blob/master/organisms/transfer.md|Design system}\n * @see Live demo: {@link /demo/?path=/story/transfer--basic|Storybook}\n *\n * This component has to differentiate between different types of options,\n * here's an explanation of their meaning:\n *\n * * source options -> These are options listed on the left and are available\n * for selection\n *\n * * picked options -> These options have been selected by the user and are on\n * the right side\n *\n * * highlighted option -> These are visually highlighted options than can be\n * on either side and are ready for transferral with the action buttons to the\n * other side\n *\n * * filtered options -> These are the displayed source options filtered\n * by a search term or a custom search algorithm.\n *\n * The api surface uses \"selected\" for \"picked\" to be consistent with the\n * rest of the library\n */\nexport const Transfer = ({\n    options,\n    onChange,\n\n    addAllText,\n    addIndividualText,\n    className,\n    dataTest,\n    disabled,\n    enableOrderChange,\n    filterCallback,\n    filterCallbackPicked,\n    filterLabel,\n    filterLabelPicked,\n    filterPlaceholder,\n    filterPlaceholderPicked,\n    filterable,\n    filterablePicked,\n    height,\n    hideFilterInput,\n    hideFilterInputPicked,\n    initialSearchTerm,\n    initialSearchTermPicked,\n    leftFooter,\n    leftHeader,\n    loadingPicked,\n    loading,\n    maxSelections,\n    optionsWidth,\n    removeAllText,\n    removeIndividualText,\n    renderOption,\n    rightFooter,\n    rightHeader,\n    searchTerm,\n    searchTermPicked,\n    selected,\n    selectedEmptyComponent,\n    selectedWidth,\n    sourceEmptyPlaceholder,\n    onFilterChange,\n    onFilterChangePicked,\n    onEndReached,\n    onEndReachedPicked,\n}) => {\n    /* Source options search value:\n     * Depending on whether the onFilterChange callback has been provided\n     * either the internal or external search value is used */\n    const {\n        filterValue: actualFilter,\n        filter: actualFilterCallback,\n        setInternalFilter,\n    } = useFilter({\n        initialSearchTerm,\n        onFilterChange,\n        externalSearchTerm: searchTerm,\n        filterable,\n        filterCallback,\n    })\n\n    /*\n     * Actual source options:\n     * Extract the not-selected options.\n     * Filters options if filterable is true.\n     */\n    const sourceOptions = actualFilterCallback(\n        options.filter(({ value }) => !selected.includes(value)),\n        actualFilter\n    )\n\n    /*\n     * Picked options highlighting:\n     * These are all the highlighted options on the options side.\n     */\n    const {\n        highlightedOptions: highlightedSourceOptions,\n        setHighlightedOptions: setHighlightedSourceOptions,\n        toggleHighlightedOption: toggleHighlightedSourceOption,\n    } = useHighlightedOptions({\n        options: sourceOptions,\n        disabled,\n        maxSelections,\n    })\n\n    /* Picked options search value:\n     * Depending on whether the onFilterChangePicked callback has been provided\n     * either the internal or external search value is used */\n    const {\n        filterValue: actualFilterPicked,\n        filter: actualFilterPickedCallback,\n        setInternalFilter: setInternalFilterPicked,\n    } = useFilter({\n        filterable: filterablePicked,\n        initialSearchTerm: initialSearchTermPicked,\n        onFilterChange: onFilterChangePicked,\n        externalSearchTerm: searchTermPicked,\n        filterCallback: filterCallbackPicked,\n    })\n\n    /*\n     * Actual picked options:\n     * Extract the selected options. Can't use `options.filter`\n     * because we need to keep the order of `selected`\n     */\n    const pickedOptions = actualFilterPickedCallback(\n        selected\n            .map(value => options.find(option => value === option.value))\n            // filter -> in case a selected value has been provided\n            // that does not exist as option\n            .filter(identity),\n        actualFilterPicked\n    )\n\n    /*\n     * Source options highlighting:\n     * These are all the highlighted options on the selected side.\n     */\n    const {\n        highlightedOptions: highlightedPickedOptions,\n        setHighlightedOptions: setHighlightedPickedOptions,\n        toggleHighlightedOption: toggleHighlightedPickedOption,\n    } = useHighlightedOptions({\n        options: pickedOptions,\n        disabled,\n        maxSelections,\n    })\n\n    /*\n     * Source & Picked options:\n     * These are the double click handlers for (de-)selection\n     */\n    const {\n        selectSingleOption,\n        deselectSingleOption,\n    } = createDoubleClickHandlers({\n        selected,\n        setHighlightedSourceOptions,\n        setHighlightedPickedOptions,\n        onChange,\n        maxSelections,\n    })\n\n    /**\n     * Disabled button states\n     */\n    const isAddAllDisabled =\n        disabled ||\n        sourceOptions.filter(({ disabled }) => !disabled).length === 0\n    const isAddIndividualDisabled = disabled || !highlightedSourceOptions.length\n    const isRemoveAllDisabled = disabled || !selected.length\n    const isRemoveIndividualDisabled =\n        disabled || !highlightedPickedOptions.length\n\n    return (\n        <Container dataTest={dataTest} className={className} height={height}>\n            <LeftSide dataTest={`${dataTest}-leftside`} width={optionsWidth}>\n                {(leftHeader || filterable) && (\n                    <LeftHeader dataTest={`${dataTest}-leftheader`}>\n                        {leftHeader}\n\n                        {filterable && !hideFilterInput && (\n                            <Filter\n                                label={filterLabel}\n                                placeholder={filterPlaceholder}\n                                dataTest={`${dataTest}-filter`}\n                                filter={actualFilter}\n                                onChange={\n                                    onFilterChange\n                                        ? onFilterChange\n                                        : ({ value }) =>\n                                              setInternalFilter(value)\n                                }\n                            />\n                        )}\n                    </LeftHeader>\n                )}\n\n                <OptionsContainer\n                    dataTest={`${dataTest}-sourceoptions`}\n                    emptyComponent={sourceEmptyPlaceholder}\n                    getOptionClickHandlers={getOptionClickHandlers}\n                    highlightedOptions={highlightedSourceOptions}\n                    loading={loading}\n                    options={sourceOptions}\n                    renderOption={renderOption}\n                    selectionHandler={selectSingleOption}\n                    toggleHighlightedOption={toggleHighlightedSourceOption}\n                    onEndReached={onEndReached}\n                />\n\n                {leftFooter && (\n                    <LeftFooter dataTest={`${dataTest}-leftfooter`}>\n                        {leftFooter}\n                    </LeftFooter>\n                )}\n            </LeftSide>\n\n            <Actions dataTest={`${dataTest}-actions`}>\n                {maxSelections === Infinity && (\n                    <AddAll\n                        label={addAllText}\n                        dataTest={`${dataTest}-actions-addall`}\n                        disabled={isAddAllDisabled}\n                        onClick={() =>\n                            addAllSelectableSourceOptions({\n                                sourceOptions,\n                                selected,\n                                onChange,\n                                setHighlightedSourceOptions,\n                            })\n                        }\n                    />\n                )}\n\n                <AddIndividual\n                    label={addIndividualText}\n                    dataTest={`${dataTest}-actions-addindividual`}\n                    disabled={isAddIndividualDisabled}\n                    onClick={() =>\n                        addIndividualSourceOptions({\n                            filterable,\n                            sourceOptions,\n                            highlightedSourceOptions,\n                            selected,\n                            maxSelections,\n                            onChange,\n                            setHighlightedSourceOptions,\n                        })\n                    }\n                />\n\n                {maxSelections === Infinity && (\n                    <RemoveAll\n                        label={removeAllText}\n                        dataTest={`${dataTest}-actions-removeall`}\n                        disabled={isRemoveAllDisabled}\n                        onClick={() =>\n                            removeAllPickedOptions({\n                                setHighlightedPickedOptions,\n                                onChange,\n                            })\n                        }\n                    />\n                )}\n\n                <RemoveIndividual\n                    label={removeIndividualText}\n                    dataTest={`${dataTest}-actions-removeindividual`}\n                    disabled={isRemoveIndividualDisabled}\n                    onClick={() =>\n                        removeIndividualPickedOptions({\n                            filterablePicked,\n                            pickedOptions,\n                            highlightedPickedOptions,\n                            onChange,\n                            selected,\n                            setHighlightedPickedOptions,\n                        })\n                    }\n                />\n            </Actions>\n\n            <RightSide dataTest={`${dataTest}-rightside`} width={selectedWidth}>\n                {(rightHeader || filterablePicked) && (\n                    <RightHeader dataTest={`${dataTest}-rightheader`}>\n                        {rightHeader}\n\n                        {filterablePicked && !hideFilterInputPicked && (\n                            <Filter\n                                label={filterLabelPicked}\n                                placeholder={filterPlaceholderPicked}\n                                dataTest={`${dataTest}-filter`}\n                                filter={actualFilterPicked}\n                                onChange={\n                                    onFilterChangePicked\n                                        ? onFilterChangePicked\n                                        : ({ value }) =>\n                                              setInternalFilterPicked(value)\n                                }\n                            />\n                        )}\n                    </RightHeader>\n                )}\n\n                <OptionsContainer\n                    dataTest={`${dataTest}-pickedoptions`}\n                    emptyComponent={selectedEmptyComponent}\n                    getOptionClickHandlers={getOptionClickHandlers}\n                    highlightedOptions={highlightedPickedOptions}\n                    loading={loadingPicked}\n                    options={pickedOptions}\n                    renderOption={renderOption}\n                    selectionHandler={deselectSingleOption}\n                    toggleHighlightedOption={toggleHighlightedPickedOption}\n                    onEndReached={onEndReachedPicked}\n                />\n\n                {(rightFooter || enableOrderChange) && (\n                    <RightFooter dataTest={`${dataTest}-rightfooter`}>\n                        {enableOrderChange && (\n                            <ReorderingActions\n                                dataTest={`${dataTest}-reorderingactions`}\n                                disabledDown={isReorderDownDisabled({\n                                    highlightedPickedOptions,\n                                    selected,\n                                })}\n                                disabledUp={isReorderUpDisabled({\n                                    highlightedPickedOptions,\n                                    selected,\n                                })}\n                                onChangeUp={() =>\n                                    moveHighlightedPickedOptionUp({\n                                        selected,\n                                        highlightedPickedOptions,\n                                        onChange,\n                                    })\n                                }\n                                onChangeDown={() => {\n                                    moveHighlightedPickedOptionDown({\n                                        selected,\n                                        highlightedPickedOptions,\n                                        onChange,\n                                    })\n                                }}\n                            />\n                        )}\n\n                        {rightFooter}\n                    </RightFooter>\n                )}\n            </RightSide>\n        </Container>\n    )\n}\n\nconst defaultRenderOption = option => <TransferOption {...option} />\n\nTransfer.defaultProps = {\n    dataTest: 'dhis2-uicore-transfer',\n    height: '240px',\n    initialSearchTerm: '',\n    initialSearchTermPicked: '',\n    maxSelections: Infinity,\n    optionsWidth: '320px',\n    renderOption: defaultRenderOption,\n    selected: [],\n    selectedWidth: '320px',\n    filterCallback: defaultFilterCallback,\n    filterCallbackPicked: defaultFilterCallback,\n}\n\n/**\n * @typedef {Object} PropTypes\n * @static\n *\n * @prop {Function} onChange\n * @prop {string} [addAllText]\n * @prop {string} [addIndividualText]\n * @prop {Node} [children]\n * @prop {string} [className]\n * @prop {string} [dataTest]\n * @prop {Node} [sourceEmptyPlaceholder]\n * @prop {Node} [selectedEmptyComponent]\n * @prop {bool} [hideFilterInput] Automatically true when \"hideFilterInput\" is true\n * @prop {bool} [enableOrderChange]\n * @prop {string} [filterLabel]\n * @prop {string} [filterPlaceholder]\n * @prop {Function} [filterCallback]\n * @prop {string} [height]\n * @prop {bool} [hideFilterInput]\n * @prop {string} [initialSearchTerm]\n * @prop {Node} [leftFooter]\n * @prop {Node} [leftHeader]\n * @prop {1|Infinity} maxSelections\n * @prop {string} [optionsWidth]\n * @prop {string} [removeAllText]\n * @prop {string} [removeIndividualText]\n * @prop {Node} [rightHeader]\n * @prop {Node} [rightFooter]\n * @prop {string} [searchTerm]\n * @prop {string[]} selected\n * @prop {string} [selectedWidth]\n * @prop {Function} [onFilterChange]\n */\nTransfer.propTypes = {\n    options: propTypes.arrayOf(\n        propTypes.shape({\n            label: propTypes.string.isRequired,\n            value: propTypes.string.isRequired,\n            disabled: propTypes.bool,\n        })\n    ).isRequired,\n    onChange: propTypes.func.isRequired,\n\n    addAllText: propTypes.string,\n    addIndividualText: propTypes.string,\n    className: propTypes.string,\n    dataTest: propTypes.string,\n    disabled: propTypes.bool,\n    enableOrderChange: propTypes.bool,\n    filterCallback: propTypes.func,\n    filterCallbackPicked: propTypes.func,\n    filterLabel: propTypes.string,\n    filterLabelPicked: propTypes.string,\n    filterPlaceholder: propTypes.string,\n    filterPlaceholderPicked: propTypes.string,\n    filterable: propTypes.bool,\n    filterablePicked: propTypes.bool,\n    height: propTypes.string,\n    hideFilterInput: propTypes.bool,\n    hideFilterInputPicked: propTypes.bool,\n    initialSearchTerm: propTypes.string,\n    initialSearchTermPicked: propTypes.string,\n    leftFooter: propTypes.node,\n    leftHeader: propTypes.node,\n    loading: propTypes.bool,\n    loadingPicked: propTypes.bool,\n    maxSelections: propTypes.oneOf([1, Infinity]),\n    optionsWidth: propTypes.string,\n    removeAllText: propTypes.string,\n    removeIndividualText: propTypes.string,\n    renderOption: propTypes.func,\n    rightFooter: propTypes.node,\n    rightHeader: propTypes.node,\n    searchTerm: propTypes.string,\n    searchTermPicked: propTypes.string,\n    selected: propTypes.arrayOf(propTypes.string),\n    selectedEmptyComponent: propTypes.node,\n    selectedWidth: propTypes.string,\n    sourceEmptyPlaceholder: propTypes.node,\n    onEndReached: propTypes.func,\n    onEndReachedPicked: propTypes.func,\n    onFilterChange: propTypes.func,\n    onFilterChangePicked: propTypes.func,\n}\n"],"names":["InputField","React","Component","render","className","onChange","onFocus","onBlur","initialFocus","type","dense","required","label","disabled","readOnly","placeholder","name","valid","error","warning","loading","value","tabIndex","helpText","validationText","inputWidth","dataTest","props","Field","Box","Input","defaultProps","propTypes","string","bool","sharedPropTypes","statusPropType","func","joinPath","parts","realParts","filter","part","map","replace","join","appIcon","colors","white","settingsIcon","grey900","escapeRegExpCharacters","text","Search","baseUrl","useConfig","i18n","t","Settings","styles","isRequired","Item","path","img","theme","primary050","List","apps","displayName","appName","formattedAppName","toLowerCase","formattedFilter","length","match","defaultAction","icon","idx","array","Apps","show","evt","elContainer","contains","target","setState","state","Card","componentDidMount","document","addEventListener","onDocClick","componentWillUnmount","removeEventListener","c","onToggle","AppsIcon","AppMenu","ImageIcon","src","onClick","dataTestId","undefined","TextIcon","title","indexOf","split","ProfileName","children","ProfileEmail","ProfileEdit","ProfileDetails","email","ProfileHeader","iconStyle","grey700","getMenuList","link","Account","Help","nobase","Info","Exit","ProfileContents","avatar","Divider","MenuItem","element","ProfileMenu","avatarPath","id","Profile","userIcon","me","user","object","logoStyles","query","customLogo","resource","pathExists","data","images","png","LogoImage","useDataQuery","Logo","LogoIconWhite","Title","app","instance","messageIcon","interpretationIcon","kind","Message","Email","NotificationIcon","count","href","secondary300","number","oneOf","hasAuthority","userAuthorities","authId","Array","isArray","some","userAuthId","Notifications","interpretations","messages","arrayOf","notifications","HeaderBar","useMemo","getPath","startsWith","modules","locale","settings","keyUiLocale","setDefaultNamespace","changeLanguage","applicationTitle","unreadInterpretations","unreadMessageConversations","authorities","ErrorMessage","grey800","spacers","dp4","any","UNIT_ID_PATTERN","orgUnitPathPropType","propValue","key","compName","location","propFullName","RegExp","test","Error","DisabledSelectionLabel","onToggleOpen","SingleSelectionLabel","checked","event","payload","teal700","cx","LabelContainer","highlighted","teal200","node","Icon","hasChildren","open","Empty","Single","FolderOpen","FolderClosed","IconizedCheckbox","indeterminate","checkboxLabel","Checkbox","createNewSelected","selected","singleSelection","pathIndex","slice","prevSlice","nextSlice","Label","disableSelection","hasSelectedDescendants","newSelected","isPathIncluded","includedPaths","isIncluded","includedPath","computeChildNodes","child","hasDescendantSelectedPaths","selectedPath","useOpenState","expanded","onExpand","onCollapse","errorMessage","autoExpandLoadingError","autoExpand","openedOnceDueToError","setOpenedOnce","useState","setOpen","includes","useEffect","newOpen","fromEntries","entries","reduce","collection","withChildrenFields","withoutChildrenFields","createOrgUnitQuery","params","withChildren","isUserDataViewFallback","fields","paging","createQuery","ids","addMissingDisplayNameProps","nodes","nodeEntries","Object","nodesWithDisplayName","useOrgData","variables","refetch","loadingSpinnerStyles","LoadingSpinner","CircularLoader","OrganisationUnitNode","onChildrenLoaded","childNodes","isHighlighted","toString","isSelected","showPlaceholder","showChildNodes","Node","childPath","grandChildNodes","RootError","RootLoading","extractAllPathsFromPath","segments","withSubPaths","segment","index","getInitiallyExpandedPaths","initiallyExpanded","all","curPath","allPathsInCurPath","createExpandHandlers","setExpanded","handleExpand","rest","handleCollapse","updatedExpanded","useExpanded","allInitiallyExpandedPaths","useForceReload","forceReload","reloadId","setReloadId","OrganisationUnitTree","roots","rootIds","rootId","rootNode","rootPath","oneOfType","AddRequired","Required","CheckboxField","FieldGroup","FieldSet","translate","prop","FileInputField","accept","buttonLabel","large","multiple","small","FileInput","FileList","FileListPlaceholder","sizePropType","MultiSelectField","maxHeight","inputMaxHeight","clearable","clearText","filterable","filterPlaceholder","prefix","empty","loadingText","noMatchText","MultiSelect","SingleSelectField","SingleSelect","SwitchField","Switch","TextAreaField","autoGrow","resize","rows","TextArea","width","Actions","dp8","centerButtonStyles","IconAddAll","IconAddIndividual","IconRemoveAll","IconRemoveIndividual","IconMoveDown","IconMoveUp","AddAll","Button","AddIndividual","Container","height","Filter","REPLACE_MODE","ADD_MODE","RANGE_MODE","borderColor","grey400","borderRadius","isOption","left","right","findOptionIndex","options","option","findIndex","current","getModeByModifierKey","altKey","shiftKey","ctrlKey","metaKey","keys","amountKeyPressed","v","moreThanOneKeyPressed","toggleValue","values","LeftFooter","LeftHeader","LeftSide","EndIntersectionDetector","rootRef","onEndReached","IntersectionDetector","isIntersecting","shape","instanceOf","HTMLElement","OptionsContainer","emptyComponent","getOptionClickHandlers","highlightedOptions","renderOption","selectionHandler","toggleHighlightedOption","remountCounter","setRemountCounter","resizeObserver","setResizeObserver","optionsRef","useRef","wrapperRef","firstCall","observer","ResizeObserver","newCounter","observe","disconnect","find","highlightedSourceOption","Fragment","RemoveAll","RemoveIndividual","ReorderingActions","disabledDown","disabledUp","onChangeUp","onChangeDown","RightHeader","RightFooter","RightSide","DOUBLE_CLICK_MAX_DELAY","TransferOption","onDoubleClick","doubleClickTimeout","clearTimeout","setTimeout","grey200","grey600","addAllSelectableSourceOptions","sourceOptions","setHighlightedSourceOptions","enabledSourceOptions","accumulatedSelected","enabledSourceOption","addIndividualSourceOptions","highlightedSourceOptions","maxSelections","filteredHighlightedSourceOptions","filteredOption","filteredHighlightedSourceOption","createDoubleClickHandlers","setHighlightedPickedOptions","selectSingleOption","deselectSingleOption","curSelected","defaultFilterCallback","_","mode","isReorderDownDisabled","highlightedPickedOptions","isReorderUpDisabled","moveHighlightedPickedOptionDown","optionIndex","selectedOption","reordered","moveHighlightedPickedOptionUp","removeAllPickedOptions","removeIndividualPickedOptions","filterablePicked","pickedOptions","filteredHighlightedPickedOptions","identity","useFilter","initialSearchTerm","onFilterChange","externalSearchTerm","filterCallback","internalFilter","setInternalFilter","filterValue","toggleAdd","setHighlightedOptions","afterToggled","capped","toggleRange","lastClicked","from","to","clickedOptionIndex","lastClickedSourceOptionWithoutRangeModeIndex","curOption","firstHighlightedInList","highlightedOption","lower","Math","min","higher","max","newHighlightedSourceOptions","toggleReplace","createToggleHighlightedOption","setLastClicked","useHighlightedOptions","Transfer","addAllText","addIndividualText","enableOrderChange","filterCallbackPicked","filterLabel","filterLabelPicked","filterPlaceholderPicked","hideFilterInput","hideFilterInputPicked","initialSearchTermPicked","leftFooter","leftHeader","loadingPicked","optionsWidth","removeAllText","removeIndividualText","rightFooter","rightHeader","searchTerm","searchTermPicked","selectedEmptyComponent","selectedWidth","sourceEmptyPlaceholder","onFilterChangePicked","onEndReachedPicked","actualFilter","actualFilterCallback","toggleHighlightedSourceOption","actualFilterPicked","actualFilterPickedCallback","setInternalFilterPicked","toggleHighlightedPickedOption","isAddAllDisabled","isAddIndividualDisabled","isRemoveAllDisabled","isRemoveIndividualDisabled","Infinity","defaultRenderOption"],"mappings":"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"}