{"version":3,"file":"lib.js","sources":["../../src/InputField/InputField.js","../../src/HeaderBar/joinPath.js","../../src/HeaderBar/Apps.js","../../src/HeaderBar/ImageIcon.js","../../src/HeaderBar/TextIcon.js","../../src/HeaderBar/Profile/ProfileHeader.js","../../src/HeaderBar/Profile/ProfileMenu.js","../../src/HeaderBar/Profile.js","../../src/HeaderBar/LogoImage.js","../../src/HeaderBar/Logo.js","../../src/HeaderBar/Title.js","../../src/HeaderBar/NotificationIcon.js","../../src/HeaderBar/Notifications.js","../../src/HeaderBar/HeaderBar.js","../../src/OrganisationUnitTree/ErrorMessage.js","../../src/OrganisationUnitTree/propTypes.js","../../src/OrganisationUnitTree/Label.js","../../src/OrganisationUnitTree/computeChildNodes.js","../../src/OrganisationUnitTree/hasDescendantSelectedPaths.js","../../src/OrganisationUnitTree/useOpenState.js","../../src/OrganisationUnitTree/fromEntries.js","../../src/OrganisationUnitTree/useOrgData/helpers.js","../../src/OrganisationUnitTree/useOrgData.js","../../src/OrganisationUnitTree/OrganisationUnitNode.js","../../src/OrganisationUnitTree/RootError.js","../../src/OrganisationUnitTree/RootLoading.js","../../src/OrganisationUnitTree/useExpanded/helpers.js","../../src/OrganisationUnitTree/useExpanded.js","../../src/OrganisationUnitTree/useForceReload.js","../../src/OrganisationUnitTree/OrganisationUnitTree.js","../../src/CheckboxField/CheckboxField.js","../../src/FieldGroup/FieldGroup.js","../../src/translate/index.js","../../src/FileInputField/FileInputField.js","../../src/MultiSelectField/MultiSelectField.js","../../src/SingleSelectField/SingleSelectField.js","../../src/SwitchField/SwitchField.js","../../src/TextAreaField/TextAreaField.js","../../src/Transfer/Actions.js","../../src/Transfer/icons.js","../../src/Transfer/AddAll.js","../../src/Transfer/AddIndividual.js","../../src/Transfer/Container.js","../../src/Transfer/Filter.js","../../src/Transfer/common/modes.js","../../src/Transfer/common/styles.js","../../src/Transfer/common/isOption.js","../../src/Transfer/common/findOptionIndex.js","../../src/Transfer/common/getModeByModifierKey.js","../../src/Transfer/common/toggleValue.js","../../src/Transfer/LeftFooter.js","../../src/Transfer/LeftHeader.js","../../src/Transfer/LeftSide.js","../../src/Transfer/EndIntersectionDetector.js","../../src/Transfer/OptionsContainer.js","../../src/Transfer/RemoveAll.js","../../src/Transfer/RemoveIndividual.js","../../src/Transfer/ReorderingActions.js","../../src/Transfer/RightHeader.js","../../src/Transfer/RightFooter.js","../../src/Transfer/RightSide.js","../../src/Transfer/TransferOption.js","../../src/Transfer/Transfer/addAllSelectableSourceOptions.js","../../src/Transfer/Transfer/addIndividualSourceOptions.js","../../src/Transfer/Transfer/createDoubleClickHandlers.js","../../src/Transfer/Transfer/defaultFilterCallback.js","../../src/Transfer/Transfer/getOptionClickHandlers.js","../../src/Transfer/Transfer/isReorderDownDisabled.js","../../src/Transfer/Transfer/isReorderUpDisabled.js","../../src/Transfer/Transfer/moveHighlightedPickedOptionDown.js","../../src/Transfer/Transfer/moveHighlightedPickedOptionUp.js","../../src/Transfer/Transfer/removeAllPickedOptions.js","../../src/Transfer/Transfer/removeIndividualPickedOptions.js","../../src/Transfer/Transfer/useFilter.js","../../src/Transfer/Transfer/useHighlightedOptions/toggleAdd.js","../../src/Transfer/Transfer/useHighlightedOptions/toggleRange.js","../../src/Transfer/Transfer/useHighlightedOptions/toggleReplace.js","../../src/Transfer/Transfer/useHighlightedOptions/createToggleHighlightedOption.js","../../src/Transfer/Transfer/useHighlightedOptions.js","../../src/Transfer/Transfer.js"],"sourcesContent":["import propTypes from '@dhis2/prop-types'\nimport React from 'react'\n\nimport { sharedPropTypes } from '@dhis2/ui-constants'\nimport { Field, Input, Box } from '@dhis2/ui-core'\n\n/**\n * @module\n * @param {InputField.PropTypes} props\n * @returns {React.Component}\n *\n * @example import { InputField } from '@dhis2/ui-widgets'\n *\n * @see Specification: {@link https://github.com/dhis2/design-system/blob/master/atoms/inputfield.md|Design system}\n * @see Live demo: {@link /demo/?path=/story/inputfield--no-placeholder-no-value|Storybook}\n */\nclass InputField extends React.Component {\n    render() {\n        const {\n            className,\n            onChange,\n            onFocus,\n            onBlur,\n            initialFocus,\n            type,\n            dense,\n            required,\n            label,\n            disabled,\n            readOnly,\n            placeholder,\n            name,\n            valid,\n            error,\n            warning,\n            loading,\n            value,\n            tabIndex,\n            helpText,\n            validationText,\n            inputWidth,\n            dataTest,\n        } = this.props\n\n        return (\n            <Field\n                className={className}\n                dataTest={dataTest}\n                error={error}\n                warning={warning}\n                valid={valid}\n                helpText={helpText}\n                validationText={validationText}\n                label={label}\n                name={name}\n                disabled={disabled}\n                required={required}\n            >\n                <Box width={inputWidth} minWidth=\"72px\">\n                    <Input\n                        onFocus={onFocus}\n                        onBlur={onBlur}\n                        onChange={onChange}\n                        name={name}\n                        type={type}\n                        value={value || ''}\n                        placeholder={placeholder}\n                        disabled={disabled}\n                        valid={valid}\n                        warning={warning}\n                        error={error}\n                        loading={loading}\n                        dense={dense}\n                        tabIndex={tabIndex}\n                        initialFocus={initialFocus}\n                        readOnly={readOnly}\n                    />\n                </Box>\n            </Field>\n        )\n    }\n}\n\nInputField.defaultProps = {\n    dataTest: 'dhis2-uiwidgets-inputfield',\n}\n\n/**\n * @typedef {Object} PropTypes\n * @static\n *\n * @prop {string} name\n * @prop {string} [type=text]\n * @prop {function} [onChange]\n * @prop {function} [onBlur]\n * @prop {function} [onFocus]\n * @prop {string} [label]\n * @prop {string} [className]\n * @prop {string} [placeholder]\n * @prop {string} [value]\n * @prop {string} [tabIndex]\n * @prop {string} [inputWidth]\n *\n * @prop {boolean} [required]\n * @prop {boolean} [disabled]\n * @prop {boolean} [readOnly]\n * @prop {boolean} [dense] - Compact mode\n * @prop {boolean} [initialFocus]\n *\n * @prop {boolean} [valid] - `valid`, `warning`, `error`, and `loading`\n * are mutually exclusive\n * @prop {boolean} [warning]\n * @prop {boolean} [error]\n * @prop {boolean} [loading]\n *\n * @prop {string} [validationText]\n * @prop {string} [helpText]\n * @prop {string} [dataTest]\n */\nInputField.propTypes = {\n    className: propTypes.string,\n    dataTest: propTypes.string,\n    dense: propTypes.bool,\n    disabled: propTypes.bool,\n    error: sharedPropTypes.statusPropType,\n    helpText: propTypes.string,\n    initialFocus: propTypes.bool,\n    inputWidth: propTypes.string,\n    label: propTypes.string,\n    loading: propTypes.bool,\n    name: propTypes.string,\n    placeholder: propTypes.string,\n    readOnly: propTypes.bool,\n    required: propTypes.bool,\n    tabIndex: propTypes.string,\n    type: Input.propTypes.type,\n    valid: sharedPropTypes.statusPropType,\n    validationText: propTypes.string,\n    value: propTypes.string,\n    warning: sharedPropTypes.statusPropType,\n    onBlur: propTypes.func,\n    onChange: propTypes.func,\n    onFocus: propTypes.func,\n}\n\nexport { InputField }\n","export const joinPath = (...parts) => {\n    const realParts = parts.filter(part => !!part)\n    return realParts.map(part => part.replace(/^\\/+|\\/+$/g, '')).join('/')\n}\n","import { Card } from '@dhis2/ui-core'\nimport { Settings, Apps as AppsIcon } from '@dhis2/ui-icons'\nimport { colors, theme } from '@dhis2/ui-constants'\nimport { useConfig } from '@dhis2/app-runtime'\nimport React from 'react'\nimport css from 'styled-jsx/css'\nimport i18n from '@dhis2/d2-i18n'\nimport propTypes from '@dhis2/prop-types'\n\nimport { InputField } from '../InputField/InputField.js'\nimport { joinPath } from './joinPath.js'\n\nconst appIcon = css.resolve`\n    svg {\n        fill: ${colors.white};\n        cursor: pointer;\n        height: 24px;\n        width: 24px;\n    }\n`\n\nconst settingsIcon = css.resolve`\n    svg {\n        margin: 8px 8px 0 16px;\n        color: ${colors.grey900};\n        height: 24px;\n        width: 24px;\n        cursor: pointer;\n    }\n`\n\n/**\n * Copied from here:\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#Escaping\n */\nfunction escapeRegExpCharacters(text) {\n    return text.replace(/[/.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\n}\n\nfunction Search({ value, onChange }) {\n    const { baseUrl } = useConfig()\n\n    return (\n        <div>\n            <span>\n                <InputField\n                    value={value}\n                    name=\"filter\"\n                    placeholder={i18n.t('Search apps')}\n                    onChange={onChange}\n                    initialFocus\n                />\n            </span>\n\n            <span>\n                <a href={joinPath(baseUrl, 'dhis-web-menu-management')}>\n                    <Settings className={settingsIcon.className} />\n                </a>\n            </span>\n\n            {settingsIcon.styles}\n            <style jsx>{`\n                div {\n                    display: flex;\n                    flex-direction: row;\n                    flex-wrap: nowrap;\n                    height: 52px;\n                    margin: 8px;\n                }\n\n                span {\n                    flex: 1 100%;\n                }\n\n                span:last-child {\n                    flex: 1 auto;\n                }\n            `}</style>\n        </div>\n    )\n}\n\nSearch.propTypes = {\n    value: propTypes.string.isRequired,\n    onChange: propTypes.func.isRequired,\n}\n\nfunction Item({ name, path, img }) {\n    return (\n        <a href={path}>\n            <img src={img} alt=\"app logo\" />\n\n            <div>{name}</div>\n\n            <style jsx>{`\n                a {\n                    display: inline-block;\n                    display: flex;\n                    flex-direction: column;\n                    align-items: center;\n                    justify-content: center;\n                    width: 96px;\n                    margin: 8px;\n                    padding: 8px;\n                    border-radius: 12px;\n                    text-decoration: none;\n                    cursor: pointer;\n                }\n\n                a:hover,\n                a:focus {\n                    background-color: ${theme.primary050};\n                    cursor: pointer;\n                }\n\n                a:hover > div {\n                    font-weight: 500;\n                    cursor: pointer;\n                }\n\n                img {\n                    width: 48px;\n                    height: 48px;\n                    cursor: pointer;\n                }\n\n                div {\n                    margin-top: 14px;\n                    color: rgba(0, 0, 0, 0.87);\n                    font-size: 12px;\n                    letter-spacing: 0.01em;\n                    line-height: 14px;\n                    text-align: center;\n                    cursor: pointer;\n                }\n            `}</style>\n        </a>\n    )\n}\n\nItem.propTypes = {\n    img: propTypes.string,\n    name: propTypes.string,\n    path: propTypes.string,\n}\n\nfunction List({ apps, filter }) {\n    return (\n        <div data-test=\"headerbar-apps-menu-list\">\n            {apps\n                .filter(({ displayName, name }) => {\n                    const appName = displayName || name\n                    const formattedAppName = appName.toLowerCase()\n                    const formattedFilter = escapeRegExpCharacters(\n                        filter\n                    ).toLowerCase()\n\n                    return filter.length > 0\n                        ? formattedAppName.match(formattedFilter)\n                        : true\n                })\n                .map(({ displayName, name, defaultAction, icon }, idx) => (\n                    <Item\n                        key={`app-${name}-${idx}`}\n                        name={displayName || name}\n                        path={defaultAction}\n                        img={icon}\n                    />\n                ))}\n\n            <style jsx>{`\n                div {\n                    display: flex;\n                    flex-direction: row;\n                    flex-wrap: wrap;\n                    align-content: flex-start;\n                    align-items: flex-start;\n                    justify-content: flex-start;\n                    width: 30vw;\n                    min-width: 300px;\n                    max-width: 560px;\n\n                    min-height: 200px;\n                    max-height: 465px;\n                    margin: 0 8px 8px 8px;\n\n                    overflow: auto;\n                    overflow-x: hidden;\n                }\n            `}</style>\n        </div>\n    )\n}\nList.propTypes = {\n    apps: propTypes.array,\n    filter: propTypes.string,\n}\n\nexport default class Apps extends React.Component {\n    state = {\n        show: false,\n        filter: '',\n    }\n\n    componentDidMount() {\n        document.addEventListener('click', this.onDocClick)\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('click', this.onDocClick)\n    }\n\n    onDocClick = evt => {\n        if (this.elContainer && !this.elContainer.contains(evt.target)) {\n            this.setState({ show: false })\n        }\n    }\n\n    onToggle = () => this.setState({ show: !this.state.show })\n\n    onChange = ({ value }) => this.setState({ filter: value })\n\n    AppMenu = apps => (\n        <div data-test=\"headerbar-apps-menu\">\n            <Card>\n                <Search value={this.state.filter} onChange={this.onChange} />\n                <List apps={apps} filter={this.state.filter} />\n            </Card>\n\n            <style jsx>{`\n                div {\n                    z-index: 10000;\n                    position: absolute;\n                    top: 28px;\n                    right: -6px;\n                    border-top: 4px solid transparent;\n                }\n            `}</style>\n        </div>\n    )\n\n    render() {\n        const apps = this.props.apps\n        return (\n            <div ref={c => (this.elContainer = c)} data-test=\"headerbar-apps\">\n                <a onClick={this.onToggle} data-test=\"headerbar-apps-icon\">\n                    <AppsIcon className={appIcon.className} />\n                </a>\n\n                {this.state.show && this.AppMenu(apps)}\n\n                {appIcon.styles}\n                <style jsx>{`\n                    a {\n                        display: block;\n                    }\n\n                    div {\n                        position: relative;\n                        width: 24px;\n                        height: 30px;\n                        margin: 8px 0 0 0;\n                    }\n                `}</style>\n            </div>\n        )\n    }\n}\n\nApps.propTypes = {\n    apps: propTypes.array.isRequired,\n}\n","import React from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nexport const ImageIcon = ({ src, onClick, dataTestId }) => (\n    <div onClick={onClick} data-test={dataTestId}>\n        <img src={src} alt=\"user avatar\" />\n\n        <style jsx>{`\n            img {\n                max-width: 100%;\n                max-height: 100%;\n            }\n\n            div {\n                width: 48px;\n                height: 48px;\n            }\n        `}</style>\n    </div>\n)\n\nImageIcon.defaultProps = {\n    onClick: undefined,\n}\n\nImageIcon.propTypes = {\n    src: propTypes.string.isRequired,\n    dataTestId: propTypes.string,\n    onClick: propTypes.func,\n}\n","import React from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nexport const TextIcon = ({ name, onClick, dataTestId }) => {\n    let title = name[0]\n\n    if (name.indexOf(' ') > 0) {\n        title += name.split(' ')[1][0]\n    }\n\n    return (\n        <div onClick={onClick} data-test={dataTestId}>\n            <p>{title}</p>\n\n            <style jsx>{`\n                div {\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    width: 36px;\n                    height: 36px;\n                    overflow: hidden;\n                    border-radius: 50%;\n                    background-color: rgba(0, 0, 0, 0.3);\n                    color: #fff;\n                    cursor: pointer;\n                }\n\n                p {\n                    font-size: 14px;\n                    font-weight: 500;\n                    letter-spacing: 1px;\n                    text-align: center;\n                    text-transform: uppercase;\n                }\n            `}</style>\n        </div>\n    )\n}\n\nTextIcon.defaultProps = {\n    onClick: undefined,\n}\n\nTextIcon.propTypes = {\n    name: propTypes.string.isRequired,\n    dataTestId: propTypes.string,\n    onClick: propTypes.func,\n}\n","import { useConfig } from '@dhis2/app-runtime'\nimport React from 'react'\nimport i18n from '@dhis2/d2-i18n'\nimport propTypes from '@dhis2/prop-types'\n\nimport { ImageIcon } from '../ImageIcon.js'\nimport { TextIcon } from '../TextIcon.js'\nimport { joinPath } from '../joinPath.js'\n\nconst ProfileName = ({ children }) => (\n    <div data-test=\"headerbar-profile-username\">\n        {children}\n\n        <style jsx>{`\n            div {\n                margin-bottom: 3px;\n                font-size: 16px;\n                line-height: 19px;\n            }\n        `}</style>\n    </div>\n)\nProfileName.propTypes = {\n    children: propTypes.string,\n}\n\nconst ProfileEmail = ({ children }) => (\n    <div data-test=\"headerbar-profile-user-email\">\n        {children}\n\n        <style jsx>{`\n            div {\n                margin-bottom: 6px;\n                font-size: 14px;\n                line-height: 16px;\n            }\n        `}</style>\n    </div>\n)\nProfileEmail.propTypes = {\n    children: propTypes.string,\n}\n\nconst ProfileEdit = ({ children }) => {\n    const { baseUrl } = useConfig()\n\n    return (\n        <a\n            href={joinPath(baseUrl, 'dhis-web-user-profile/#/profile')}\n            data-test=\"headerbar-profile-edit-profile-link\"\n        >\n            {children}\n\n            <style jsx>{`\n                a {\n                    color: rgba(0, 0, 0, 0.87);\n                    font-size: 12px;\n                    line-height: 14px;\n                    text-decoration: underline;\n                    cursor: pointer;\n                }\n            `}</style>\n        </a>\n    )\n}\n\nProfileEdit.propTypes = {\n    children: propTypes.string,\n}\n\nconst ProfileDetails = ({ name, email }) => (\n    <div>\n        <ProfileName>{name}</ProfileName>\n        <ProfileEmail>{email}</ProfileEmail>\n        <ProfileEdit>{i18n.t('Edit profile')}</ProfileEdit>\n\n        <style jsx>{`\n            div {\n                display: flex;\n                flex-direction: column;\n                margin-left: 20px;\n                color: #000;\n                font-size: 14px;\n                font-weight: 400;\n            }\n        `}</style>\n    </div>\n)\n\nProfileDetails.propTypes = {\n    email: propTypes.string,\n    name: propTypes.string,\n}\n\nexport const ProfileHeader = ({ name, email, img }) => (\n    <div>\n        {img ? <ImageIcon src={img} /> : <TextIcon name={name} />}\n\n        <ProfileDetails name={name} email={email} />\n\n        <style jsx>{`\n            div {\n                display: flex;\n                flex-direction: row;\n                margin-left: 24px;\n                padding-top: 20px;\n            }\n        `}</style>\n    </div>\n)\n\nProfileHeader.propTypes = {\n    email: propTypes.string,\n    img: propTypes.string,\n    name: propTypes.string,\n}\n","import { Account } from '@dhis2/ui-icons'\nimport { Card, Divider, MenuItem } from '@dhis2/ui-core'\nimport { Exit } from '@dhis2/ui-icons'\nimport { Help } from '@dhis2/ui-icons'\nimport { Info } from '@dhis2/ui-icons'\nimport { Settings } from '@dhis2/ui-icons'\nimport { colors } from '@dhis2/ui-constants'\nimport { useConfig } from '@dhis2/app-runtime'\nimport React from 'react'\nimport css from 'styled-jsx/css'\nimport i18n from '@dhis2/d2-i18n'\nimport propTypes from '@dhis2/prop-types'\n\nimport { ProfileHeader } from './ProfileHeader.js'\nimport { joinPath } from '../joinPath.js'\n\nconst iconStyle = css.resolve`\n    svg {\n        fill: ${colors.grey700};\n        cursor: pointer;\n        height: 24px;\n        width: 24px;\n    }\n`\n\nconst getMenuList = () => [\n    {\n        icon: <Settings className={iconStyle.className} />,\n        label: i18n.t('Settings'),\n        value: 'settings',\n        link: 'dhis-web-user-profile/#/settings',\n    },\n    {\n        icon: <Account className={iconStyle.className} />,\n        label: i18n.t('Account'),\n        value: 'account',\n        link: 'dhis-web-user-profile/#/account',\n    },\n    {\n        icon: <Help className={iconStyle.className} />,\n        label: i18n.t('Help'),\n        value: 'help',\n        link:\n            'https://docs.dhis2.org/master/en/user/html/dhis2_user_manual_en.html',\n        nobase: true,\n    },\n    {\n        icon: <Info className={iconStyle.className} />,\n        label: i18n.t('About DHIS2'),\n        value: 'about',\n        link: 'dhis-web-user-profile/#/aboutPage',\n    },\n    {\n        icon: <Exit className={iconStyle.className} />,\n        label: i18n.t('Logout'),\n        value: 'logout',\n        link: 'dhis-web-commons-security/logout.action',\n    },\n]\n\nconst ProfileContents = ({ name, email, avatar }) => {\n    const { baseUrl } = useConfig()\n\n    return (\n        <Card>\n            <div>\n                <ProfileHeader name={name} email={email} img={avatar} />\n                <Divider margin=\"13px 0 7px 0\" />\n                <ul data-test=\"headerbar-profile-menu\">\n                    {getMenuList().map(\n                        ({ label, value, icon, link, nobase }) => (\n                            <MenuItem\n                                href={nobase ? link : joinPath(baseUrl, link)}\n                                key={`h-mi-${value}`}\n                                label={label}\n                                value={value}\n                                icon={icon}\n                            />\n                        )\n                    )}\n                </ul>\n            </div>\n\n            {iconStyle.styles}\n            <style jsx>{`\n                div {\n                    width: 100%;\n                    padding: 0;\n                }\n\n                ul {\n                    padding: 0;\n                    margin: 0;\n                }\n\n                a,\n                a:hover,\n                a:focus,\n                a:active,\n                a:visited {\n                    text-decoration: none;\n                    display: block;\n                }\n            `}</style>\n        </Card>\n    )\n}\n\nProfileContents.propTypes = {\n    avatar: propTypes.element,\n    email: propTypes.string,\n    name: propTypes.string,\n}\n\nexport const ProfileMenu = ({ avatar, name, email }) => (\n    <div data-test=\"headerbar-profile-menu\">\n        <ProfileContents name={name} email={email} avatar={avatar} />\n        <style jsx>{`\n            div {\n                z-index: 10000;\n                position: absolute;\n                top: 34px;\n                right: -6px;\n                width: 310px;\n                border-top: 4px solid transparent;\n            }\n        `}</style>\n    </div>\n)\n\nProfileMenu.propTypes = {\n    avatar: propTypes.element,\n    email: propTypes.string,\n    name: propTypes.string,\n}\n","import React from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nimport { ImageIcon } from './ImageIcon.js'\nimport { ProfileMenu } from './Profile/ProfileMenu.js'\nimport { TextIcon } from './TextIcon.js'\nimport { joinPath } from './joinPath.js'\n\nfunction avatarPath(avatar, baseUrl) {\n    if (!avatar) {\n        return null\n    }\n\n    return joinPath(baseUrl, 'api/fileResources', avatar.id, 'data')\n}\n\nexport default class Profile extends React.Component {\n    state = {\n        show: false,\n    }\n\n    componentDidMount() {\n        document.addEventListener('click', this.onDocClick)\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('click', this.onDocClick)\n    }\n\n    onDocClick = evt => {\n        if (this.elContainer && !this.elContainer.contains(evt.target)) {\n            this.setState({ show: false })\n        }\n    }\n\n    onToggle = () => this.setState({ show: !this.state.show })\n\n    userIcon(me, baseUrl) {\n        const avatar = avatarPath(me.avatar, baseUrl)\n\n        if (avatar) {\n            return (\n                <ImageIcon\n                    src={avatar}\n                    onClick={this.onToggle}\n                    dataTestId=\"headerbar-profile-icon-image\"\n                />\n            )\n        }\n\n        return (\n            <TextIcon\n                name={me.name}\n                onClick={this.onToggle}\n                dataTestId=\"headerbar-profile-icon-text\"\n            />\n        )\n    }\n\n    render() {\n        const { user, baseUrl } = this.props\n\n        return (\n            <div\n                ref={c => (this.elContainer = c)}\n                data-test=\"headerbar-profile\"\n            >\n                {this.userIcon(user, baseUrl)}\n\n                {this.state.show ? (\n                    <ProfileMenu\n                        avatar={avatarPath(user.avatar, baseUrl)}\n                        name={user.name}\n                        email={user.email}\n                    />\n                ) : null}\n\n                <style jsx>{`\n                    div {\n                        position: relative;\n                        width: 36px;\n                        height: 36px;\n                        margin: 2px 12px 0 24px;\n                    }\n                `}</style>\n            </div>\n        )\n    }\n}\n\nProfile.propTypes = {\n    baseUrl: propTypes.string.isRequired,\n    user: propTypes.object.isRequired,\n}\n","import React from 'react'\nimport css from 'styled-jsx/css'\n\nimport { useDataQuery } from '@dhis2/app-runtime'\nimport { LogoIconWhite } from '@dhis2/ui-core'\n\nconst logoStyles = css.resolve`\n    svg {\n        height: 25px;\n        width: 27px;\n    }\n\n    img {\n        max-height: 100%;\n        min-height: auto;\n        width: auto;\n    }\n`\n\nconst query = {\n    customLogo: {\n        resource: 'staticContent/logo_banner',\n    },\n}\n\nconst pathExists = data =>\n    data &&\n    data.customLogo &&\n    data.customLogo.images &&\n    data.customLogo.images.png\n\nexport const LogoImage = () => {\n    const { loading, error, data } = useDataQuery(query)\n\n    if (loading) return null\n\n    let Logo\n    if (!error && pathExists(data)) {\n        Logo = (\n            <img\n                alt=\"Headerbar Logo\"\n                src={data.customLogo.images.png}\n                className={logoStyles.className}\n            />\n        )\n    } else {\n        Logo = <LogoIconWhite className={logoStyles.className} />\n    }\n\n    return (\n        <div>\n            {Logo}\n\n            {logoStyles.styles}\n            <style jsx>{`\n                div {\n                    padding: 4px;\n                    min-width: 48px;\n                    max-width: 250px;\n                    height: 48px;\n\n                    display: flex;\n                    justify-content: center;\n                    align-items: center;\n                    overflow: hidden;\n                }\n            `}</style>\n        </div>\n    )\n}\n","import React from 'react'\nimport { useConfig } from '@dhis2/app-runtime'\n\nimport { LogoImage } from './LogoImage.js'\n\nexport const Logo = () => {\n    const { baseUrl } = useConfig()\n\n    return (\n        <div data-test=\"headerbar-logo\">\n            <a href={baseUrl}>\n                <LogoImage />\n            </a>\n\n            <style jsx>{`\n                div {\n                    box-sizing: border-box;\n                    min-width: 49px;\n                    max-height: 48px;\n                    margin: 0 12px 0 0;\n                    border-right: 1px solid rgba(32, 32, 32, 0.15);\n                }\n\n                a,\n                a:hover,\n                a:focus,\n                a:active,\n                a:visited {\n                    user-select: none;\n                }\n            `}</style>\n        </div>\n    )\n}\n","import React from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nexport const Title = ({ app, instance }) => (\n    <div data-test=\"headerbar-title\">\n        {app ? `${instance} - ${app}` : `${instance}`}\n\n        <style jsx>{`\n            div {\n                overflow: hidden;\n                text-overflow: ellipsis;\n                font-size: 14px;\n                font-weight: 500;\n                letter-spacing: 0.01em;\n                white-space: nowrap;\n            }\n        `}</style>\n    </div>\n)\nTitle.propTypes = {\n    app: propTypes.string,\n    instance: propTypes.string,\n}\n","import React from 'react'\nimport propTypes from '@dhis2/prop-types'\nimport css from 'styled-jsx/css'\n\nimport { colors, theme } from '@dhis2/ui-constants'\n\nimport { Email } from '@dhis2/ui-icons'\nimport { Message } from '@dhis2/ui-icons'\n\nconst messageIcon = css.resolve`\n    svg {\n        fill: ${colors.white};\n        cursor: pointer;\n        height: 24px;\n        width: 24px;\n    }\n`\n\nconst interpretationIcon = css.resolve`\n    svg {\n        fill: ${colors.white};\n        cursor: pointer;\n        height: 24px;\n        width: 24px;\n    }\n`\n\nfunction icon(kind) {\n    if (kind === 'message') {\n        return (\n            <Message className={messageIcon.className}>\n                {messageIcon.styles}\n            </Message>\n        )\n    } else {\n        return (\n            <Email className={interpretationIcon.className}>\n                {interpretationIcon.styles}\n            </Email>\n        )\n    }\n}\n\nexport const NotificationIcon = ({ count, href, kind, dataTestId }) => (\n    <a href={href} className={kind} data-test={dataTestId}>\n        {icon(kind)}\n\n        {count > 0 && <span data-test={`${dataTestId}-count`}>{count}</span>}\n\n        <style jsx>{`\n            a {\n                position: relative;\n                margin: 8px 24px 0 0;\n                cursor: pointer;\n            }\n\n            span {\n                z-index: 1;\n                position: absolute;\n                top: -6px;\n                right: -10px;\n                width: 16px;\n                height: 16px;\n                border-radius: 50%;\n                background-color: ${theme.secondary300};\n                color: #fff;\n                font-size: 9px;\n                font-weight: 500;\n                line-height: 16px;\n                text-align: center;\n                cursor: inherit;\n            }\n        `}</style>\n    </a>\n)\n\nNotificationIcon.defaultProps = {\n    count: 0,\n}\n\nNotificationIcon.propTypes = {\n    href: propTypes.string.isRequired,\n    count: propTypes.number,\n    dataTestId: propTypes.string,\n    kind: propTypes.oneOf(['interpretation', 'message']),\n}\n","import { useConfig } from '@dhis2/app-runtime'\nimport React from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nimport { NotificationIcon } from './NotificationIcon.js'\nimport { joinPath } from './joinPath.js'\n\n/*\n AUTHORITIES:\n - ALL: superuser\n - M_dhis-web-interpretation: access to interpretations app\n - M_dhis-web-messaging: access to messaging app\n */\n\nconst hasAuthority = (userAuthorities, authId) =>\n    Array.isArray(userAuthorities) &&\n    userAuthorities.some(\n        userAuthId => userAuthId === 'ALL' || userAuthId === authId\n    )\n\nexport const Notifications = ({\n    interpretations,\n    messages,\n    userAuthorities,\n}) => {\n    const { baseUrl } = useConfig()\n\n    return (\n        <div data-test=\"headerbar-notifications\">\n            {hasAuthority(userAuthorities, 'M_dhis-web-interpretation') && (\n                <NotificationIcon\n                    count={interpretations}\n                    href={joinPath(baseUrl, 'dhis-web-interpretation')}\n                    kind=\"message\"\n                    dataTestId=\"headerbar-interpretations\"\n                />\n            )}\n\n            {hasAuthority(userAuthorities, 'M_dhis-web-messaging') && (\n                <NotificationIcon\n                    message=\"email\"\n                    count={messages}\n                    href={joinPath(baseUrl, 'dhis-web-messaging')}\n                    kind=\"interpretation\"\n                    dataTestId=\"headerbar-messages\"\n                />\n            )}\n\n            <style jsx>{`\n                div {\n                    user-select: none;\n                    display: flex;\n                    flex-direction: row;\n                    align-items: center;\n                }\n            `}</style>\n        </div>\n    )\n}\n\nNotifications.propTypes = {\n    interpretations: propTypes.number,\n    messages: propTypes.number,\n    userAuthorities: propTypes.arrayOf(propTypes.string),\n}\n","import React, { useMemo } from 'react'\n\nimport propTypes from '@dhis2/prop-types'\n\nimport { useDataQuery, useConfig } from '@dhis2/app-runtime'\nimport { colors } from '@dhis2/ui-constants'\n\nimport Apps from './Apps.js'\nimport Profile from './Profile.js'\nimport { Logo } from './Logo.js'\nimport { Title } from './Title.js'\nimport { Notifications } from './Notifications.js'\n\nimport i18n from '@dhis2/d2-i18n'\nimport { joinPath } from './joinPath.js'\n\nconst query = {\n    title: {\n        resource: 'systemSettings/applicationTitle',\n    },\n    user: {\n        resource: 'me',\n    },\n    apps: {\n        resource: 'action::menu/getModules',\n    },\n    notifications: {\n        resource: 'me/dashboard',\n    },\n}\n\nexport const HeaderBar = ({ appName, className }) => {\n    const { baseUrl } = useConfig()\n    const { loading, error, data } = useDataQuery(query)\n\n    const apps = useMemo(() => {\n        const getPath = path =>\n            path.startsWith('http:') || path.startsWith('https:')\n                ? path\n                : joinPath(baseUrl, 'api', path)\n\n        return data?.apps.modules.map(app => ({\n            ...app,\n            icon: getPath(app.icon),\n            defaultAction: getPath(app.defaultAction),\n        }))\n    }, [data])\n\n    if (!loading && !error) {\n        // TODO: This will run every render which is probably wrong!  Also, setting the global locale shouldn't be done in the headerbar\n        const locale = data.user.settings.keyUiLocale || 'en'\n        i18n.setDefaultNamespace('default')\n        i18n.changeLanguage(locale)\n    }\n\n    return (\n        <header className={className}>\n            {!loading && !error && (\n                <>\n                    <Logo />\n                    <Title\n                        app={appName}\n                        instance={data.title.applicationTitle}\n                    />\n                    <div className=\"right-control-spacer\" />\n                    <Notifications\n                        interpretations={\n                            data.notifications.unreadInterpretations\n                        }\n                        messages={data.notifications.unreadMessageConversations}\n                        userAuthorities={data.user.authorities}\n                    />\n                    <Apps apps={apps} />\n                    <Profile user={data.user} baseUrl={baseUrl} />\n                </>\n            )}\n\n            <style jsx>{`\n                header {\n                    background-color: #2c6693;\n                    display: flex;\n                    flex-direction: row;\n                    align-items: center;\n                    justify-content: space-between;\n                    height: 48px;\n                    border-bottom: 1px solid rgba(32, 32, 32, 0.15);\n                    color: ${colors.white};\n                }\n                .right-control-spacer {\n                    margin-left: auto;\n                }\n            `}</style>\n        </header>\n    )\n}\n\nHeaderBar.propTypes = {\n    appName: propTypes.string,\n    className: propTypes.string,\n}\n","import React from 'react'\nimport propTypes from 'prop-types'\n\nimport { colors, spacers, theme } from '@dhis2/ui-constants'\n\nexport const ErrorMessage = ({ children, dataTest }) => (\n    <span data-test={`${dataTest}-error`}>\n        {children}\n\n        <style jsx>{`\n            span {\n                font-size: 14px;\n                color: ${colors.grey800};\n                margin: ${spacers.dp4};\n                color: ${theme.error};\n            }\n        `}</style>\n    </span>\n)\n\nErrorMessage.propTypes = {\n    children: propTypes.any.isRequired,\n    dataTest: propTypes.string.isRequired,\n}\n","/* eslint-disable max-params */\n\nconst UNIT_ID_PATTERN = '[a-zA-Z][a-zA-Z0-9]{10}'\n\nexport const orgUnitPathPropType = (\n    propValue,\n    key,\n    compName,\n    location,\n    propFullName\n) => {\n    if (!new RegExp(`(/${UNIT_ID_PATTERN})+`).test(propValue[key])) {\n        return new Error(\n            `Invalid org unit path \\`${propValue[key]}\\` supplied to \\`${compName}.${propFullName}\\``\n        )\n    }\n}\n\nexport const orgUnitIdPropType = (\n    propValue,\n    key,\n    compName,\n    location,\n    propFullName\n) => {\n    if (!new RegExp(`^${UNIT_ID_PATTERN}$`).test(propValue[key])) {\n        return new Error(\n            `Invalid org unit id \\`${propValue[key]}\\` supplied to \\`${compName}.${propFullName}\\``\n        )\n    }\n}\n","import React from 'react'\nimport propTypes from 'prop-types'\nimport cx from 'classnames'\n\nimport { Checkbox } from '@dhis2/ui-core'\nimport { colors } from '@dhis2/ui-constants'\n\nimport { FolderOpen } from '@dhis2/ui-icons'\nimport { FolderClosed } from '@dhis2/ui-icons'\nimport { Single } from '@dhis2/ui-icons'\nimport { Empty } from '@dhis2/ui-icons'\nimport { orgUnitPathPropType } from './propTypes'\n\n/**\n * @param {Object} props\n * @param {string} props.label\n * @param {Function} props.onToggleOpen\n * @param {bool} [props.loading]\n * @returns {React.Component}\n */\nconst DisabledSelectionLabel = ({ label, loading, onToggleOpen }) => (\n    <SingleSelectionLabel\n        checked={false}\n        loading={loading}\n        label={label}\n        onChange={onToggleOpen}\n    />\n)\n\nDisabledSelectionLabel.propTypes = {\n    label: propTypes.string.isRequired,\n    onToggleOpen: propTypes.func.isRequired,\n    loading: propTypes.bool,\n}\n\n/**\n * @param {Object} props\n * @param {string} props.label\n * @param {bool} [props.checked]\n * @param {bool} [props.loading]\n * @param {Function} [props.onChange]\n * @returns {React.Component}\n */\nconst SingleSelectionLabel = ({ checked, label, onChange, loading }) => (\n    <span\n        onClick={event => {\n            const payload = { checked: !checked }\n            onChange(payload, event)\n        }}\n        className={cx({ checked, loading })}\n    >\n        {label}\n\n        <style jsx>{`\n            span {\n                background: transparent;\n                border-radius: 3px;\n                color: ${colors.grey900};\n                cursor: pointer;\n                display: inline-block;\n                font-size: 14px;\n                line-height: 24px;\n                padding: 0 5px;\n                user-select: none;\n                white-space: nowrap;\n            }\n\n            .checked {\n                background: ${colors.teal700};\n                color: white;\n            }\n\n            .loading {\n                cursor: auto;\n            }\n        `}</style>\n    </span>\n)\n\nSingleSelectionLabel.propTypes = {\n    label: propTypes.string.isRequired,\n    checked: propTypes.bool,\n    loading: propTypes.bool,\n    onChange: propTypes.func,\n}\n\n/**\n * @param {Object} props\n * @param {bool} props.highlighted\n * @param {React.Component|React.Component[]} props.children\n * @returns {React.Component}\n */\nconst LabelContainer = ({ highlighted, children }) => (\n    <div className={cx({ highlighted })}>\n        <span>{children}</span>\n\n        <style jsx>{`\n            div {\n                display: flex;\n            }\n\n            span {\n                display: block;\n            }\n\n            .highlighted {\n                background: ${colors.teal200};\n                padding-right: 4px;\n            }\n        `}</style>\n    </div>\n)\n\nLabelContainer.propTypes = {\n    children: propTypes.node,\n    highlighted: propTypes.bool,\n}\n\n/**\n * @param {Object} props\n * @param {bool} props.hasChildren\n * @param {bool} props.open\n * @returns {React.Component}\n */\nconst Icon = ({ loading, hasChildren, open, dataTest }) => {\n    if (loading) {\n        return <Empty dataTest={dataTest} />\n    }\n\n    if (!hasChildren) {\n        return <Single dataTest={dataTest} />\n    }\n\n    if (open) {\n        return <FolderOpen dataTest={dataTest} />\n    }\n\n    return <FolderClosed dataTest={dataTest} />\n}\n\nIcon.propTypes = {\n    dataTest: propTypes.string.isRequired,\n    hasChildren: propTypes.bool,\n    loading: propTypes.bool,\n    open: propTypes.bool,\n}\n\nconst IconizedCheckbox = ({\n    checked,\n    dataTest,\n    hasChildren,\n    indeterminate,\n    label,\n    loading,\n    name,\n    open,\n    value,\n    onChange,\n}) => {\n    const icon = (\n        <Icon\n            loading={loading}\n            open={open}\n            hasChildren={hasChildren}\n            dataTest={dataTest}\n        />\n    )\n\n    const checkboxLabel = (\n        <>\n            <span>{icon}</span>\n            {label}\n\n            <style jsx>{`\n                span {\n                    display: inline-block;\n                    margin-right: 4px;\n                }\n            `}</style>\n        </>\n    )\n\n    return (\n        <>\n            <Checkbox\n                dense\n                checked={checked}\n                name={name}\n                value={value}\n                label={checkboxLabel}\n                indeterminate={indeterminate}\n                onChange={onChange}\n            />\n        </>\n    )\n}\n\nIconizedCheckbox.propTypes = {\n    checked: propTypes.bool.isRequired,\n    dataTest: propTypes.string.isRequired,\n    hasChildren: propTypes.bool.isRequired,\n    indeterminate: propTypes.bool.isRequired,\n    label: propTypes.string.isRequired,\n    loading: propTypes.bool.isRequired,\n    name: propTypes.string.isRequired,\n    open: propTypes.bool.isRequired,\n    value: propTypes.string.isRequired,\n    onChange: propTypes.func.isRequired,\n}\n\nconst createNewSelected = ({ selected, path, checked, singleSelection }) => {\n    const pathIndex = selected.indexOf(path)\n\n    if (checked && pathIndex !== -1) return selected\n    if (singleSelection && checked) return [path]\n    if (checked) return [...selected, path]\n    if (pathIndex === -1) return selected\n    if (singleSelection) return []\n    if (selected.indexOf(path) === 0) return selected.slice(1)\n\n    const prevSlice = selected.slice(0, pathIndex)\n    const nextSlice = selected.slice(pathIndex + 1)\n    return [...prevSlice, ...nextSlice]\n}\n\n/**\n * @module\n * @param {Label.PropTypes} props\n * @returns {React.Component}\n */\nconst Label = ({\n    id,\n    path,\n    open,\n    loading,\n    checked,\n    onChange,\n    dataTest,\n    selected,\n    hasChildren,\n    highlighted,\n    displayName,\n    onToggleOpen,\n    disableSelection,\n    singleSelection,\n    hasSelectedDescendants,\n}) => {\n    const onClick = ({ checked }, event) => {\n        const newSelected = createNewSelected({\n            selected,\n            path,\n            checked,\n            singleSelection,\n        })\n\n        onChange(\n            { id, path, checked, displayName, selected: newSelected },\n            event\n        )\n    }\n\n    if (disableSelection) {\n        return (\n            <LabelContainer highlighted={highlighted}>\n                <DisabledSelectionLabel\n                    label={displayName}\n                    loading={loading}\n                    onToggleOpen={onToggleOpen}\n                />\n            </LabelContainer>\n        )\n    }\n\n    if (singleSelection) {\n        return (\n            <LabelContainer highlighted={highlighted}>\n                <SingleSelectionLabel\n                    checked={checked}\n                    label={displayName}\n                    onChange={onClick}\n                    loading={loading}\n                >\n                    {displayName}\n                </SingleSelectionLabel>\n            </LabelContainer>\n        )\n    }\n\n    return (\n        <LabelContainer highlighted={highlighted}>\n            <IconizedCheckbox\n                dataTest={dataTest}\n                checked={checked}\n                name=\"org-unit\"\n                value={id}\n                label={displayName}\n                loading={loading}\n                indeterminate={!checked && hasSelectedDescendants}\n                onChange={onClick}\n                open={open}\n                hasChildren={hasChildren}\n            />\n        </LabelContainer>\n    )\n}\n\n/**\n * @typedef {Object} PropTypes\n * @static\n *\n * @prop {string} id\n * @prop {string} path\n * @prop {string} displayName\n * @prop {bool} open\n * @prop {bool} loading\n * @prop {bool} hasChildren\n * @prop {Function} [onChange]\n * @prop {Function} [onToggleOpen]\n * @prop {bool} [checked]\n * @prop {bool} [highlighted]\n * @prop {bool} [disableSelection]\n * @prop {bool} [singleSelection]\n * @prop {bool} [hasSelectedDescendants]\n */\nLabel.propTypes = {\n    dataTest: propTypes.string.isRequired,\n    displayName: propTypes.string.isRequired,\n    hasChildren: propTypes.bool.isRequired,\n    id: propTypes.string.isRequired,\n    loading: propTypes.bool.isRequired,\n    open: propTypes.bool.isRequired,\n    path: propTypes.string.isRequired,\n    onChange: propTypes.func.isRequired,\n    onToggleOpen: propTypes.func.isRequired,\n    checked: propTypes.bool,\n    disableSelection: propTypes.bool,\n    hasSelectedDescendants: propTypes.bool,\n    highlighted: propTypes.bool,\n    selected: propTypes.arrayOf(orgUnitPathPropType),\n    singleSelection: propTypes.bool,\n}\n\nexport { Label }\n","/**\n * @param {string[]} includedPaths\n * @param {string} path\n * @returns {bool}\n */\nconst isPathIncluded = (includedPaths, path) => {\n    const isIncluded = includedPaths.some(includedPath => {\n        if (path === includedPath) return true\n        return includedPath.indexOf(`${path}/`) === 0\n    })\n\n    return isIncluded\n}\n\n/**\n * Returns all the childrenIds that should be rendered.\n * An id will be included if it's parent's path + the id is inside\n * the \"filter\" or the parent's path + id is a substring\n * of the paths in \"filter\" (then it's a parent path of\n * the units that should be included itself)\n *\n * @param {Object} node\n * @param {Object[]} node.children\n * @param {string[]} includedPaths\n * @returns {string[]}\n */\nexport const computeChildNodes = (node, filter) => {\n    if (!filter.length) {\n        return node.children\n    }\n\n    return node.children.filter(child => {\n        return isPathIncluded(filter, `${node.path}/${child.id}`)\n    })\n}\n","/**\n * Checks wether there are descendants of a path in the\n * array of selected paths\n *\n * @param {string} path\n * @param {string[]} selected\n * @returns {bool}\n */\nexport const hasDescendantSelectedPaths = (path, selected) =>\n    selected.some(\n        selectedPath =>\n            selectedPath !== path && selectedPath.indexOf(path) === 0\n    )\n","import { useEffect, useState } from 'react'\n\n/**\n * @param {Object} args\n * @param {string} args.path\n * @param {string} [args.errorMessage]\n * @param {string} [args.autoExpandLoadingError]\n * @param {string[]} args.expanded\n * @param {Function} [args.onExpand]\n * @param {Function} [args.onCollapse]\n * @returns {Object}\n */\nexport const useOpenState = ({\n    path,\n    expanded,\n    onExpand,\n    onCollapse,\n    errorMessage,\n    autoExpandLoadingError,\n}) => {\n    const autoExpand = autoExpandLoadingError && !!errorMessage\n    const [openedOnceDueToError, setOpenedOnce] = useState(!!errorMessage)\n    const [open, setOpen] = useState(autoExpand || expanded.includes(path))\n\n    useEffect(() => {\n        if (autoExpand && !openedOnceDueToError) {\n            setOpen(true)\n            setOpenedOnce(true)\n        }\n    }, [autoExpand, openedOnceDueToError])\n\n    const onToggleOpen = () => {\n        const newOpen = !open\n        const payload = { path }\n\n        setOpen(newOpen)\n\n        if (onExpand && newOpen) {\n            onExpand(payload)\n        } else if (onCollapse && !newOpen) {\n            onCollapse(payload)\n        }\n    }\n\n    return { open, onToggleOpen }\n}\n","export const fromEntries = entries =>\n    entries.reduce(\n        (collection, [key, name]) => ({\n            ...collection,\n            [key]: name,\n        }),\n        {}\n    )\n","import { fromEntries } from '../fromEntries'\n\nconst withChildrenFields = 'children[path,displayName,id],displayName,path,id'\nconst withoutChildrenFields = 'displayName,path,id'\n\nexport const createOrgUnitQuery = id => ({\n    resource: `organisationUnits/${id}`,\n    params: ({ withChildren, isUserDataViewFallback }) => ({\n        isUserDataViewFallback,\n        fields: withChildren ? withChildrenFields : withoutChildrenFields,\n        paging: false,\n    }),\n})\n\nexport const createQuery = ids =>\n    ids.reduce((query, id) => ({ ...query, [id]: createOrgUnitQuery(id) }), {})\n\n/**\n * @param {Object[]} nodes\n * @returns {}\n */\nexport const addMissingDisplayNameProps = nodes => {\n    const nodeEntries = Object.entries(nodes)\n    const nodesWithDisplayName = nodeEntries.map(([id, node]) => {\n        const displayName = node.displayName || ''\n        return [id, { ...node, displayName }]\n    })\n\n    return fromEntries(nodesWithDisplayName)\n}\n","import { useDataQuery } from '@dhis2/app-runtime'\n\nimport { addMissingDisplayNameProps, createQuery } from './useOrgData/helpers'\n\n/**\n * @param {string[]} ids\n * @param {Object} [options]\n * @param {boolean} [options.withChildren]\n * @param {boolean} [options.isUserDataViewFallback]\n * @returns {Object}\n */\nexport const useOrgData = (\n    ids,\n    { withChildren = true, isUserDataViewFallback } = {}\n) => {\n    const query = createQuery(ids)\n    const variables = { withChildren, isUserDataViewFallback }\n    const { loading, error, data, refetch } = useDataQuery(query, { variables })\n    const nodes = data ? addMissingDisplayNameProps(data) : {}\n\n    return { loading, error, data: nodes, refetch }\n}\n","import { CircularLoader, Node } from '@dhis2/ui-core'\nimport { resolve } from 'styled-jsx/css'\nimport React, { useEffect } from 'react'\nimport i18n from '@dhis2/d2-i18n'\nimport propTypes from '@dhis2/prop-types'\n\nimport { ErrorMessage } from './ErrorMessage'\nimport { Label } from './Label'\nimport { computeChildNodes } from './computeChildNodes'\nimport { hasDescendantSelectedPaths } from './hasDescendantSelectedPaths'\nimport { orgUnitPathPropType } from './propTypes'\nimport { useOpenState } from './useOpenState'\nimport { useOrgData } from './useOrgData'\n\nconst loadingSpinnerStyles = resolve`\n    .small {\n        display: block;\n        margin: 3px 0;\n        width: 18px;\n        height: 18px;\n    }\n`\n\nconst LoadingSpinner = () => (\n    <div>\n        <CircularLoader small className={loadingSpinnerStyles.className} />\n        <style>{loadingSpinnerStyles.styles}</style>\n        <style jsx>{`\n            div {\n                width: 24px;\n            }\n        `}</style>\n    </div>\n)\n\nexport const OrganisationUnitNode = ({\n    autoExpandLoadingError,\n    dataTest,\n    disableSelection,\n    displayName,\n    expanded,\n    highlighted,\n    id,\n    isUserDataViewFallback,\n    path,\n    selected,\n    singleSelection,\n    filter,\n    onChange,\n    onChildrenLoaded,\n    onCollapse,\n    onExpand,\n}) => {\n    const { loading, error, data } = useOrgData([id], {\n        isUserDataViewFallback,\n    })\n    const childNodes =\n        !loading && !error ? computeChildNodes(data[id], filter) : []\n    const hasChildren = !!childNodes.length\n    const hasSelectedDescendants = hasDescendantSelectedPaths(path, selected)\n    const isHighlighted = highlighted.includes(path)\n    const { open, onToggleOpen } = useOpenState({\n        autoExpandLoadingError,\n        errorMessage: error && error.toString(),\n        path,\n        expanded,\n        onExpand,\n        onCollapse,\n    })\n\n    const isSelected = selected.includes(path)\n\n    useEffect(() => {\n        if (!loading && !error && onChildrenLoaded) {\n            onChildrenLoaded(data)\n        }\n    }, [loading, error, onChildrenLoaded])\n\n    const label = (\n        <Label\n            checked={isSelected}\n            dataTest={`${dataTest}-label`}\n            disableSelection={disableSelection}\n            displayName={displayName}\n            hasChildren={hasChildren}\n            hasSelectedDescendants={hasSelectedDescendants}\n            highlighted={isHighlighted}\n            id={id}\n            loading={loading}\n            onChange={onChange}\n            selected={selected}\n            onToggleOpen={onToggleOpen}\n            open={open}\n            path={path}\n            singleSelection={singleSelection}\n        />\n    )\n\n    /**\n     * No children means no arrow, therefore we have to provide something.\n     * While \"loading\" is true, \"hasChildren\" is false\n     * There are some possible children variants as content of this node:\n     *\n     * 1. Nothing; There are no children\n     * 2. Placeholder: There are children, but the Node is closed (show arrow)\n     * 3. Error: There are children and loading information somehow failed\n     * 4. Child nodes: There are children and the node is open\n     */\n    const showPlaceholder = hasChildren && !open && !error\n    const showChildNodes = hasChildren && open && !error\n\n    return (\n        <Node\n            dataTest={`${dataTest}-node`}\n            open={open}\n            onOpen={onToggleOpen}\n            onClose={onToggleOpen}\n            component={label}\n            icon={loading && <LoadingSpinner />}\n        >\n            {error && (\n                <ErrorMessage dataTest={dataTest}>\n                    {i18n.t('Could not load children')}\n                </ErrorMessage>\n            )}\n            {showPlaceholder && <span data-test={`${dataTest}-placeholder`} />}\n            {showChildNodes &&\n                childNodes.map(child => {\n                    const childPath = `${path}/${child.id}`\n                    const grandChildNodes = computeChildNodes(child, filter)\n\n                    return (\n                        <OrganisationUnitNode\n                            key={childPath}\n                            autoExpandLoadingError={autoExpandLoadingError}\n                            childNodes={grandChildNodes}\n                            dataTest={dataTest}\n                            disableSelection={disableSelection}\n                            displayName={child.displayName}\n                            expanded={expanded}\n                            filter={filter}\n                            highlighted={highlighted}\n                            id={child.id}\n                            isUserDataViewFallback={isUserDataViewFallback}\n                            path={childPath}\n                            selected={selected}\n                            singleSelection={singleSelection}\n                            onChange={onChange}\n                            onChildrenLoaded={onChildrenLoaded}\n                            onCollapse={onCollapse}\n                            onExpand={onExpand}\n                        />\n                    )\n                })}\n        </Node>\n    )\n}\n\nOrganisationUnitNode.propTypes = {\n    dataTest: propTypes.string.isRequired,\n    id: propTypes.string.isRequired,\n    onChange: propTypes.func.isRequired,\n\n    autoExpandLoadingError: propTypes.bool,\n    disableSelection: propTypes.bool,\n    displayName: propTypes.string,\n    expanded: propTypes.arrayOf(orgUnitPathPropType),\n    filter: propTypes.arrayOf(orgUnitPathPropType),\n    highlighted: propTypes.arrayOf(orgUnitPathPropType),\n    isUserDataViewFallback: propTypes.bool,\n    path: orgUnitPathPropType,\n    selected: propTypes.arrayOf(orgUnitPathPropType),\n    singleSelection: propTypes.bool,\n\n    onChildrenLoaded: propTypes.func,\n    onCollapse: propTypes.func,\n    onExpand: propTypes.func,\n}\n","import React from 'react'\nimport i18n from '@dhis2/d2-i18n'\nimport propTypes from 'prop-types'\n\nexport const RootError = ({ dataTest, error }) => (\n    <div data-test={`${dataTest}-loading`}>\n        {i18n.t('Error: ')}\n        {error}\n    </div>\n)\n\nRootError.propTypes = {\n    dataTest: propTypes.string.isRequired,\n    error: propTypes.string.isRequired,\n}\n","import { CircularLoader } from '@dhis2/ui-core'\nimport React from 'react'\nimport propTypes from 'prop-types'\n\nexport const RootLoading = ({ dataTest }) => (\n    <div data-test={`${dataTest}-loading`}>\n        <CircularLoader small />\n\n        <style jsx>{`\n            div {\n                display: flex;\n                justify-content: center;\n            }\n        `}</style>\n    </div>\n)\n\nRootLoading.propTypes = {\n    dataTest: propTypes.string.isRequired,\n}\n","/**\n * @param {string} path\n * @returns {string[]}\n */\nexport const extractAllPathsFromPath = path => {\n    // remove leading slash and split by path delimiter/slashes\n    const segments = path.replace(/^\\//, '').split('/')\n\n    const withSubPaths = segments.map((segment, index) => {\n        // take all segments from 0 to index and join them with the delimiter\n        return `/${segments.slice(0, index + 1).join('/')}`\n    })\n\n    return withSubPaths\n}\n\n/**\n * @param {string[]} initiallyExpanded\n * @returns {string[]}\n */\nexport const getInitiallyExpandedPaths = initiallyExpanded =>\n    initiallyExpanded.reduce((all, curPath) => {\n        const allPathsInCurPath = extractAllPathsFromPath(curPath)\n        return [...all, ...allPathsInCurPath]\n    }, [])\n\n/**\n * @param {Object} args\n * @param {string[]} args.expanded\n * @param {Function} args.setExpanded\n * @param {Function} [args.onExpand]\n * @param {Function} [args.onCollapse]\n * @returns {{ handleExpand: Function, handleCollapse: Function }}\n */\nexport const createExpandHandlers = ({\n    expanded,\n    setExpanded,\n    onExpand,\n    onCollapse,\n}) => {\n    const handleExpand = ({ path, ...rest }) => {\n        if (!expanded.includes(path)) {\n            setExpanded([...expanded, path])\n\n            if (onExpand) {\n                onExpand({ path, ...rest })\n            }\n        }\n    }\n\n    const handleCollapse = ({ path, ...rest }) => {\n        const pathIndex = expanded.indexOf(path)\n        if (pathIndex !== -1) {\n            const updatedExpanded =\n                pathIndex === 0\n                    ? expanded.slice(1)\n                    : [\n                          ...expanded.slice(0, pathIndex),\n                          ...expanded.slice(pathIndex + 1),\n                      ]\n\n            setExpanded(updatedExpanded)\n\n            if (onCollapse) {\n                onCollapse({ path, ...rest })\n            }\n        }\n    }\n\n    return { handleExpand, handleCollapse }\n}\n","import { useState } from 'react'\nimport {\n    getInitiallyExpandedPaths,\n    createExpandHandlers,\n} from './useExpanded/helpers'\n\n/**\n * @param {string[]} initiallyExpanded\n * @param {Function} [onExpand]\n * @param {Function} [onCollapse]\n * @returns {{ expanded: string[], handleExpand: Function, handleCollapse: Function }}\n */\nexport const useExpanded = (initiallyExpanded, onExpand, onCollapse) => {\n    const allInitiallyExpandedPaths = getInitiallyExpandedPaths(\n        initiallyExpanded\n    )\n    const [expanded, setExpanded] = useState(allInitiallyExpandedPaths)\n    const { handleExpand, handleCollapse } = createExpandHandlers({\n        expanded,\n        setExpanded,\n        onExpand,\n        onCollapse,\n    })\n\n    return { expanded, handleExpand, handleCollapse }\n}\n","import { useEffect, useState } from 'react'\n\n/**\n * This will create a new reloadId everytime \"forceReload\" changes to true,\n * which can be used as the \"key\" prop on the org unit tree.\n * When that id changes, the whole tree rerenders\n * and therefore triggers all \"useDataQuery\"s to\n * run the query again\n *\n * @param {bool} forceReload\n * @returns {Int}\n */\nexport const useForceReload = forceReload => {\n    const [reloadId, setReloadId] = useState(0)\n\n    useEffect(() => {\n        forceReload === true && setReloadId(reloadId + 1)\n    }, [forceReload])\n\n    return reloadId\n}\n","import React, { useEffect } from 'react'\nimport propTypes from 'prop-types'\n\nimport { OrganisationUnitNode } from './OrganisationUnitNode.js'\nimport { RootError } from './RootError.js'\nimport { RootLoading } from './RootLoading.js'\nimport { orgUnitPathPropType } from './propTypes.js'\nimport { useExpanded } from './useExpanded.js'\nimport { useForceReload } from './useForceReload.js'\nimport { useOrgData } from './useOrgData.js'\n\n/**\n * @module\n * @param {OrganisationUnitTree.PropTypes} props\n * @returns {React.Component}\n *\n * @example\n * import { OrganisationUnitTree } from '@dhis2/ui-widgets'\n *\n * @example\n * <OrganisationUnitTree\n *     name=\"Root org unit\"\n *     roots=\"A0000000000\"\n *     onChange={onChange}\n *     onExpand={onExpand}\n *     onCollapse={onCollapse}\n *     onChildrenLoaded={onChildrenLoaded}\n *     initiallyExpanded={['/A0000000000/A0000000001']}\n *     filter={['/A0000000000/A0000000001/A0000000003']}\n * />\n *\n * @see Specification: {@link https://github.com/dhis2/design-system/blob/master/organisms/organisation-unit-tree/org-unit-tree.md|Design system}\n * @see Live demo: {@link /demo/?path=/story/organisationunittree--collapsed|Storybook}\n */\nconst OrganisationUnitTree = ({\n    onChange,\n    roots,\n\n    autoExpandLoadingError,\n    dataTest,\n    disableSelection,\n    forceReload,\n    highlighted,\n    isUserDataViewFallback,\n    initiallyExpanded,\n    filter,\n    selected,\n    singleSelection,\n\n    onExpand,\n    onCollapse,\n    onChildrenLoaded,\n}) => {\n    const rootIds = Array.isArray(roots) ? roots : [roots]\n    const reloadId = useForceReload(forceReload)\n    const { loading, error, data, refetch } = useOrgData(rootIds, {\n        withChildren: false,\n        isUserDataViewFallback,\n    })\n    const { expanded, handleExpand, handleCollapse } = useExpanded(\n        initiallyExpanded,\n        onExpand,\n        onCollapse\n    )\n\n    useEffect(() => {\n        // do not refetch on initial render\n        if (refetch && reloadId > 0) {\n            refetch()\n        }\n    }, [reloadId, refetch])\n\n    return (\n        <div data-test={dataTest}>\n            {error && <RootError error={error} dataTest={dataTest} />}\n            {loading && <RootLoading dataTest={dataTest} />}\n            {!error &&\n                !loading &&\n                rootIds.map(rootId => {\n                    const rootNode = data[rootId]\n                    const rootPath = `/${rootId}`\n\n                    return (\n                        <OrganisationUnitNode\n                            key={rootPath}\n                            autoExpandLoadingError={autoExpandLoadingError}\n                            dataTest={dataTest}\n                            disableSelection={disableSelection}\n                            displayName={rootNode.displayName}\n                            expanded={expanded}\n                            highlighted={highlighted}\n                            id={rootId}\n                            isUserDataViewFallback={isUserDataViewFallback}\n                            filter={filter}\n                            path={rootPath}\n                            selected={selected}\n                            singleSelection={singleSelection}\n                            onChange={onChange}\n                            onChildrenLoaded={onChildrenLoaded}\n                            onCollapse={handleCollapse}\n                            onExpand={handleExpand}\n                        />\n                    )\n                })}\n        </div>\n    )\n}\n\n/**\n * @typedef {Object} PropTypes\n * @static\n *\n * @prop {string|string[]} roots\n * Root org unit id(s)\n *\n * @prop {Function} onChange\n * Will be called with the following object\n * { id: string; path: string; checked: boolean; }\n *\n * @prop {bool} [autoExpandLoadingError]\n * When set, the error when loading children\n * fails will be shown automaticlly\n *\n * @prop {bool} [singleSelection]\n * When set, no checkboxes will be displayed and only the first selected path\n * in `selected` will be highlighted\n *\n * @prop {bool} [disableSelection]\n * When set to true, no unit can be selected\n *\n * @prop {string[]} [filter]\n * All organisation units with a path that inclused the provided\n * paths will be shown. All others will not be rendered.\n * When not provided, all org units will be shown.\n *\n * @prop {bool} [forceReload]\n * When set to \"true\", everything will be reloaded.\n * In order to load it again after reloading,\n * \"forceReload\" has to be set to false and then to true again\n *\n * @prop {string[]} [selected]\n * An array of paths of selected OUs.\n * The path of an OU is the UIDs of the OU and all its parent OUs separated\n * by slashes (/)\n *\n * @prop {string[]} [initiallyExpanded]\n * An array of OU paths that will be expanded automatically\n * as soon as they are encountered.\n * The path of an OU is the UIDs of the OU\n * and all its parent OUs separated by slashes (/)\n * Note: This replaces \"openFirstLevel\" as that's redundant\n *\n * @prop {bool} [isUserDataViewFallback]\n * When provided, the \"isUserDataViewFallback\" option will be send when\n * requesting the org units\n *\n * @prop {string[]} [highlighted]\n * All units provided to \"highlighted\" as path will be visually\n * highlighted.\n * Note:\n * The d2-ui component used two props for this:\n * * searchResults\n * * highlightSearchResults\n *\n * @prop {Function} [onExpand]\n * Called with { path: string }\n * with the path of the parent of the level opened\n *\n * @prop {Function} [onCollapse]\n * Called with { path: string }\n * with the path of the parent of the level closed\n *\n * @prop {Function} [onChildrenLoaded]\n * Called with the children's data that was loaded\n */\nOrganisationUnitTree.propTypes = {\n    roots: propTypes.oneOfType([\n        propTypes.string,\n        propTypes.arrayOf(propTypes.string),\n    ]).isRequired,\n    onChange: propTypes.func.isRequired,\n\n    autoExpandLoadingError: propTypes.bool,\n    dataTest: propTypes.string,\n    disableSelection: propTypes.bool,\n    filter: propTypes.arrayOf(orgUnitPathPropType),\n    forceReload: propTypes.bool,\n    highlighted: propTypes.arrayOf(orgUnitPathPropType),\n    initiallyExpanded: propTypes.arrayOf(orgUnitPathPropType),\n    isUserDataViewFallback: propTypes.bool,\n    selected: propTypes.arrayOf(orgUnitPathPropType),\n    singleSelection: propTypes.bool,\n    onChildrenLoaded: propTypes.func,\n    onCollapse: propTypes.func,\n    onExpand: propTypes.func,\n\n    /**\n     * @prop {string[]} [idsThatShouldBeReloaded]\n     * All units with ids (not paths!) provided\n     * to \"idsThatShouldBeReloaded\" will be reloaded\n     * In order to reload an id twice, the array must be changed\n     * while keeping the id to reload in the array\n     *\n     * NOTE: This is currently not working due to a limitation\n     * of the data engine (we can't force specific resource to reload,\n     * we'd have to reload the sibling nodes currently as well)\n     */\n    //idsThatShouldBeReloaded: propTypes.arrayOf(orgUnitIdPropType),\n}\n\nOrganisationUnitTree.defaultProps = {\n    dataTest: 'dhis2-uiwidgets-orgunittree',\n    filter: [],\n    highlighted: [],\n    initiallyExpanded: [],\n    selected: [],\n}\n\nexport { OrganisationUnitTree }\n","import React from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nimport { sharedPropTypes } from '@dhis2/ui-constants'\nimport { Field, Checkbox, Required } from '@dhis2/ui-core'\n\nconst AddRequired = ({ label, required, dataTest }) => (\n    <React.Fragment>\n        {label}\n        {required && <Required dataTest={`${dataTest}-required`} />}\n    </React.Fragment>\n)\nAddRequired.propTypes = {\n    dataTest: propTypes.string,\n    label: propTypes.node,\n    required: propTypes.bool,\n}\n\n/**\n * @module\n * @param {CheckboxField.PropTypes} props\n * @returns {React.Component}\n *\n * @example import { CheckboxField } from '@dhis2/ui-widgets'\n *\n * @see Specification: {@link https://github.com/dhis2/design-system/blob/master/atoms/checkbox.md|Design system}\n * @see Live demo: {@link /demo/?path=/story/checkboxfield--default|Storybook}\n */\n\nconst CheckboxField = ({\n    value,\n    label,\n    name,\n    className,\n    tabIndex,\n    onChange,\n    onFocus,\n    onBlur,\n    checked,\n    disabled,\n    valid,\n    warning,\n    error,\n    dense,\n    initialFocus,\n    required,\n    helpText,\n    validationText,\n    dataTest,\n}) => (\n    <Field\n        className={className}\n        dataTest={dataTest}\n        helpText={helpText}\n        validationText={validationText}\n        error={error}\n        warning={warning}\n        valid={valid}\n        disabled={disabled}\n    >\n        <Checkbox\n            value={value}\n            label={\n                <AddRequired\n                    label={label}\n                    required={required}\n                    dataTest={dataTest}\n                />\n            }\n            name={name}\n            tabIndex={tabIndex}\n            onChange={onChange}\n            onFocus={onFocus}\n            onBlur={onBlur}\n            checked={checked}\n            disabled={disabled}\n            valid={valid}\n            warning={warning}\n            error={error}\n            dense={dense}\n            initialFocus={initialFocus}\n        />\n    </Field>\n)\n\nCheckboxField.defaultProps = {\n    dataTest: 'dhis2-uiwidgets-checkboxfield',\n}\n\n/**\n * @typedef {Object} PropTypes\n * @static\n * @prop {string} [value]\n * @prop {Node} [label]\n *\n * @prop {string} [name]\n * @prop {string} [className]\n * @prop {string} [tabIndex]\n *\n * @prop {function} [onChange]\n * @prop {function} [onFocus]\n * @prop {function} [onBlur]\n *\n * @prop {boolean} [checked]\n * @prop {boolean} [disabled]\n *\n * @prop {boolean} [valid] - `valid`, `warning`, and `error` are\n * mutually exclusive\n * @prop {boolean} [warning]\n * @prop {boolean} [error]\n *\n * @prop {boolean} [dense]\n * @prop {boolean} [initialFocus]\n * @prop {boolean} [required]\n * @prop {string} [helpText]\n * @prop {string} [validationText]\n * @prop {string} [dataTest]\n */\nCheckboxField.propTypes = {\n    checked: propTypes.bool,\n    className: propTypes.string,\n    dataTest: propTypes.string,\n    dense: propTypes.bool,\n    disabled: propTypes.bool,\n    error: sharedPropTypes.statusPropType,\n    helpText: propTypes.string,\n    initialFocus: propTypes.bool,\n    label: propTypes.node,\n    name: propTypes.string,\n    required: propTypes.bool,\n    tabIndex: propTypes.string,\n    valid: sharedPropTypes.statusPropType,\n    validationText: propTypes.string,\n    value: propTypes.string,\n    warning: sharedPropTypes.statusPropType,\n    onBlur: propTypes.func,\n    onChange: propTypes.func,\n    onFocus: propTypes.func,\n}\n\nexport { CheckboxField }\n","import propTypes from '@dhis2/prop-types'\nimport React from 'react'\n\nimport { sharedPropTypes } from '@dhis2/ui-constants'\nimport { Field, FieldSet } from '@dhis2/ui-core'\n\n/**\n * @module\n * @param {FieldGroup.PropTypes} props\n * @returns {React.Component}\n *\n * @example import { FieldGroup } from '@dhis2/ui'\n *\n * @example import { FieldGroup } from '@dhis2/ui-widgets'\n */\nconst FieldGroup = ({\n    children,\n    className,\n    disabled,\n    helpText,\n    validationText,\n    label,\n    name,\n    required,\n    dataTest,\n    valid,\n    error,\n    warning,\n}) => (\n    <FieldSet classname={className} dataTest={dataTest}>\n        <Field\n            label={label}\n            disabled={disabled}\n            required={required}\n            helpText={helpText}\n            validationText={validationText}\n            error={error}\n            warning={warning}\n            valid={valid}\n            name={name}\n        >\n            {children}\n        </Field>\n    </FieldSet>\n)\n\nFieldGroup.defaultProps = {\n    dataTest: 'dhis2-uiwidgets-fieldsetfield',\n}\n\n/**\n * @typedef {Object} PropTypes\n * @static\n * @private\n *\n * @prop {Node} [children]\n * @prop {string} [className]\n * @prop {boolean} [disabled]\n * @prop {string} [helpText]\n * @prop {string} [label]\n * @prop {string} [name]\n * @prop {string} [validationText]\n * @prop {boolean} [required]\n * @prop {string} [dataTest]\n * @prop {boolean} [valid] - `valid`, `warning`, and `error`, are mutually exclusive\n * @prop {boolean} [warning]\n * @prop {boolean} [error]\n */\nFieldGroup.propTypes = {\n    children: propTypes.node,\n    className: propTypes.string,\n    dataTest: propTypes.string,\n    disabled: propTypes.bool,\n    error: sharedPropTypes.statusPropType,\n    helpText: propTypes.string,\n    label: propTypes.string,\n    name: propTypes.string,\n    required: propTypes.bool,\n    valid: sharedPropTypes.statusPropType,\n    validationText: propTypes.string,\n    warning: sharedPropTypes.statusPropType,\n}\n\nexport { FieldGroup }\n","/*\n * This allows us to delay calling i18n.t until after the\n * language has been set. Otherwise the translations could\n * potentially use the wrong language.\n *\n * It checks if the passed prop is a function. If so,\n * it'll execute it. Since this should only be called during\n * render, we can be certain that i18n will have initialized.\n */\n\nconst translate = prop => {\n    if (typeof prop === 'function') {\n        return prop()\n    }\n\n    return prop\n}\n\nexport default translate\n","import React from 'react'\nimport propTypes from '@dhis2/prop-types'\nimport i18n from '@dhis2/d2-i18n'\n\nimport { sharedPropTypes } from '@dhis2/ui-constants'\n\nimport {\n    FileInput,\n    FileList,\n    FileListPlaceholder,\n    Field,\n    Label,\n} from '@dhis2/ui-core'\nimport translate from '../translate'\n\n/**\n * @module\n * @param {FileInputField.PropTypes} props\n * @returns {React.Component}\n *\n * @example import { FileInputField } from '@dhis2/ui-widgets'\n *\n * @see Specification: {@link https://github.com/dhis2/design-system/blob/master/atoms/fileinput.md|Design system}\n * @see Live demo: {@link /demo/?path=/story/fileinputfield--default|Storybook}\n */\nconst FileInputField = ({\n    accept,\n    buttonLabel,\n    children,\n    className,\n    dataTest,\n    disabled,\n    error,\n    helpText,\n    initialFocus,\n    label,\n    large,\n    multiple,\n    name,\n    onBlur,\n    onChange,\n    onFocus,\n    placeholder,\n    required,\n    small,\n    tabIndex,\n    valid,\n    validationText,\n    warning,\n}) => (\n    <Field\n        className={className}\n        dataTest={dataTest}\n        helpText={helpText}\n        validationText={validationText}\n        error={error}\n        warning={warning}\n        valid={valid}\n    >\n        {label && (\n            <Label required={required} disabled={disabled} htmlFor={name}>\n                {label}\n            </Label>\n        )}\n\n        <FileInput\n            accept={accept}\n            buttonLabel={translate(buttonLabel)}\n            className={className}\n            disabled={disabled}\n            error={error}\n            initialFocus={initialFocus}\n            large={large}\n            multiple={multiple}\n            name={name}\n            onBlur={onBlur}\n            onChange={onChange}\n            onFocus={onFocus}\n            small={small}\n            tabIndex={tabIndex}\n            valid={valid}\n            warning={warning}\n        />\n\n        <FileList>\n            {children ? (\n                children\n            ) : (\n                <FileListPlaceholder>\n                    {translate(placeholder)}\n                </FileListPlaceholder>\n            )}\n        </FileList>\n    </Field>\n)\n\nFileInputField.defaultProps = {\n    accept: '*',\n    dataTest: 'dhis2-uiwidgets-fileinputfield',\n\n    buttonLabel: () => i18n.t('Upload a file'),\n    placeholder: () => i18n.t('No file uploaded yet'),\n}\n\n/**\n * @typedef {Object} PropTypes\n * @static\n *\n * @prop {string} [name]\n * @prop {function} [onChange]\n * @prop {function} [onBlur]\n * @prop {function} [onFocus]\n * @prop {string} [label]\n * @prop {string|function} [buttonLabel]\n * @prop {string} [className]\n * @prop {string|function} [placeholder]\n * @prop {string} [tabIndex]\n *\n * @prop {boolean} [required]\n * @prop {boolean} [disabled]\n * @prop {boolean} [initialFocus]\n *\n * @prop {boolean} [valid] - `valid`, `warning` and `error` are mutually exclusive\n * @prop {boolean} [warning]\n * @prop {boolean} [error]\n *\n * @prop {boolean} [small] - `small` and `large` are mutually exclusive\n * @prop {boolean} [large]\n *\n * @prop {string} [validationText]\n * @prop {string} [helpText]\n *\n * @prop {FileListItem|Array.<FileListItem>} [children]\n * @prop {string} [accept=*] - the `accept` attribute of the [native file input]{@link https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#accept}\n * @prop {boolean} [multiple] - the `multiple` attribute of the [native file input]{@link https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#multiple}\n * @prop {string} [dataTest]\n */\nFileInputField.propTypes = {\n    accept: propTypes.string,\n    buttonLabel: propTypes.oneOfType([propTypes.string, propTypes.func]),\n    children: propTypes.node,\n    className: propTypes.string,\n    dataTest: propTypes.string,\n    disabled: propTypes.bool,\n    error: sharedPropTypes.statusPropType,\n    helpText: propTypes.string,\n    initialFocus: propTypes.bool,\n    label: propTypes.string,\n    large: sharedPropTypes.sizePropType,\n    multiple: propTypes.bool,\n    name: propTypes.string,\n    placeholder: propTypes.oneOfType([propTypes.string, propTypes.func]),\n    required: propTypes.bool,\n    small: sharedPropTypes.sizePropType,\n    tabIndex: propTypes.string,\n    valid: sharedPropTypes.statusPropType,\n    validationText: propTypes.string,\n    warning: sharedPropTypes.statusPropType,\n    onBlur: propTypes.func,\n    onChange: propTypes.func,\n    onFocus: propTypes.func,\n}\n\nexport { FileInputField }\n","import propTypes from '@dhis2/prop-types'\nimport React from 'react'\n\nimport i18n from '@dhis2/d2-i18n'\nimport { sharedPropTypes } from '@dhis2/ui-constants'\nimport { Field, Box, MultiSelect } from '@dhis2/ui-core'\nimport translate from '../translate'\n\n/**\n * @module\n *\n * @param {MultiSelectField.PropTypes} props\n * @returns {React.Component}\n *\n * @example import { MultiSelectField } from '@dhis2/ui-widgets'\n *\n * @see Specification: {@link https://github.com/dhis2/design-system/blob/master/molecules/select.md|Design system}\n * @see Live demo: {@link /demo/?path=/story/multiselectfield--default|Storybook}\n */\nclass MultiSelectField extends React.Component {\n    render() {\n        const {\n            className,\n            onChange,\n            onFocus,\n            onBlur,\n            required,\n            label,\n            valid,\n            error,\n            disabled,\n            warning,\n            loading,\n            selected,\n            tabIndex,\n            helpText,\n            validationText,\n            maxHeight,\n            inputMaxHeight,\n            inputWidth,\n            children,\n            clearable,\n            clearText,\n            filterable,\n            filterPlaceholder,\n            placeholder,\n            prefix,\n            empty,\n            loadingText,\n            noMatchText,\n            initialFocus,\n            dense,\n            dataTest,\n        } = this.props\n\n        return (\n            <Field\n                className={className}\n                dataTest={dataTest}\n                name={name}\n                disabled={disabled}\n                required={required}\n                label={label}\n                helpText={helpText}\n                validationText={validationText}\n                error={error}\n                warning={warning}\n                valid={valid}\n            >\n                <Box width={inputWidth} minWidth=\"100px\">\n                    <MultiSelect\n                        selected={selected}\n                        tabIndex={tabIndex}\n                        maxHeight={maxHeight}\n                        inputMaxHeight={inputMaxHeight}\n                        onChange={onChange}\n                        onFocus={onFocus}\n                        onBlur={onBlur}\n                        loading={loading}\n                        error={error}\n                        warning={warning}\n                        valid={valid}\n                        disabled={disabled}\n                        clearable={clearable}\n                        clearText={translate(clearText)}\n                        filterable={filterable}\n                        filterPlaceholder={translate(filterPlaceholder)}\n                        placeholder={placeholder}\n                        prefix={prefix}\n                        empty={translate(empty)}\n                        loadingText={translate(loadingText)}\n                        noMatchText={translate(noMatchText)}\n                        initialFocus={initialFocus}\n                        dense={dense}\n                    >\n                        {children}\n                    </MultiSelect>\n                </Box>\n            </Field>\n        )\n    }\n}\n\nMultiSelectField.defaultProps = {\n    selected: [],\n    dataTest: 'dhis2-uiwidgets-multiselectfield',\n\n    clearText: () => i18n.t('Clear'),\n    empty: () => i18n.t('No data found'),\n    filterPlaceholder: () => i18n.t('Type to filter options'),\n    loadingText: () => i18n.t('Loading options'),\n    noMatchText: () => i18n.t('No options found'),\n}\n\n/**\n * @typedef {Object} PropTypes\n * @static\n *\n * @prop {function} [onChange]\n * @prop {string} [label]\n * @prop {Array.<string>} [selected]\n * @prop {string} [className]\n * @prop {string} [tabIndex]\n * @prop {Node} [children]\n * @prop {boolean} [required]\n * @prop {boolean} [disabled]\n * @prop {boolean} [dense]\n * @prop {boolean} [valid] - `valid`, `warning`, `error`, `loading`, are mutually exclusive\n * @prop {boolean} [warning]\n * @prop {boolean} [error]\n * @prop {boolean} [loading]\n * @prop {function} [onFocus]\n * @prop {function} [onBlur]\n * @prop {boolean} [initialFocus]\n * @prop {string} [validationText]\n * @prop {string} [helpText]\n * @prop {string|function} [clearText]\n * @prop {boolean} [clearable]\n * @prop {Node|function} [empty]\n * @prop {string|function} [filterPlaceholder]\n * @prop {boolean} [filterable]\n * @prop {string|function} [loadingText]\n * @prop {string} [maxHeight]\n * @prop {string} [inputMaxHeight]\n * @prop {string} [inputWidth]\n * @prop {string|function} [noMatchText]\n * @prop {string} [placeholder]\n * @prop {string} [prefix]\n * @prop {string} [dataTest]\n */\nMultiSelectField.propTypes = {\n    children: propTypes.node,\n    className: propTypes.string,\n    clearText: propTypes.oneOfType([propTypes.string, propTypes.func]),\n    clearable: propTypes.bool,\n    dataTest: propTypes.string,\n    dense: propTypes.bool,\n    disabled: propTypes.bool,\n    empty: propTypes.oneOfType([propTypes.node, propTypes.func]),\n    error: sharedPropTypes.statusPropType,\n    filterPlaceholder: propTypes.oneOfType([propTypes.node, propTypes.func]),\n    filterable: propTypes.bool,\n    helpText: propTypes.string,\n    initialFocus: propTypes.bool,\n    inputMaxHeight: propTypes.string,\n    inputWidth: propTypes.string,\n    label: propTypes.string,\n    loading: propTypes.bool,\n    loadingText: propTypes.oneOfType([propTypes.string, propTypes.func]),\n    maxHeight: propTypes.string,\n    noMatchText: propTypes.oneOfType([propTypes.string, propTypes.func]),\n    placeholder: propTypes.string,\n    prefix: propTypes.string,\n    required: propTypes.bool,\n    selected: propTypes.arrayOf(propTypes.string),\n    tabIndex: propTypes.string,\n    valid: sharedPropTypes.statusPropType,\n    validationText: propTypes.string,\n    warning: sharedPropTypes.statusPropType,\n    onBlur: propTypes.func,\n    onChange: propTypes.func,\n    onFocus: propTypes.func,\n}\n\nexport { MultiSelectField }\n","import React from 'react'\n\nimport i18n from '@dhis2/d2-i18n'\nimport propTypes from '@dhis2/prop-types'\nimport { Field, SingleSelect, Box } from '@dhis2/ui-core'\nimport { sharedPropTypes } from '@dhis2/ui-constants'\nimport translate from '../translate'\n\n/**\n * @module\n *\n * @param {SingleSelectField.PropTypes} props\n * @returns {React.Component}\n *\n * @example import { SingleSelectField } from '@dhis2/ui-widgets'\n *\n * @see Specification: {@link https://github.com/dhis2/design-system/blob/master/molecules/select.md|Design system}\n * @see Live demo: {@link /demo/?path=/story/singleselectfield--default|Storybook}\n */\nclass SingleSelectField extends React.Component {\n    render() {\n        const {\n            className,\n            onChange,\n            onFocus,\n            onBlur,\n            required,\n            label,\n            valid,\n            error,\n            warning,\n            disabled,\n            loading,\n            selected,\n            tabIndex,\n            helpText,\n            validationText,\n            maxHeight,\n            inputMaxHeight,\n            inputWidth,\n            children,\n            clearable,\n            clearText,\n            filterable,\n            filterPlaceholder,\n            placeholder,\n            prefix,\n            empty,\n            loadingText,\n            noMatchText,\n            initialFocus,\n            dense,\n            dataTest,\n        } = this.props\n\n        return (\n            <Field\n                className={className}\n                dataTest={dataTest}\n                name={name}\n                disabled={disabled}\n                required={required}\n                label={label}\n                helpText={helpText}\n                validationText={validationText}\n                error={error}\n                warning={warning}\n                valid={valid}\n            >\n                <Box width={inputWidth} minWidth=\"100px\">\n                    <SingleSelect\n                        selected={selected}\n                        tabIndex={tabIndex}\n                        maxHeight={maxHeight}\n                        inputMaxHeight={inputMaxHeight}\n                        onChange={onChange}\n                        onFocus={onFocus}\n                        onBlur={onBlur}\n                        loading={loading}\n                        error={error}\n                        warning={warning}\n                        valid={valid}\n                        disabled={disabled}\n                        clearable={clearable}\n                        clearText={translate(clearText)}\n                        filterable={filterable}\n                        filterPlaceholder={translate(filterPlaceholder)}\n                        placeholder={placeholder}\n                        prefix={prefix}\n                        empty={translate(empty)}\n                        loadingText={translate(loadingText)}\n                        noMatchText={translate(noMatchText)}\n                        initialFocus={initialFocus}\n                        dense={dense}\n                    >\n                        {children}\n                    </SingleSelect>\n                </Box>\n            </Field>\n        )\n    }\n}\n\nSingleSelectField.defaultProps = {\n    dataTest: 'dhis2-uiwidgets-singleselectfield',\n    selected: '',\n\n    clearText: () => i18n.t('Clear'),\n    empty: () => i18n.t('No data found'),\n    filterPlaceholder: () => i18n.t('Type to filter options'),\n    loadingText: () => i18n.t('Loading options'),\n    noMatchText: () => i18n.t('No options found'),\n}\n\n/**\n * @typedef {Object} PropTypes\n * @static\n *\n * @prop {function} [onChange]\n * @prop {string} label\n * @prop {string} [selected]\n * @prop {string} [className]\n * @prop {string} [tabIndex]\n * @prop {Node} [children]\n * @prop {boolean} [required]\n * @prop {boolean} [disabled]\n * @prop {boolean} [dense]\n * @prop {boolean} [valid] - `valid`, `warning`, `error`, `loading`, are mutually exclusive\n * @prop {boolean} [warning]\n * @prop {boolean} [error]\n * @prop {boolean} [loading]\n * @prop {function} [onFocus]\n * @prop {function} [onBlur]\n * @prop {boolean} [initialFocus]\n * @prop {string} [validationText]\n * @prop {string} [helpText]\n * @prop {string|function} [clearText]\n * @prop {boolean} [clearable]\n * @prop {Node|function} [empty]\n * @prop {string|function} [filterPlaceholder]\n * @prop {boolean} [filterable]\n * @prop {string|function} [loadingText]\n * @prop {string} [maxHeight]\n * @prop {string} [inputMaxHeight]\n * @prop {string} [inputWidth]\n * @prop {string|function} [noMatchText]\n * @prop {string} [placeholder]\n * @prop {string} [prefix]\n * @prop {string} [dataTest]\n */\nSingleSelectField.propTypes = {\n    children: propTypes.node,\n    className: propTypes.string,\n    clearText: propTypes.oneOfType([propTypes.string, propTypes.func]),\n    clearable: propTypes.bool,\n    dataTest: propTypes.string,\n    dense: propTypes.bool,\n    disabled: propTypes.bool,\n    empty: propTypes.oneOfType([propTypes.node, propTypes.func]),\n    error: sharedPropTypes.statusPropType,\n    filterPlaceholder: propTypes.oneOfType([propTypes.node, propTypes.func]),\n    filterable: propTypes.bool,\n    helpText: propTypes.string,\n    initialFocus: propTypes.bool,\n    inputMaxHeight: propTypes.string,\n    inputWidth: propTypes.string,\n    label: propTypes.string,\n    loading: propTypes.bool,\n    loadingText: propTypes.oneOfType([propTypes.string, propTypes.func]),\n    maxHeight: propTypes.string,\n    noMatchText: propTypes.oneOfType([propTypes.string, propTypes.func]),\n    placeholder: propTypes.string,\n    prefix: propTypes.string,\n    required: propTypes.bool,\n    selected: propTypes.string,\n    tabIndex: propTypes.string,\n    valid: sharedPropTypes.statusPropType,\n    validationText: propTypes.string,\n    warning: sharedPropTypes.statusPropType,\n    onBlur: propTypes.func,\n    onChange: propTypes.func,\n    onFocus: propTypes.func,\n}\n\nexport { SingleSelectField }\n","import React from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nimport { sharedPropTypes } from '@dhis2/ui-constants'\nimport { Field, Switch, Required } from '@dhis2/ui-core'\n\nconst AddRequired = ({ label, required, dataTest }) => (\n    <React.Fragment>\n        {label}\n        {required && <Required dataTest={`${dataTest}-required`} />}\n    </React.Fragment>\n)\nAddRequired.propTypes = {\n    dataTest: propTypes.string,\n    label: propTypes.node,\n    required: propTypes.bool,\n}\n\n/**\n * @module\n * @param {SwitchField.PropTypes} props\n * @returns {React.Component}\n *\n * @example import { SwitchField } from '@dhis2/ui-widgets'\n *\n * @see Specification: {@link https://github.com/dhis2/design-system/blob/master/atoms/switch.md|Design system}\n * @see Live demo: {@link /demo/?path=/story/switchfield--default|Storybook}\n */\n\nconst SwitchField = ({\n    value,\n    label,\n    name,\n    className,\n    tabIndex,\n    onChange,\n    onFocus,\n    onBlur,\n    checked,\n    disabled,\n    valid,\n    warning,\n    error,\n    dense,\n    initialFocus,\n    required,\n    helpText,\n    validationText,\n    dataTest,\n}) => (\n    <Field\n        className={className}\n        dataTest={dataTest}\n        helpText={helpText}\n        validationText={validationText}\n        error={error}\n        warning={warning}\n        valid={valid}\n        required={required}\n        name={name}\n        disabled={disabled}\n    >\n        <Switch\n            value={value}\n            label={\n                <AddRequired\n                    label={label}\n                    required={required}\n                    dataTest={dataTest}\n                />\n            }\n            name={name}\n            tabIndex={tabIndex}\n            onChange={onChange}\n            onFocus={onFocus}\n            onBlur={onBlur}\n            checked={checked}\n            disabled={disabled}\n            valid={valid}\n            warning={warning}\n            error={error}\n            dense={dense}\n            initialFocus={initialFocus}\n        />\n    </Field>\n)\n\nSwitchField.defaultProps = {\n    dataTest: 'dhis2-uiwidgets-switchfield',\n}\n\n/**\n * @typedef {Object} PropTypes\n * @static\n * @prop {string} value\n * @prop {string} [label]\n *\n * @prop {string} [name]\n * @prop {string} [className]\n * @prop {string} [tabIndex]\n *\n * @prop {function} [onChange]\n * @prop {function} [onFocus]\n * @prop {function} [onBlur]\n *\n * @prop {boolean} [checked]\n * @prop {boolean} [disabled]\n *\n * @prop {boolean} [valid] - `valid`, `warning`, and `error` are\n * mutually exclusive\n * @prop {boolean} [warning]\n * @prop {boolean} [error]\n *\n * @prop {boolean} [dense]\n * @prop {boolean} [initialFocus]\n * @prop {boolean} [required]\n * @prop {string} [helpText]\n * @prop {string} [validationText]\n * @prop {string} [dataTest]\n */\nSwitchField.propTypes = {\n    checked: propTypes.bool,\n    className: propTypes.string,\n    dataTest: propTypes.string,\n    dense: propTypes.bool,\n    disabled: propTypes.bool,\n    error: sharedPropTypes.statusPropType,\n    helpText: propTypes.string,\n    initialFocus: propTypes.bool,\n    label: propTypes.node,\n    name: propTypes.string,\n    required: propTypes.bool,\n    tabIndex: propTypes.string,\n    valid: sharedPropTypes.statusPropType,\n    validationText: propTypes.string,\n    value: propTypes.string,\n    warning: sharedPropTypes.statusPropType,\n    onBlur: propTypes.func,\n    onChange: propTypes.func,\n    onFocus: propTypes.func,\n}\n\nexport { SwitchField }\n","import propTypes from '@dhis2/prop-types'\nimport React from 'react'\n\nimport { sharedPropTypes } from '@dhis2/ui-constants'\nimport { Field, TextArea, Box } from '@dhis2/ui-core'\n\n/**\n * @module\n * @param {TextAreaField.PropTypes} props\n * @returns {React.Component}\n *\n * @example import { TextAreaField } from '@dhis2/ui-widgets'\n *\n * @see Specification: {@link https://github.com/dhis2/design-system/blob/update-input/atoms/inputfield.md#textarea|Design system}\n * @see Live demo: {@link /demo/?path=/story/textareafield--default|Storybook}\n */\nconst TextAreaField = ({\n    className,\n    onChange,\n    onFocus,\n    onBlur,\n    initialFocus,\n    dense,\n    required,\n    label,\n    disabled,\n    placeholder,\n    name,\n    valid,\n    error,\n    warning,\n    loading,\n    value,\n    tabIndex,\n    helpText,\n    validationText,\n    autoGrow,\n    readOnly,\n    resize,\n    rows,\n    inputWidth,\n    dataTest,\n}) => (\n    <Field\n        className={className}\n        dataTest={dataTest}\n        disabled={disabled}\n        required={required}\n        name={name}\n        helpText={helpText}\n        validationText={validationText}\n        error={error}\n        warning={warning}\n        valid={valid}\n        label={label}\n    >\n        <Box width={inputWidth} minWidth=\"220px\">\n            <TextArea\n                onFocus={onFocus}\n                onBlur={onBlur}\n                onChange={onChange}\n                name={name}\n                value={value || ''}\n                placeholder={placeholder}\n                disabled={disabled}\n                valid={valid}\n                warning={warning}\n                error={error}\n                loading={loading}\n                dense={dense}\n                tabIndex={tabIndex}\n                initialFocus={initialFocus}\n                autoGrow={autoGrow}\n                readOnly={readOnly}\n                resize={resize}\n                rows={rows}\n            />\n        </Box>\n    </Field>\n)\n\nTextAreaField.defaultProps = {\n    rows: 4,\n    width: '100%',\n    resize: 'vertical',\n    dataTest: 'dhis2-uiwidgets-textareafield',\n}\n\n/**\n * @typedef {Object} PropTypes\n * @static\n *\n * @prop {string} name\n * @prop {function} [onChange]\n * @prop {function} [onBlur]\n * @prop {function} [onFocus]\n * @prop {string} [label]\n * @prop {string} [className]\n * @prop {string} [placeholder]\n * @prop {string} [value]\n * @prop {string} [tabIndex]\n *\n * @prop {boolean} [required]\n * @prop {boolean} [disabled]\n * @prop {boolean} [dense] - Compact mode\n * @prop {boolean} [initialFocus]\n *\n * @prop {boolean} [valid] - `valid`, `warning`, `error`, and `loading`\n * are mutually exclusive\n * @prop {boolean} [warning]\n * @prop {boolean} [error]\n * @prop {boolean} [loading]\n *\n * @prop {string} [validationText]\n * @prop {string} [helpText]\n *\n * @prop {boolean} [autoGrow]\n * @prop {boolean} [readOnly]\n * @prop {string} [resize=vertical] - resize attribute on the textarea,\n * one of `none`, `both`, `horizontal`, `vertical`\n * @prop {number} [rows=4]\n * @prop {string} [inputWidth]\n * @prop {string} [dataTest]\n */\nTextAreaField.propTypes = {\n    autoGrow: propTypes.bool,\n    className: propTypes.string,\n    dataTest: propTypes.string,\n    dense: propTypes.bool,\n    disabled: propTypes.bool,\n    error: sharedPropTypes.statusPropType,\n    helpText: propTypes.string,\n    initialFocus: propTypes.bool,\n    inputWidth: propTypes.string,\n    label: propTypes.string,\n    loading: propTypes.bool,\n    name: propTypes.string,\n    placeholder: propTypes.string,\n    readOnly: propTypes.bool,\n    required: propTypes.bool,\n    resize: propTypes.oneOf(['none', 'both', 'horizontal', 'vertical']),\n    rows: propTypes.number,\n    tabIndex: propTypes.string,\n    valid: sharedPropTypes.statusPropType,\n    validationText: propTypes.string,\n    value: propTypes.string,\n    warning: sharedPropTypes.statusPropType,\n    onBlur: propTypes.func,\n    onChange: propTypes.func,\n    onFocus: propTypes.func,\n}\n\nexport { TextAreaField }\n","import React from 'react'\nimport propTypes from '@dhis2/prop-types'\nimport { spacers } from '@dhis2/ui-constants'\n\nexport const Actions = ({ children, dataTest }) => (\n    <div data-test={dataTest}>\n        {children}\n\n        <style jsx>{`\n            div {\n                align-content: center;\n                display: flex;\n                flex-direction: column;\n                flex-shrink: 1;\n                justify-content: center;\n                margin: 0 ${spacers.dp8};\n            }\n\n            div > :global(button) {\n                margin-top: 8px;\n            }\n\n            div > :global(button):first-child {\n                margin-top: 0;\n            }\n        `}</style>\n    </div>\n)\n\nActions.propTypes = {\n    dataTest: propTypes.string.isRequired,\n    children: propTypes.node,\n}\n","import React from 'react'\nimport css from 'styled-jsx/css'\nimport propTypes from '@dhis2/prop-types'\nimport { theme } from '@dhis2/ui-constants'\n\nconst centerButtonStyles = css`\n    svg {\n        min-width: 20px;\n    }\n`\n\nexport const IconAddAll = ({ dataTest, disabled }) => (\n    <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"16\"\n        height=\"16\"\n        viewBox=\"0 0 16 16\"\n        data-test={dataTest}\n        fill={disabled ? theme.disabled : '#404B5A'}\n    >\n        <g fillRule=\"evenodd\">\n            <polygon\n                fillRule=\"nonzero\"\n                points=\"6 2 4.94 3.06 9.13 7.25 0 7.25 0 8.75 9.13 8.75 4.94 12.94 6 14 12 8\"\n            />\n\n            <polygon\n                fillRule=\"nonzero\"\n                points=\"10 2 8.94 3.06 13.13 7.25 13.9 8 13.13 8.75 8.94 12.94 10 14 16 8\"\n            />\n        </g>\n\n        <style jsx>{centerButtonStyles}</style>\n    </svg>\n)\n\nIconAddAll.propTypes = {\n    dataTest: propTypes.string.isRequired,\n    disabled: propTypes.bool,\n}\n\nexport const IconAddIndividual = ({ dataTest, disabled }) => (\n    <svg\n        fill={disabled ? theme.disabled : '#404B5A'}\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"16\"\n        height=\"16\"\n        viewBox=\"0 0 16 16\"\n        data-test={dataTest}\n    >\n        <polygon points=\"8 2 6.94 3.06 11.13 7.25 2 7.25 2 8.75 11.13 8.75 6.94 12.94 8 14 14 8\" />\n\n        <style jsx>{centerButtonStyles}</style>\n    </svg>\n)\n\nIconAddIndividual.propTypes = {\n    dataTest: propTypes.string.isRequired,\n    disabled: propTypes.bool,\n}\n\nexport const IconRemoveAll = ({ dataTest, disabled }) => (\n    <svg\n        fill={disabled ? theme.disabled : '#404B5A'}\n        width=\"16px\"\n        height=\"16px\"\n        viewBox=\"0 0 16 16\"\n        data-test={dataTest}\n        xmlns=\"http://www.w3.org/2000/svg\"\n    >\n        <g fillRule=\"evenodd\">\n            <polygon\n                fillRule=\"nonzero\"\n                points=\"10 2 8.94 3.06 13.13 7.25 4 7.25 4 8.75 13.13 8.75 8.94 12.94 10 14 16 8\"\n                transform=\"matrix(-1 0 0 1 20 0)\"\n            />\n\n            <polygon\n                fillRule=\"nonzero\"\n                points=\"1.06 2 0 3.06 4.19 7.25 4.96 8 4.19 8.75 0 12.94 1.06 14 7.06 8\"\n                transform=\"matrix(-1 0 0 1 7.06 0)\"\n            />\n        </g>\n\n        <style jsx>{centerButtonStyles}</style>\n    </svg>\n)\n\nIconRemoveAll.propTypes = {\n    dataTest: propTypes.string.isRequired,\n    disabled: propTypes.bool,\n}\n\nexport const IconRemoveIndividual = ({ dataTest, disabled }) => (\n    <svg\n        fill={disabled ? theme.disabled : '#404B5A'}\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"16\"\n        height=\"16\"\n        viewBox=\"0 0 16 16\"\n        data-test={dataTest}\n    >\n        <polygon\n            points=\"8 2 6.94 3.06 11.13 7.25 2 7.25 2 8.75 11.13 8.75 6.94 12.94 8 14 14 8\"\n            transform=\"matrix(-1 0 0 1 16 0)\"\n        />\n\n        <style jsx>{centerButtonStyles}</style>\n    </svg>\n)\n\nIconRemoveIndividual.propTypes = {\n    dataTest: propTypes.string.isRequired,\n    disabled: propTypes.bool,\n}\n\nexport const IconMoveDown = ({ dataTest, disabled }) => (\n    <svg\n        fill={disabled ? theme.disabled : '#404B5A'}\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"16\"\n        height=\"16\"\n        viewBox=\"0 0 16 16\"\n        data-test={dataTest}\n    >\n        <polygon\n            points=\"8 2 6.94 3.06 11.13 7.25 2 7.25 2 8.75 11.13 8.75 6.94 12.94 8 14 14 8\"\n            transform=\"matrix(0 1 1 0 0 0)\"\n        />\n    </svg>\n)\n\nIconMoveDown.propTypes = {\n    dataTest: propTypes.string.isRequired,\n    disabled: propTypes.bool,\n}\n\nexport const IconMoveUp = ({ dataTest, disabled }) => (\n    <svg\n        fill={disabled ? theme.disabled : '#404B5A'}\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"16\"\n        height=\"16\"\n        viewBox=\"0 0 16 16\"\n        data-test={dataTest}\n    >\n        <polygon\n            points=\"8 2 6.94 3.06 11.13 7.25 2 7.25 2 8.75 11.13 8.75 6.94 12.94 8 14 14 8\"\n            transform=\"rotate(-90 8 8)\"\n        />\n    </svg>\n)\n\nIconMoveUp.propTypes = {\n    dataTest: propTypes.string.isRequired,\n    disabled: propTypes.bool,\n}\n","import { Button } from '@dhis2/ui-core'\nimport React from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nimport { IconAddAll } from './icons.js'\n\nexport const AddAll = ({ label, dataTest, disabled, onClick }) => (\n    <Button\n        dataTest={dataTest}\n        disabled={disabled}\n        onClick={onClick}\n        icon={\n            <IconAddAll\n                dataTest={`${dataTest}-iconaddall`}\n                disabled={disabled}\n            />\n        }\n    >\n        {label}\n    </Button>\n)\n\nAddAll.propTypes = {\n    dataTest: propTypes.string.isRequired,\n    onClick: propTypes.func.isRequired,\n    disabled: propTypes.bool,\n    label: propTypes.string,\n}\n","import { Button } from '@dhis2/ui-core'\nimport React from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nimport { IconAddIndividual } from './icons.js'\n\nexport const AddIndividual = ({ label, dataTest, disabled, onClick }) => (\n    <Button\n        dataTest={dataTest}\n        disabled={disabled}\n        onClick={onClick}\n        icon={\n            <IconAddIndividual\n                disabled={disabled}\n                dataTest={`${dataTest}-iconaddindividual`}\n            />\n        }\n    >\n        {label}\n    </Button>\n)\n\nAddIndividual.propTypes = {\n    dataTest: propTypes.string.isRequired,\n    onClick: propTypes.func.isRequired,\n    disabled: propTypes.bool,\n    label: propTypes.string,\n}\n","import React from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nexport const Container = ({ children, dataTest, className, height }) => (\n    <div data-test={dataTest} className={className}>\n        {children}\n\n        <style jsx>{`\n            div {\n                display: flex;\n                width: 100%;\n                height: ${height};\n            }\n        `}</style>\n    </div>\n)\n\nContainer.propTypes = {\n    height: propTypes.string.isRequired,\n    children: propTypes.node,\n    className: propTypes.string,\n    dataTest: propTypes.string,\n}\n","import { Input, Field } from '@dhis2/ui-core'\nimport { spacers } from '@dhis2/ui-constants'\nimport React from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nexport const Filter = ({ dataTest, filter, onChange, label, placeholder }) => (\n    <div data-test={dataTest}>\n        <Field label={label} name={dataTest} dataTest={`${dataTest}-field`}>\n            <Input\n                dataTest={`${dataTest}-input`}\n                type=\"search\"\n                placeholder={placeholder}\n                name={dataTest}\n                value={filter}\n                onChange={onChange}\n            />\n        </Field>\n\n        <style jsx>{`\n            div {\n                padding-bottom: ${spacers.dp8};\n            }\n\n            div:first-child {\n                padding-top: ${spacers.dp8};\n            }\n        `}</style>\n    </div>\n)\n\nFilter.propTypes = {\n    dataTest: propTypes.string.isRequired,\n    filter: propTypes.string.isRequired,\n    onChange: propTypes.func.isRequired,\n    label: propTypes.string,\n    placeholder: propTypes.string,\n}\n","/**\n * Click modes when clicking on an option with/without\n * a modifier key (ctrl, alt, cmd, shift)\n */\n\n// no or multiple modifier keys\nexport const REPLACE_MODE = 'REPLACE_MODE'\n// add/remove options from selection\nexport const ADD_MODE = 'ADD_MODE'\n// create selection range\nexport const RANGE_MODE = 'RANGE_MODE'\n","import { colors } from '@dhis2/ui-constants'\n\nexport const borderColor = colors.grey400\nexport const borderRadius = '3px'\n","/**\n * @param {Object} left\n * @param {Object} left\n * @returns {bool}\n */\nexport const isOption = (left, right) =>\n    left.label === right.label && left.value === right.value\n","import { isOption } from './isOption.js'\n\n/**\n * @param {Object[]} options\n * @param {Object} option\n * @returns {Int}\n */\nexport const findOptionIndex = (options, option) =>\n    options.findIndex(current => isOption(current, option))\n","import { ADD_MODE, RANGE_MODE, REPLACE_MODE } from './modes.js'\n\n/**\n * @param {Object} args\n * @param {bool} args.altKey\n * @param {bool} args.shiftKey\n * @param {bool} args.ctrlKey\n * @param {bool} args.metaKey\n * @return {string}\n */\nexport const getModeByModifierKey = ({\n    altKey,\n    shiftKey,\n    ctrlKey,\n    metaKey,\n}) => {\n    const keys = [altKey, shiftKey, ctrlKey, metaKey]\n    const amountKeyPressed = keys.filter(v => v)\n    const moreThanOneKeyPressed = amountKeyPressed.length\n\n    if (moreThanOneKeyPressed !== 1) return REPLACE_MODE\n\n    if (altKey || ctrlKey || metaKey) return ADD_MODE\n\n    if (shiftKey) return RANGE_MODE\n\n    // default to replace mode\n    return REPLACE_MODE\n}\n","/**\n * @param {string[]} values\n * @param {string} value\n * @returns {string[]}\n */\nexport const toggleValue = (values, value) => {\n    const index = values.indexOf(value)\n\n    if (index === -1) {\n        return [...values, value]\n    } else if (index === 0) {\n        values.slice(1)\n    }\n\n    const prevSlice = values.slice(0, index)\n    const nextSlice = values.slice(index + 1)\n    return [...prevSlice, ...nextSlice]\n}\n","import React from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nimport { spacers } from '@dhis2/ui-constants'\n\nimport { borderColor } from './common/index.js'\n\nexport const LeftFooter = ({ children, dataTest }) => (\n    <div data-test={dataTest}>\n        {children}\n\n        <style jsx>{`\n            div {\n                flex-grow: 0;\n                border-top: 1px solid ${borderColor};\n                padding: 0 ${spacers.dp8};\n            }\n        `}</style>\n    </div>\n)\n\nLeftFooter.propTypes = {\n    children: propTypes.node,\n    dataTest: propTypes.string,\n}\n","import React from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nimport { spacers } from '@dhis2/ui-constants'\n\nimport { borderColor } from './common/index.js'\n\nexport const LeftHeader = ({ children, dataTest }) => (\n    <div data-test={dataTest}>\n        {children}\n\n        <style jsx>{`\n            div {\n                border-bottom: 1px solid ${borderColor};\n                flex-grow: 0;\n                padding: 0 ${spacers.dp8};\n            }\n        `}</style>\n    </div>\n)\n\nLeftHeader.propTypes = {\n    children: propTypes.node,\n    dataTest: propTypes.string,\n}\n","import React from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nimport { borderColor, borderRadius } from './common/index.js'\n\nexport const LeftSide = ({ children, dataTest, width }) => (\n    <div data-test={dataTest}>\n        {children}\n\n        {\n            /**\n             * Flex basis 0px to make sure right and left side\n             * always have the same width\n             */ ''\n        }\n        <style jsx>{`\n            div {\n                display: flex;\n                flex-direction: column;\n                border-radius: ${borderRadius};\n                border: 1px solid ${borderColor};\n                min-height: 240px;\n                max-width: 100%;\n                width: ${width};\n            }\n        `}</style>\n    </div>\n)\n\nLeftSide.propTypes = {\n    width: propTypes.string.isRequired,\n    children: propTypes.node,\n    dataTest: propTypes.string,\n}\n","import { IntersectionDetector } from '@dhis2/ui-core'\nimport propTypes from '@dhis2/prop-types'\nimport React from 'react'\n\nexport const EndIntersectionDetector = ({\n    rootRef,\n    onEndReached,\n    dataTest,\n}) => (\n    <div data-test={dataTest}>\n        <IntersectionDetector\n            rootRef={rootRef}\n            onChange={({ isIntersecting }) => isIntersecting && onEndReached()}\n        />\n\n        <style jsx>{`\n            div {\n                width: 100%;\n                height: 50px;\n                position: absolute;\n                z-index: -1;\n                bottom: 0;\n                left: 0;\n            }\n        `}</style>\n    </div>\n)\n\nEndIntersectionDetector.propTypes = {\n    rootRef: propTypes.shape({\n        current: propTypes.instanceOf(HTMLElement),\n    }).isRequired,\n    onEndReached: propTypes.func.isRequired,\n    dataTest: propTypes.string,\n}\n","import { CircularLoader } from '@dhis2/ui-core'\nimport { spacers } from '@dhis2/ui-constants'\nimport React, { Fragment, useEffect, useRef, useState } from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nimport { EndIntersectionDetector } from './EndIntersectionDetector.js'\n\nexport const OptionsContainer = ({\n    dataTest,\n    emptyComponent,\n    onEndReached,\n    getOptionClickHandlers,\n    highlightedOptions,\n    loading,\n    renderOption,\n    options,\n    selectionHandler,\n    toggleHighlightedOption,\n}) => {\n    const [remountCounter, setRemountCounter] = useState(0)\n    const [resizeObserver, setResizeObserver] = useState(null)\n    const optionsRef = useRef(null)\n    const wrapperRef = useRef(null)\n\n    useEffect(() => {\n        if (onEndReached && wrapperRef.current) {\n            // The initial call is irrelevant as there has been\n            // no resize yet that we want to react to\n            let firstCall = false\n\n            const observer = new ResizeObserver(() => {\n                if (!firstCall) {\n                    const newCounter = remountCounter + 1\n                    setRemountCounter(newCounter)\n                    firstCall = true\n                }\n            })\n\n            observer.observe(wrapperRef.current)\n            setResizeObserver(observer)\n\n            return () => observer.disconnect()\n        }\n    }, [onEndReached, wrapperRef.current, setRemountCounter])\n\n    return (\n        <div className=\"optionsContainer\">\n            {loading && (\n                <div className=\"loading\">\n                    <CircularLoader />\n                </div>\n            )}\n\n            <div className=\"container\" data-test={dataTest} ref={optionsRef}>\n                <div className=\"content-container\" ref={wrapperRef}>\n                    {!options.length && emptyComponent}\n                    {options.map(option => {\n                        const highlighted = !!highlightedOptions.find(\n                            highlightedSourceOption =>\n                                highlightedSourceOption === option.value\n                        )\n\n                        return (\n                            <Fragment key={option.value}>\n                                {renderOption({\n                                    ...option,\n                                    ...getOptionClickHandlers(\n                                        option,\n                                        selectionHandler,\n                                        toggleHighlightedOption\n                                    ),\n                                    highlighted,\n                                    selected: false,\n                                })}\n                            </Fragment>\n                        )\n                    })}\n\n                    {onEndReached && resizeObserver && (\n                        <EndIntersectionDetector\n                            dataTest={`${dataTest}-endintersectiondetector`}\n                            key={`key-${remountCounter}`}\n                            rootRef={optionsRef}\n                            onEndReached={onEndReached}\n                        />\n                    )}\n                </div>\n            </div>\n\n            <style jsx>{`\n                .optionsContainer {\n                    flex-grow: 1;\n                    padding: ${spacers.dp4} 0;\n                    position: relative;\n                    overflow: hidden;\n                }\n\n                .container {\n                    overflow-y: auto;\n                    height: 100%;\n                }\n\n                .loading {\n                    display: flex;\n                    height: 100%;\n                    width: 100%;\n                    align-items: center;\n                    justify-content: center;\n                    position: absolute;\n                    z-index: 2;\n                    top: 0;\n                    left: 0;\n                }\n\n                .content-container {\n                    z-index: 1;\n                    position: relative;\n                }\n\n                .loading + .container .content-container {\n                    filter: blur(2px);\n                }\n            `}</style>\n        </div>\n    )\n}\n\nOptionsContainer.propTypes = {\n    dataTest: propTypes.string.isRequired,\n    getOptionClickHandlers: propTypes.func.isRequired,\n    emptyComponent: propTypes.node,\n    highlightedOptions: propTypes.arrayOf(propTypes.string),\n    loading: propTypes.bool,\n    options: propTypes.arrayOf(\n        propTypes.shape({\n            label: propTypes.string.isRequired,\n            value: propTypes.string.isRequired,\n        })\n    ),\n    renderOption: propTypes.func,\n    selectionHandler: propTypes.func,\n    toggleHighlightedOption: propTypes.func,\n    onEndReached: propTypes.func,\n}\n","import { Button } from '@dhis2/ui-core'\nimport React from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nimport { IconRemoveAll } from './icons.js'\n\nexport const RemoveAll = ({ label, dataTest, disabled, onClick }) => (\n    <Button\n        dataTest={dataTest}\n        disabled={disabled}\n        onClick={onClick}\n        icon={\n            <IconRemoveAll\n                disabled={disabled}\n                dataTest={`${dataTest}-iconremoveall`}\n            />\n        }\n    >\n        {label}\n    </Button>\n)\n\nRemoveAll.propTypes = {\n    dataTest: propTypes.string.isRequired,\n    onClick: propTypes.func.isRequired,\n    disabled: propTypes.bool,\n    label: propTypes.string,\n}\n","import { Button } from '@dhis2/ui-core'\nimport React from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nimport { IconRemoveIndividual } from './icons.js'\n\nexport const RemoveIndividual = ({ label, dataTest, disabled, onClick }) => (\n    <Button\n        dataTest={dataTest}\n        disabled={disabled}\n        onClick={onClick}\n        icon={\n            <IconRemoveIndividual\n                disabled={disabled}\n                dataTest={`${dataTest}-iconremoveindividual`}\n            />\n        }\n    >\n        {label}\n    </Button>\n)\n\nRemoveIndividual.propTypes = {\n    dataTest: propTypes.string.isRequired,\n    onClick: propTypes.func.isRequired,\n    disabled: propTypes.bool,\n    label: propTypes.string,\n}\n","import { Button } from '@dhis2/ui-core'\nimport { spacers } from '@dhis2/ui-constants'\nimport React from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nimport { IconMoveDown, IconMoveUp } from './icons.js'\n\nexport const ReorderingActions = ({\n    dataTest,\n    disabledDown,\n    disabledUp,\n    onChangeUp,\n    onChangeDown,\n}) => (\n    <div data-test={dataTest}>\n        <Button\n            small\n            disabled={disabledDown}\n            onClick={() => !disabledDown && onChangeDown(event)}\n            dataTest={`${dataTest}-buttonmovedown`}\n            icon={\n                <IconMoveDown\n                    dataTest={`${dataTest}-iconmovedown`}\n                    disabled={disabledDown}\n                />\n            }\n        />\n\n        <Button\n            small\n            disabled={disabledUp}\n            onClick={() => !disabledUp && onChangeUp(event)}\n            dataTest={`${dataTest}-buttonmoveup`}\n            icon={\n                <IconMoveUp\n                    dataTest={`${dataTest}-iconmoveup`}\n                    disabled={disabledUp}\n                />\n            }\n        />\n\n        <style jsx>{`\n            div {\n                display: flex;\n                flex-direction: row-reverse;\n                padding-top: ${spacers.dp8};\n            }\n\n            div:last-child {\n                padding-bottom: ${spacers.dp8};\n            }\n\n            div > :global(button):first-child {\n                margin-left: ${spacers.dp8};\n            }\n        `}</style>\n    </div>\n)\n\nReorderingActions.propTypes = {\n    dataTest: propTypes.string.isRequired,\n    onChangeDown: propTypes.func.isRequired,\n    onChangeUp: propTypes.func.isRequired,\n    disabledDown: propTypes.bool,\n    disabledUp: propTypes.bool,\n}\n","import React from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nimport { spacers } from '@dhis2/ui-constants'\n\nimport { borderColor } from './common/index.js'\n\nexport const RightHeader = ({ children, dataTest }) => (\n    <div data-test={dataTest}>\n        {children}\n\n        <style jsx>{`\n            div {\n                border-bottom: 1px solid ${borderColor};\n                flex-grow: 0;\n                padding: 0 ${spacers.dp8};\n            }\n        `}</style>\n    </div>\n)\n\nRightHeader.propTypes = {\n    children: propTypes.node,\n    dataTest: propTypes.string,\n}\n","import React from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nimport { spacers } from '@dhis2/ui-constants'\n\nimport { borderColor } from './common/index.js'\n\nexport const RightFooter = ({ children, dataTest }) => (\n    <div data-test={dataTest}>\n        {children}\n\n        <style jsx>{`\n            div {\n                flex-grow: 0;\n                border-top: 1px solid ${borderColor};\n                padding: 0 ${spacers.dp8};\n            }\n        `}</style>\n    </div>\n)\n\nRightFooter.propTypes = {\n    children: propTypes.node,\n    dataTest: propTypes.string,\n}\n","import React from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nimport { borderColor, borderRadius } from './common/index.js'\n\nexport const RightSide = ({ children, dataTest, width }) => (\n    <div data-test={dataTest}>\n        {children}\n\n        {\n            /**\n             * Flex basis 0px to make sure right and left side\n             * always have the same width\n             */ ''\n        }\n        <style jsx>{`\n            div {\n                border: 1px solid ${borderColor};\n                border-radius: ${borderRadius};\n                display: flex;\n                flex-direction: column;\n                max-width: 100%;\n                width: ${width};\n            }\n        `}</style>\n    </div>\n)\n\nRightSide.propTypes = {\n    width: propTypes.string.isRequired,\n    children: propTypes.node,\n    dataTest: propTypes.string,\n}\n","import React, { useRef } from 'react'\nimport cx from 'classnames'\n\nimport propTypes from '@dhis2/prop-types'\n\nimport { colors } from '@dhis2/ui-constants'\n\nconst DOUBLE_CLICK_MAX_DELAY = 500\n\n/**\n * @module\n * @param {TransferOption.PropTypes} props\n * @returns {React.Component}\n *\n * @example import { TransferOption } from '@dhis2/ui-core'\n * @see Specification: {@link https://github.com/dhis2/design-system/blob/master/organisms/transfer.md|Design system}\n * @see Live demo: {@link /demo/?path=/story/transfer--basic|Storybook}\n */\nexport const TransferOption = ({\n    className,\n    disabled,\n    dataTest,\n    highlighted,\n    onClick,\n    onDoubleClick,\n    label,\n    value,\n}) => {\n    const doubleClickTimeout = useRef(null)\n\n    return (\n        <div\n            data-test={dataTest}\n            onClick={event => {\n                if (disabled) return\n\n                if (doubleClickTimeout.current) {\n                    clearTimeout(doubleClickTimeout.current)\n                    doubleClickTimeout.current = null\n\n                    onDoubleClick({ value }, event)\n                } else {\n                    doubleClickTimeout.current = setTimeout(() => {\n                        clearTimeout(doubleClickTimeout.current)\n                        doubleClickTimeout.current = null\n                    }, DOUBLE_CLICK_MAX_DELAY)\n\n                    onClick({ value }, event)\n                }\n            }}\n            data-value={value}\n            className={cx(className, { highlighted, disabled })}\n        >\n            {label}\n\n            <style jsx>{`\n                div {\n                    font-size: 14px;\n                    line-height: 16px;\n                    padding: 4px 8px;\n                    color: ${colors.grey900};\n                    user-select: none;\n                }\n\n                div:hover {\n                    background: ${colors.grey200};\n                }\n\n                div.highlighted {\n                    background: ${colors.teal700};\n                    color: ${colors.white};\n                }\n\n                div.disabled {\n                    color: ${colors.grey600};\n                    cursor: not-allowed;\n                }\n            `}</style>\n        </div>\n    )\n}\n\nTransferOption.defaultProps = {\n    dataTest: 'dhis2-uicore-transferoption',\n}\n\n/**\n * @typedef {Object} PropTypes\n * @static\n *\n * @prop {string} label\n * @prop {string} value\n * @prop {Object} [additionalData]\n * @prop {string} [className]\n * @prop {string} [dataTest]\n * @prop {bool} [disabled]\n * @prop {bool} [highlighted]\n * @prop {Function} [onClick]\n * @prop {Function} [onDoubleClick]\n */\nTransferOption.propTypes = {\n    label: propTypes.string.isRequired,\n    value: propTypes.string.isRequired,\n    className: propTypes.string,\n    dataTest: propTypes.string,\n    disabled: propTypes.bool,\n    highlighted: propTypes.bool,\n    onClick: propTypes.func,\n    onDoubleClick: propTypes.func,\n}\n","/**\n * @param {Object} args\n * @param {Object[]} args.sourceOptions\n * @param {string[]} args.selected\n * @param {Function} args.onChange\n * @param {Function} arg.setHighlightedSourceOptions\n * @returns {void}\n */\nexport const addAllSelectableSourceOptions = ({\n    sourceOptions,\n    onChange,\n    selected,\n    setHighlightedSourceOptions,\n}) => {\n    const enabledSourceOptions = sourceOptions.filter(\n        ({ disabled }) => !disabled\n    )\n\n    const newSelected = enabledSourceOptions.reduce(\n        (accumulatedSelected, enabledSourceOption) => [\n            ...accumulatedSelected,\n            enabledSourceOption.value,\n        ],\n        selected\n    )\n\n    setHighlightedSourceOptions([])\n\n    // If we ever allow maxSelection to be any value\n    // other than 1 and Infinity, we need to think\n    // about how this should behave:\n    //\n    // Either we hide this button when it's not \"Infinity\",\n    // or we have to decide whether we want to take the first\n    // nth options or the last\n    onChange({ selected: newSelected })\n}\n","/**\n * @param {Object} args\n * @param {bool} args.filterable\n * @param {Object[]} args.sourceOptions\n * @param {string[]} args.highlightedSourceOptions\n * @param {string[]} args.selected\n * @param {Function} args.onChange\n * @param {Function} args.setHighlightedSourceOptions\n * @returns void\n */\nexport const addIndividualSourceOptions = ({\n    filterable,\n    sourceOptions,\n    highlightedSourceOptions,\n    maxSelections,\n    onChange,\n    selected,\n    setHighlightedSourceOptions,\n}) => {\n    /**\n     * Creates a subset of the highlighted options to reflect a changed\n     * filter value in case previously highlighted options are now\n     * hidden.\n     *\n     * This enables us to keep items highlighted while searching for\n     * a particular one.\n     *\n     * With this subset we only select the subset when the user\n     * clicks the \"add individuals\" button\n     */\n    const filteredHighlightedSourceOptions = filterable\n        ? highlightedSourceOptions.filter(value =>\n              sourceOptions.find(\n                  filteredOption => filteredOption.value === value\n              )\n          )\n        : highlightedSourceOptions\n\n    const newSelected = filteredHighlightedSourceOptions.reduce(\n        (accumulatedSelected, value) => [\n            ...accumulatedSelected,\n            filteredHighlightedSourceOptions.find(\n                filteredHighlightedSourceOption =>\n                    filteredHighlightedSourceOption === value\n            ),\n        ],\n        selected\n    )\n\n    setHighlightedSourceOptions([])\n\n    /**\n     * This will extract from the end, hence the \"-1 *\"\n     * As the \"newest\" additions are always at the end of the array,\n     * it's safe to just take the last nth (depending on maxSelection)\n     * to always get the right ones\n     */\n    onChange({\n        selected: newSelected.slice(-1 * maxSelections),\n    })\n}\n","/**\n * @param {Object} args\n * @param {number} args.maxSelections\n * @param {string[]} args.selected\n * @param {Function} args.onChange\n * @param {Function} args.setHighlightedSourceOptions\n * @param {Function} args.setHighlightedPickedOptions\n * @returns void\n */\nexport const createDoubleClickHandlers = ({\n    maxSelections,\n    onChange,\n    selected,\n    setHighlightedPickedOptions,\n    setHighlightedSourceOptions,\n}) => {\n    const selectSingleOption = ({ value }) => {\n        const newSelected = selected.includes(value)\n            ? selected\n            : [...selected, value]\n\n        setHighlightedSourceOptions([])\n        onChange({ selected: newSelected.slice(-1 * maxSelections) })\n    }\n\n    const deselectSingleOption = ({ value }) => {\n        const newSelected = selected.filter(\n            curSelected => curSelected !== value\n        )\n\n        setHighlightedPickedOptions([])\n        onChange({ selected: newSelected })\n    }\n\n    return { selectSingleOption, deselectSingleOption }\n}\n","/**\n * @param {Object[]} options\n * @param {string} filter\n * @returns {Object[]}\n */\nexport const defaultFilterCallback = (options, filter) =>\n    filter === ''\n        ? options\n        : options.filter(({ label }) => label.match(new RegExp(filter, 'i')))\n","import { getModeByModifierKey } from '../common/index.js'\n\n/**\n * @param {Object} option\n * @param {Function} selectionHandler\n * @param {Function} toggleHighlightedOption\n * @returns {Object}\n */\nexport const getOptionClickHandlers = (\n    option,\n    selectionHandler,\n    toggleHighlightedOption\n) => ({\n    onClick: (_, event) => {\n        const mode = getModeByModifierKey(event)\n        toggleHighlightedOption({ option, mode })\n    },\n    onDoubleClick: selectionHandler,\n})\n","/**\n * @param {Object} args\n * @param {string} args.highlightedPickedOptions\n * @param {string[]} args.selected\n * @returns {bool}\n */\nexport const isReorderDownDisabled = ({ highlightedPickedOptions, selected }) =>\n    // only one item can be moved with the buttons\n    highlightedPickedOptions.length !== 1 ||\n    // can't move an item down if it's the last one\n    selected.indexOf(highlightedPickedOptions[0]) === selected.length - 1\n","/**\n * @param {Object} args\n * @param {string} args.highlightedPickedOptions\n * @param {string[]} args.selected\n * @returns {bool}\n */\nexport const isReorderUpDisabled = ({ highlightedPickedOptions, selected }) =>\n    // only one item can be moved with the buttons\n    highlightedPickedOptions.length !== 1 ||\n    // can't move an item up if it's the first one\n    selected.indexOf(highlightedPickedOptions[0]) === 0\n","/**\n * @param {Object} args\n * @param {string[]} args.selected\n * @param {string[]} args.highlightedPickedOptions\n * @param {Function} args.onChange\n * @returns {void}\n */\nexport const moveHighlightedPickedOptionDown = ({\n    selected,\n    highlightedPickedOptions,\n    onChange,\n}) => {\n    const optionIndex = selected.findIndex(\n        selectedOption => selectedOption === highlightedPickedOptions[0]\n    )\n\n    // Can't move down last or non-existing option\n    if (optionIndex === -1 || optionIndex > selected.length - 2) return\n\n    // swap with next item\n    const reordered = [\n        ...selected.slice(0, optionIndex),\n        selected[optionIndex + 1],\n        selected[optionIndex],\n        ...selected.slice(optionIndex + 2),\n    ]\n\n    onChange({ selected: reordered })\n}\n","/**\n * @param {Object} args\n * @param {string[]} args.selected\n * @param {string[]} args.highlightedPickedOptions\n * @param {Function} args.onChange\n * @returns {void}\n */\nexport const moveHighlightedPickedOptionUp = ({\n    selected,\n    highlightedPickedOptions,\n    onChange,\n}) => {\n    const optionIndex = selected.findIndex(\n        selectedOption => selectedOption === highlightedPickedOptions[0]\n    )\n\n    // Can't move up option at index 0 or non-existing option\n    if (optionIndex < 1) return\n\n    // swap with previous item\n    const reordered = [\n        ...selected.slice(0, optionIndex - 1),\n        selected[optionIndex],\n        selected[optionIndex - 1],\n        ...selected.slice(optionIndex + 1),\n    ]\n\n    onChange({ selected: reordered })\n}\n","/**\n * @param {Object} args\n * @param {Function} args.setHighlightedPickedOptions\n * @param {Function} args.onChange\n * @returns {void}\n */\nexport const removeAllPickedOptions = ({\n    setHighlightedPickedOptions,\n    onChange,\n}) => {\n    setHighlightedPickedOptions([])\n    onChange({ selected: [] })\n}\n","/**\n * @param {Object} args\n * @param {string[]} args.highlightedPickedOptions\n * @param {string[]} args.selected\n * @param {Function} args.setHighlightedPickedOptions\n * @param {Function} args.onChange\n * @returns {void}\n */\nexport const removeIndividualPickedOptions = ({\n    filterablePicked,\n    pickedOptions,\n    highlightedPickedOptions,\n    onChange,\n    selected,\n    setHighlightedPickedOptions,\n}) => {\n    /**\n     * Creates a subset of the highlighted options to reflect a changed\n     * filter value in case previously highlighted options are now\n     * hidden.\n     *\n     * This enables us to keep items highlighted while searching for\n     * a particular one.\n     *\n     * With this subset we only select the subset when the user\n     * clicks the \"add individuals\" button\n     */\n    const filteredHighlightedPickedOptions = filterablePicked\n        ? highlightedPickedOptions.filter(value =>\n              pickedOptions.find(\n                  filteredOption => filteredOption.value === value\n              )\n          )\n        : highlightedPickedOptions\n\n    const newSelected = selected.filter(\n        selectedOption =>\n            !filteredHighlightedPickedOptions.includes(selectedOption)\n    )\n\n    setHighlightedPickedOptions([])\n\n    /**\n     * as the maximum amount of selected items\n     * is already restricted through the selection mechanism,\n     * there's no need to handle `maxSelection` here\n     */\n    onChange({ selected: newSelected })\n}\n","import { useState } from 'react'\n\nconst identity = value => value\n\nexport const useFilter = ({\n    initialSearchTerm,\n    onFilterChange,\n    externalSearchTerm,\n    filterable,\n    filterCallback,\n}) => {\n    const [internalFilter, setInternalFilter] = useState(initialSearchTerm)\n    const filterValue = onFilterChange ? externalSearchTerm : internalFilter\n    const filter = filterable ? filterCallback : identity\n\n    return { filterValue, filter, setInternalFilter }\n}\n","import { toggleValue } from '../../common'\n\n/**\n * @param {Object} args\n * @param {number} args.maxSelections\n * @param {string[]} args.highlightedOptions\n * @param {Object} args.option\n * @param {Function} args.setHighlightedOption\n * @returns {void}\n */\nexport const toggleAdd = ({\n    highlightedOptions,\n    maxSelections,\n    option,\n    setHighlightedOptions,\n}) => {\n    const afterToggled = toggleValue(highlightedOptions, option.value)\n    const capped = afterToggled.slice(-1 * maxSelections)\n    setHighlightedOptions(capped)\n}\n","import { findOptionIndex } from '../../common/index.js'\n\n/**\n * @param {Object} args\n * @param {number} args.maxSelections\n * @param {string[]} args.highlightedOptions\n * @param {Object[]} args.options\n * @param {Object} args.option\n * @param {string} args.lastClicked\n * @param {Function} args.setHighlightedOption\n * @returns {void}\n */\nexport const toggleRange = ({\n    highlightedOptions,\n    options,\n    option,\n    setHighlightedOptions,\n    lastClicked,\n    maxSelections,\n}) => {\n    if (highlightedOptions.length === 0) {\n        setHighlightedOptions([option.value])\n    } else {\n        let from, to\n\n        const clickedOptionIndex = findOptionIndex(options, option)\n        const lastClickedSourceOptionWithoutRangeModeIndex = lastClicked\n            ? options.findIndex(curOption => curOption.value === lastClicked)\n            : -1\n\n        if (lastClickedSourceOptionWithoutRangeModeIndex !== -1) {\n            from = lastClickedSourceOptionWithoutRangeModeIndex\n            to = clickedOptionIndex\n        } else {\n            /**\n             * A filter-change has removed the most recently highlighted option\n             */\n            const firstHighlightedInList = options.findIndex(option =>\n                highlightedOptions.find(\n                    highlightedOption => highlightedOption === option.value\n                )\n            )\n\n            from = firstHighlightedInList\n            to = clickedOptionIndex\n        }\n\n        // this is so we can also selected\n        // a range of options above \"from\" option.\n        // -> Just how slice works ;)\n        const lower = Math.min(from, to)\n        const higher = Math.max(from, to)\n        const newHighlightedSourceOptions = options\n            .slice(lower, higher + 1)\n            .filter(option => !option.disabled)\n            .slice(maxSelections * -1)\n            .map(({ value }) => value)\n\n        setHighlightedOptions(newHighlightedSourceOptions)\n    }\n}\n","/**\n * @param {Object} args\n * @param {string[]} args.highlightedOptions\n * @param {Object} args.option\n * @param {Function} args.setHighlightedOption\n * @returns {void}\n */\nexport const toggleReplace = ({\n    option,\n    highlightedOptions,\n    setHighlightedOptions,\n}) => {\n    if (highlightedOptions.length > 1) {\n        setHighlightedOptions([option.value])\n    } else {\n        const optionIndex = highlightedOptions.findIndex(\n            highlightedOption => highlightedOption === option.value\n        )\n\n        if (optionIndex === -1) {\n            setHighlightedOptions([option.value])\n        } else {\n            setHighlightedOptions([])\n        }\n    }\n}\n","import { ADD_MODE, RANGE_MODE } from '../../common/index.js'\nimport { toggleAdd } from './toggleAdd.js'\nimport { toggleRange } from './toggleRange.js'\nimport { toggleReplace } from './toggleReplace.js'\n\n/**\n * @param {Object} args\n * @param {bool} args.disabled\n * @param {string[]} args.highlightedOptions\n * @param {Function} args.setHighlightedOptions\n * @param {number} args.maxSelections\n * @param {Function} args.setLastClicked\n * @param {Object[]} args.options\n * @param {string} args.lastClicked\n * @returns {void}\n */\nexport const createToggleHighlightedOption = ({\n    disabled,\n    highlightedOptions,\n    setHighlightedOptions,\n    maxSelections,\n    setLastClicked,\n    options,\n    lastClicked,\n}) => ({ option, mode }) => {\n    if (disabled) return\n\n    setHighlightedOptions([])\n\n    if (mode === ADD_MODE) {\n        setLastClicked(option.value)\n\n        return toggleAdd({\n            highlightedOptions,\n            maxSelections,\n            option,\n            setHighlightedOptions,\n        })\n    }\n\n    if (mode === RANGE_MODE) {\n        return toggleRange({\n            highlightedOptions,\n            options,\n            option,\n            setHighlightedOptions,\n            lastClicked,\n            maxSelections,\n        })\n    }\n\n    // REPLACE_MODE\n    setLastClicked(option.value)\n\n    return toggleReplace({\n        option,\n        highlightedOptions,\n        setHighlightedOptions,\n    })\n}\n","import { useState } from 'react'\n\nimport { createToggleHighlightedOption } from './useHighlightedOptions/createToggleHighlightedOption.js'\n\n/**\n * @param {Object} args\n * @param {bool} args.disabled\n * @param {number} args.maxSelection\n * @param {Object[]} args.options\n * @returns {Object} highlighted options & helpers\n */\nexport const useHighlightedOptions = ({ disabled, maxSelections, options }) => {\n    /**\n     * These are important so the stored element can be used\n     * as range-start when using shift multiple times consecutively\n     */\n    const [lastClicked, setLastClicked] = useState(null)\n    const [highlightedOptions, setHighlightedOptions] = useState([])\n\n    const toggleHighlightedOption = createToggleHighlightedOption({\n        disabled,\n        highlightedOptions,\n        setHighlightedOptions,\n        maxSelections,\n        setLastClicked,\n        options,\n        lastClicked,\n    })\n\n    return {\n        highlightedOptions,\n        setHighlightedOptions,\n        toggleHighlightedOption,\n    }\n}\n","import React from 'react'\nimport propTypes from '@dhis2/prop-types'\n\nimport { Actions } from './Actions.js'\nimport { AddAll } from './AddAll.js'\nimport { AddIndividual } from './AddIndividual.js'\nimport { Container } from './Container.js'\nimport { Filter } from './Filter.js'\nimport { LeftFooter } from './LeftFooter.js'\nimport { LeftHeader } from './LeftHeader.js'\nimport { LeftSide } from './LeftSide.js'\nimport { OptionsContainer } from './OptionsContainer.js'\nimport { RemoveAll } from './RemoveAll.js'\nimport { RemoveIndividual } from './RemoveIndividual.js'\nimport { ReorderingActions } from './ReorderingActions.js'\nimport { RightHeader } from './RightHeader.js'\nimport { RightFooter } from './RightFooter.js'\nimport { RightSide } from './RightSide.js'\nimport { TransferOption } from './TransferOption.js'\nimport {\n    addAllSelectableSourceOptions,\n    addIndividualSourceOptions,\n    createDoubleClickHandlers,\n    defaultFilterCallback,\n    getOptionClickHandlers,\n    isReorderDownDisabled,\n    isReorderUpDisabled,\n    moveHighlightedPickedOptionDown,\n    moveHighlightedPickedOptionUp,\n    removeAllPickedOptions,\n    removeIndividualPickedOptions,\n    useFilter,\n    useHighlightedOptions,\n} from './Transfer/index.js'\n\nconst identity = value => value\n\n/**\n * @module\n * @param {Transfer.PropTypes} props\n *\n * @returns {React.Component}\n *\n * @example import { Transfer } from @dhis2/ui-core\n * @see Specification: {@link https://github.com/dhis2/design-system/blob/master/organisms/transfer.md|Design system}\n * @see Live demo: {@link /demo/?path=/story/transfer--basic|Storybook}\n *\n * This component has to differentiate between different types of options,\n * here's an explanation of their meaning:\n *\n * * source options -> These are options listed on the left and are available\n * for selection\n *\n * * picked options -> These options have been selected by the user and are on\n * the right side\n *\n * * highlighted option -> These are visually highlighted options than can be\n * on either side and are ready for transferral with the action buttons to the\n * other side\n *\n * * filtered options -> These are the displayed source options filtered\n * by a search term or a custom search algorithm.\n *\n * The api surface uses \"selected\" for \"picked\" to be consistent with the\n * rest of the library\n */\nexport const Transfer = ({\n    options,\n    onChange,\n\n    addAllText,\n    addIndividualText,\n    className,\n    dataTest,\n    disabled,\n    enableOrderChange,\n    filterCallback,\n    filterCallbackPicked,\n    filterLabel,\n    filterLabelPicked,\n    filterPlaceholder,\n    filterPlaceholderPicked,\n    filterable,\n    filterablePicked,\n    height,\n    hideFilterInput,\n    hideFilterInputPicked,\n    initialSearchTerm,\n    initialSearchTermPicked,\n    leftFooter,\n    leftHeader,\n    loadingPicked,\n    loading,\n    maxSelections,\n    optionsWidth,\n    removeAllText,\n    removeIndividualText,\n    renderOption,\n    rightFooter,\n    rightHeader,\n    searchTerm,\n    searchTermPicked,\n    selected,\n    selectedEmptyComponent,\n    selectedWidth,\n    sourceEmptyPlaceholder,\n    onFilterChange,\n    onFilterChangePicked,\n    onEndReached,\n    onEndReachedPicked,\n}) => {\n    /* Source options search value:\n     * Depending on whether the onFilterChange callback has been provided\n     * either the internal or external search value is used */\n    const {\n        filterValue: actualFilter,\n        filter: actualFilterCallback,\n        setInternalFilter,\n    } = useFilter({\n        initialSearchTerm,\n        onFilterChange,\n        externalSearchTerm: searchTerm,\n        filterable,\n        filterCallback,\n    })\n\n    /*\n     * Actual source options:\n     * Extract the not-selected options.\n     * Filters options if filterable is true.\n     */\n    const sourceOptions = actualFilterCallback(\n        options.filter(({ value }) => !selected.includes(value)),\n        actualFilter\n    )\n\n    /*\n     * Picked options highlighting:\n     * These are all the highlighted options on the options side.\n     */\n    const {\n        highlightedOptions: highlightedSourceOptions,\n        setHighlightedOptions: setHighlightedSourceOptions,\n        toggleHighlightedOption: toggleHighlightedSourceOption,\n    } = useHighlightedOptions({\n        options: sourceOptions,\n        disabled,\n        maxSelections,\n    })\n\n    /* Picked options search value:\n     * Depending on whether the onFilterChangePicked callback has been provided\n     * either the internal or external search value is used */\n    const {\n        filterValue: actualFilterPicked,\n        filter: actualFilterPickedCallback,\n        setInternalFilter: setInternalFilterPicked,\n    } = useFilter({\n        filterable: filterablePicked,\n        initialSearchTerm: initialSearchTermPicked,\n        onFilterChange: onFilterChangePicked,\n        externalSearchTerm: searchTermPicked,\n        filterCallback: filterCallbackPicked,\n    })\n\n    /*\n     * Actual picked options:\n     * Extract the selected options. Can't use `options.filter`\n     * because we need to keep the order of `selected`\n     */\n    const pickedOptions = actualFilterPickedCallback(\n        selected\n            .map(value => options.find(option => value === option.value))\n            // filter -> in case a selected value has been provided\n            // that does not exist as option\n            .filter(identity),\n        actualFilterPicked\n    )\n\n    /*\n     * Source options highlighting:\n     * These are all the highlighted options on the selected side.\n     */\n    const {\n        highlightedOptions: highlightedPickedOptions,\n        setHighlightedOptions: setHighlightedPickedOptions,\n        toggleHighlightedOption: toggleHighlightedPickedOption,\n    } = useHighlightedOptions({\n        options: pickedOptions,\n        disabled,\n        maxSelections,\n    })\n\n    /*\n     * Source & Picked options:\n     * These are the double click handlers for (de-)selection\n     */\n    const {\n        selectSingleOption,\n        deselectSingleOption,\n    } = createDoubleClickHandlers({\n        selected,\n        setHighlightedSourceOptions,\n        setHighlightedPickedOptions,\n        onChange,\n        maxSelections,\n    })\n\n    /**\n     * Disabled button states\n     */\n    const isAddAllDisabled =\n        disabled ||\n        sourceOptions.filter(({ disabled }) => !disabled).length === 0\n    const isAddIndividualDisabled = disabled || !highlightedSourceOptions.length\n    const isRemoveAllDisabled = disabled || !selected.length\n    const isRemoveIndividualDisabled =\n        disabled || !highlightedPickedOptions.length\n\n    return (\n        <Container dataTest={dataTest} className={className} height={height}>\n            <LeftSide dataTest={`${dataTest}-leftside`} width={optionsWidth}>\n                {(leftHeader || filterable) && (\n                    <LeftHeader dataTest={`${dataTest}-leftheader`}>\n                        {leftHeader}\n\n                        {filterable && !hideFilterInput && (\n                            <Filter\n                                label={filterLabel}\n                                placeholder={filterPlaceholder}\n                                dataTest={`${dataTest}-filter`}\n                                filter={actualFilter}\n                                onChange={\n                                    onFilterChange\n                                        ? onFilterChange\n                                        : ({ value }) =>\n                                              setInternalFilter(value)\n                                }\n                            />\n                        )}\n                    </LeftHeader>\n                )}\n\n                <OptionsContainer\n                    dataTest={`${dataTest}-sourceoptions`}\n                    emptyComponent={sourceEmptyPlaceholder}\n                    getOptionClickHandlers={getOptionClickHandlers}\n                    highlightedOptions={highlightedSourceOptions}\n                    loading={loading}\n                    options={sourceOptions}\n                    renderOption={renderOption}\n                    selectionHandler={selectSingleOption}\n                    toggleHighlightedOption={toggleHighlightedSourceOption}\n                    onEndReached={onEndReached}\n                />\n\n                {leftFooter && (\n                    <LeftFooter dataTest={`${dataTest}-leftfooter`}>\n                        {leftFooter}\n                    </LeftFooter>\n                )}\n            </LeftSide>\n\n            <Actions dataTest={`${dataTest}-actions`}>\n                {maxSelections === Infinity && (\n                    <AddAll\n                        label={addAllText}\n                        dataTest={`${dataTest}-actions-addall`}\n                        disabled={isAddAllDisabled}\n                        onClick={() =>\n                            addAllSelectableSourceOptions({\n                                sourceOptions,\n                                selected,\n                                onChange,\n                                setHighlightedSourceOptions,\n                            })\n                        }\n                    />\n                )}\n\n                <AddIndividual\n                    label={addIndividualText}\n                    dataTest={`${dataTest}-actions-addindividual`}\n                    disabled={isAddIndividualDisabled}\n                    onClick={() =>\n                        addIndividualSourceOptions({\n                            filterable,\n                            sourceOptions,\n                            highlightedSourceOptions,\n                            selected,\n                            maxSelections,\n                            onChange,\n                            setHighlightedSourceOptions,\n                        })\n                    }\n                />\n\n                {maxSelections === Infinity && (\n                    <RemoveAll\n                        label={removeAllText}\n                        dataTest={`${dataTest}-actions-removeall`}\n                        disabled={isRemoveAllDisabled}\n                        onClick={() =>\n                            removeAllPickedOptions({\n                                setHighlightedPickedOptions,\n                                onChange,\n                            })\n                        }\n                    />\n                )}\n\n                <RemoveIndividual\n                    label={removeIndividualText}\n                    dataTest={`${dataTest}-actions-removeindividual`}\n                    disabled={isRemoveIndividualDisabled}\n                    onClick={() =>\n                        removeIndividualPickedOptions({\n                            filterablePicked,\n                            pickedOptions,\n                            highlightedPickedOptions,\n                            onChange,\n                            selected,\n                            setHighlightedPickedOptions,\n                        })\n                    }\n                />\n            </Actions>\n\n            <RightSide dataTest={`${dataTest}-rightside`} width={selectedWidth}>\n                {(rightHeader || filterablePicked) && (\n                    <RightHeader dataTest={`${dataTest}-rightheader`}>\n                        {rightHeader}\n\n                        {filterablePicked && !hideFilterInputPicked && (\n                            <Filter\n                                label={filterLabelPicked}\n                                placeholder={filterPlaceholderPicked}\n                                dataTest={`${dataTest}-filter`}\n                                filter={actualFilterPicked}\n                                onChange={\n                                    onFilterChangePicked\n                                        ? onFilterChangePicked\n                                        : ({ value }) =>\n                                              setInternalFilterPicked(value)\n                                }\n                            />\n                        )}\n                    </RightHeader>\n                )}\n\n                <OptionsContainer\n                    dataTest={`${dataTest}-pickedoptions`}\n                    emptyComponent={selectedEmptyComponent}\n                    getOptionClickHandlers={getOptionClickHandlers}\n                    highlightedOptions={highlightedPickedOptions}\n                    loading={loadingPicked}\n                    options={pickedOptions}\n                    renderOption={renderOption}\n                    selectionHandler={deselectSingleOption}\n                    toggleHighlightedOption={toggleHighlightedPickedOption}\n                    onEndReached={onEndReachedPicked}\n                />\n\n                {(rightFooter || enableOrderChange) && (\n                    <RightFooter dataTest={`${dataTest}-rightfooter`}>\n                        {enableOrderChange && (\n                            <ReorderingActions\n                                dataTest={`${dataTest}-reorderingactions`}\n                                disabledDown={isReorderDownDisabled({\n                                    highlightedPickedOptions,\n                                    selected,\n                                })}\n                                disabledUp={isReorderUpDisabled({\n                                    highlightedPickedOptions,\n                                    selected,\n                                })}\n                                onChangeUp={() =>\n                                    moveHighlightedPickedOptionUp({\n                                        selected,\n                                        highlightedPickedOptions,\n                                        onChange,\n                                    })\n                                }\n                                onChangeDown={() => {\n                                    moveHighlightedPickedOptionDown({\n                                        selected,\n                                        highlightedPickedOptions,\n                                        onChange,\n                                    })\n                                }}\n                            />\n                        )}\n\n                        {rightFooter}\n                    </RightFooter>\n                )}\n            </RightSide>\n        </Container>\n    )\n}\n\nconst defaultRenderOption = option => <TransferOption {...option} />\n\nTransfer.defaultProps = {\n    dataTest: 'dhis2-uicore-transfer',\n    height: '240px',\n    initialSearchTerm: '',\n    initialSearchTermPicked: '',\n    maxSelections: Infinity,\n    optionsWidth: '320px',\n    renderOption: defaultRenderOption,\n    selected: [],\n    selectedWidth: '320px',\n    filterCallback: defaultFilterCallback,\n    filterCallbackPicked: defaultFilterCallback,\n}\n\n/**\n * @typedef {Object} PropTypes\n * @static\n *\n * @prop {Function} onChange\n * @prop {string} [addAllText]\n * @prop {string} [addIndividualText]\n * @prop {Node} [children]\n * @prop {string} [className]\n * @prop {string} [dataTest]\n * @prop {Node} [sourceEmptyPlaceholder]\n * @prop {Node} [selectedEmptyComponent]\n * @prop {bool} [hideFilterInput] Automatically true when \"hideFilterInput\" is true\n * @prop {bool} [enableOrderChange]\n * @prop {string} [filterLabel]\n * @prop {string} [filterPlaceholder]\n * @prop {Function} [filterCallback]\n * @prop {string} [height]\n * @prop {bool} [hideFilterInput]\n * @prop {string} [initialSearchTerm]\n * @prop {Node} [leftFooter]\n * @prop {Node} [leftHeader]\n * @prop {1|Infinity} maxSelections\n * @prop {string} [optionsWidth]\n * @prop {string} [removeAllText]\n * @prop {string} [removeIndividualText]\n * @prop {Node} [rightHeader]\n * @prop {Node} [rightFooter]\n * @prop {string} [searchTerm]\n * @prop {string[]} selected\n * @prop {string} [selectedWidth]\n * @prop {Function} [onFilterChange]\n */\nTransfer.propTypes = {\n    options: propTypes.arrayOf(\n        propTypes.shape({\n            label: propTypes.string.isRequired,\n            value: propTypes.string.isRequired,\n            disabled: propTypes.bool,\n        })\n    ).isRequired,\n    onChange: propTypes.func.isRequired,\n\n    addAllText: propTypes.string,\n    addIndividualText: propTypes.string,\n    className: propTypes.string,\n    dataTest: propTypes.string,\n    disabled: propTypes.bool,\n    enableOrderChange: propTypes.bool,\n    filterCallback: propTypes.func,\n    filterCallbackPicked: propTypes.func,\n    filterLabel: propTypes.string,\n    filterLabelPicked: propTypes.string,\n    filterPlaceholder: propTypes.string,\n    filterPlaceholderPicked: propTypes.string,\n    filterable: propTypes.bool,\n    filterablePicked: propTypes.bool,\n    height: propTypes.string,\n    hideFilterInput: propTypes.bool,\n    hideFilterInputPicked: propTypes.bool,\n    initialSearchTerm: propTypes.string,\n    initialSearchTermPicked: propTypes.string,\n    leftFooter: propTypes.node,\n    leftHeader: propTypes.node,\n    loading: propTypes.bool,\n    loadingPicked: propTypes.bool,\n    maxSelections: propTypes.oneOf([1, Infinity]),\n    optionsWidth: propTypes.string,\n    removeAllText: propTypes.string,\n    removeIndividualText: propTypes.string,\n    renderOption: propTypes.func,\n    rightFooter: propTypes.node,\n    rightHeader: propTypes.node,\n    searchTerm: propTypes.string,\n    searchTermPicked: propTypes.string,\n    selected: propTypes.arrayOf(propTypes.string),\n    selectedEmptyComponent: propTypes.node,\n    selectedWidth: propTypes.string,\n    sourceEmptyPlaceholder: propTypes.node,\n    onEndReached: propTypes.func,\n    onEndReachedPicked: propTypes.func,\n    onFilterChange: propTypes.func,\n    onFilterChangePicked: propTypes.func,\n}\n"],"names":["InputField","React","Component","render","className","onChange","onFocus","onBlur","initialFocus","type","dense","required","label","disabled","readOnly","placeholder","name","valid","error","warning","loading","value","tabIndex","helpText","validationText","inputWidth","dataTest","props","defaultProps","propTypes","string","bool","sharedPropTypes","statusPropType","Input","func","joinPath","parts","realParts","filter","part","map","replace","join","appIcon","colors","white","settingsIcon","grey900","escapeRegExpCharacters","text","Search","baseUrl","useConfig","i18n","t","styles","isRequired","Item","path","img","theme","primary050","List","apps","displayName","appName","formattedAppName","toLowerCase","formattedFilter","length","match","defaultAction","icon","idx","array","Apps","show","evt","elContainer","contains","target","setState","state","componentDidMount","document","addEventListener","onDocClick","componentWillUnmount","removeEventListener","c","onToggle","AppsIcon","AppMenu","ImageIcon","src","onClick","dataTestId","undefined","TextIcon","title","indexOf","split","ProfileName","children","ProfileEmail","ProfileEdit","ProfileDetails","email","ProfileHeader","iconStyle","grey700","getMenuList","link","nobase","ProfileContents","avatar","element","ProfileMenu","avatarPath","id","Profile","userIcon","me","user","object","logoStyles","query","customLogo","resource","pathExists","data","images","png","LogoImage","useDataQuery","Logo","Title","app","instance","messageIcon","interpretationIcon","kind","NotificationIcon","count","href","secondary300","number","oneOf","hasAuthority","userAuthorities","authId","Array","isArray","some","userAuthId","Notifications","interpretations","messages","arrayOf","notifications","HeaderBar","useMemo","getPath","startsWith","modules","locale","settings","keyUiLocale","setDefaultNamespace","changeLanguage","applicationTitle","unreadInterpretations","unreadMessageConversations","authorities","ErrorMessage","grey800","spacers","dp4","any","UNIT_ID_PATTERN","orgUnitPathPropType","propValue","key","compName","location","propFullName","RegExp","test","Error","DisabledSelectionLabel","onToggleOpen","SingleSelectionLabel","checked","event","payload","teal700","cx","LabelContainer","highlighted","teal200","node","Icon","hasChildren","open","IconizedCheckbox","indeterminate","checkboxLabel","createNewSelected","selected","singleSelection","pathIndex","slice","prevSlice","nextSlice","Label","disableSelection","hasSelectedDescendants","newSelected","isPathIncluded","includedPaths","isIncluded","includedPath","computeChildNodes","child","hasDescendantSelectedPaths","selectedPath","useOpenState","expanded","onExpand","onCollapse","errorMessage","autoExpandLoadingError","autoExpand","openedOnceDueToError","setOpenedOnce","useState","setOpen","includes","useEffect","newOpen","fromEntries","entries","reduce","collection","withChildrenFields","withoutChildrenFields","createOrgUnitQuery","params","withChildren","isUserDataViewFallback","fields","paging","createQuery","ids","addMissingDisplayNameProps","nodes","nodeEntries","Object","nodesWithDisplayName","useOrgData","variables","refetch","loadingSpinnerStyles","LoadingSpinner","OrganisationUnitNode","onChildrenLoaded","childNodes","isHighlighted","toString","isSelected","showPlaceholder","showChildNodes","childPath","grandChildNodes","RootError","RootLoading","extractAllPathsFromPath","segments","withSubPaths","segment","index","getInitiallyExpandedPaths","initiallyExpanded","all","curPath","allPathsInCurPath","createExpandHandlers","setExpanded","handleExpand","rest","handleCollapse","updatedExpanded","useExpanded","allInitiallyExpandedPaths","useForceReload","forceReload","reloadId","setReloadId","OrganisationUnitTree","roots","rootIds","rootId","rootNode","rootPath","oneOfType","AddRequired","CheckboxField","FieldGroup","translate","prop","FileInputField","accept","buttonLabel","large","multiple","small","sizePropType","MultiSelectField","maxHeight","inputMaxHeight","clearable","clearText","filterable","filterPlaceholder","prefix","empty","loadingText","noMatchText","SingleSelectField","SwitchField","TextAreaField","autoGrow","resize","rows","width","Actions","dp8","centerButtonStyles","IconAddAll","IconAddIndividual","IconRemoveAll","IconRemoveIndividual","IconMoveDown","IconMoveUp","AddAll","AddIndividual","Container","height","Filter","REPLACE_MODE","ADD_MODE","RANGE_MODE","borderColor","grey400","borderRadius","isOption","left","right","findOptionIndex","options","option","findIndex","current","getModeByModifierKey","altKey","shiftKey","ctrlKey","metaKey","keys","amountKeyPressed","v","moreThanOneKeyPressed","toggleValue","values","LeftFooter","LeftHeader","LeftSide","EndIntersectionDetector","rootRef","onEndReached","isIntersecting","shape","instanceOf","HTMLElement","OptionsContainer","emptyComponent","getOptionClickHandlers","highlightedOptions","renderOption","selectionHandler","toggleHighlightedOption","remountCounter","setRemountCounter","resizeObserver","setResizeObserver","optionsRef","useRef","wrapperRef","firstCall","observer","ResizeObserver","newCounter","observe","disconnect","find","highlightedSourceOption","RemoveAll","RemoveIndividual","ReorderingActions","disabledDown","disabledUp","onChangeUp","onChangeDown","RightHeader","RightFooter","RightSide","DOUBLE_CLICK_MAX_DELAY","TransferOption","onDoubleClick","doubleClickTimeout","clearTimeout","setTimeout","grey200","grey600","addAllSelectableSourceOptions","sourceOptions","setHighlightedSourceOptions","enabledSourceOptions","accumulatedSelected","enabledSourceOption","addIndividualSourceOptions","highlightedSourceOptions","maxSelections","filteredHighlightedSourceOptions","filteredOption","filteredHighlightedSourceOption","createDoubleClickHandlers","setHighlightedPickedOptions","selectSingleOption","deselectSingleOption","curSelected","defaultFilterCallback","_","mode","isReorderDownDisabled","highlightedPickedOptions","isReorderUpDisabled","moveHighlightedPickedOptionDown","optionIndex","selectedOption","reordered","moveHighlightedPickedOptionUp","removeAllPickedOptions","removeIndividualPickedOptions","filterablePicked","pickedOptions","filteredHighlightedPickedOptions","identity","useFilter","initialSearchTerm","onFilterChange","externalSearchTerm","filterCallback","internalFilter","setInternalFilter","filterValue","toggleAdd","setHighlightedOptions","afterToggled","capped","toggleRange","lastClicked","from","to","clickedOptionIndex","lastClickedSourceOptionWithoutRangeModeIndex","curOption","firstHighlightedInList","highlightedOption","lower","Math","min","higher","max","newHighlightedSourceOptions","toggleReplace","createToggleHighlightedOption","setLastClicked","useHighlightedOptions","Transfer","addAllText","addIndividualText","enableOrderChange","filterCallbackPicked","filterLabel","filterLabelPicked","filterPlaceholderPicked","hideFilterInput","hideFilterInputPicked","initialSearchTermPicked","leftFooter","leftHeader","loadingPicked","optionsWidth","removeAllText","removeIndividualText","rightFooter","rightHeader","searchTerm","searchTermPicked","selectedEmptyComponent","selectedWidth","sourceEmptyPlaceholder","onFilterChangePicked","onEndReachedPicked","actualFilter","actualFilterCallback","toggleHighlightedSourceOption","actualFilterPicked","actualFilterPickedCallback","setInternalFilterPicked","toggleHighlightedPickedOption","isAddAllDisabled","isAddIndividualDisabled","isRemoveAllDisabled","isRemoveIndividualDisabled","Infinity","defaultRenderOption"],"mappings":"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"}